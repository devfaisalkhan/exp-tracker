import{b as i}from"./chunk-7SCPLULR.js";import{T as r,X as s}from"./chunk-XBWGRGMV.js";var a=class n{constructor(t){this.storageService=t;this.listenForInstallPrompt(),this.checkStandaloneMode()}deferredPrompt=null;isStandalone=!1;listenForInstallPrompt(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.deferredPrompt=t}),window.addEventListener("appinstalled",()=>{this.deferredPrompt=null})}checkStandaloneMode(){this.isStandalone=window.matchMedia("(display-mode: standalone)").matches||navigator.standalone||document.referrer.includes("android-app://")}showInstallPrompt(){if(this.deferredPrompt)return this.deferredPrompt.prompt();this.hasShownInstallInstructions()||(this.showManualInstallInstructions(),this.setInstallInstructionsShown())}showManualInstallInstructions(){let t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),o=/Android/.test(t);alert(e?`To install this app on iOS:
1. Tap the Share button (box with arrow)
2. Select "Add to Home Screen"
3. Tap "Add"`:o?`To install this app on Android:
1. Tap the menu button (3 dots)
2. Select "Install app" or "Add to home screen"`:`To install this app:
1. Look for the install icon in the address bar
2. Or look for "Install" option in the browser menu (3 dots)`)}isInstallable(){return this.deferredPrompt!==null&&!this.isStandalone}getDeferredPrompt(){return this.deferredPrompt}async getInstallPromptResult(){if(this.deferredPrompt){let t=await this.deferredPrompt.userChoice;return this.deferredPrompt=null,t}return null}isInStandaloneMode(){return this.isStandalone||window.matchMedia("(display-mode: standalone)").matches||navigator.standalone||document.referrer.includes("android-app://")}canInstall(){let t="serviceWorker"in navigator&&"PushManager"in window,e=!this.isInStandaloneMode();return t&&e}getInstallInstructions(){let t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),o=/Android/.test(t);return e?'To install on iOS: Tap the Share button (box with arrow) \u2192 "Add to Home Screen" \u2192 "Add"':o?'To install on Android: Tap the menu button (3 dots) \u2192 "Install app" or "Add to home screen"':"To install: Look for the install icon in the address bar or browser menu"}hasShownInstallInstructions(){return this.storageService.getItem("installInstructionsShown")==="true"}setInstallInstructionsShown(){this.storageService.setItem("installInstructionsShown","true")}resetInstallInstructions(){this.storageService.removeItem("installInstructionsShown")}static \u0275fac=function(e){return new(e||n)(s(i))};static \u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})};export{a};
