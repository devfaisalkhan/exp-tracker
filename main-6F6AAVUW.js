import{a as Li}from"./chunk-765TVN3D.js";import{a as ki,b as Mi,c as Ee,d as Bt,e as Te,f as Ie,g as Si,h as Ai,i as ke}from"./chunk-TP53DRHC.js";import{a as Ri,c as Di,e as Ni,o as Pi}from"./chunk-5LWZCCKS.js";import{a as xn,b as Oi}from"./chunk-I2NHPZV3.js";import{a as Me}from"./chunk-TPYMUZGW.js";import{$a as bn,Ab as vi,Bb as yn,C as ai,Ca as j,E as pt,Eb as _i,Ia as A,Ja as V,Jb as yi,Ka as Nt,Kb as xi,L as oi,M as ri,Ma as H,N as qt,O as si,Oa as tt,Pa as Zt,Q as Tt,R as ci,T as F,Ta as fi,U as B,Va as pn,W as xe,Wb as ft,X as Qt,Xa as _,Xb as ht,Y as R,Ya as b,Yb as gt,Z as li,Za as f,Zb as Ci,_ as di,_a as C,_b as wi,a as ei,ab as fn,ac as Ei,bb as hn,bc as Ti,c as Ka,ca as M,cb as X,d as $a,da as S,db as D,dc as Z,e as _e,ea as mn,eb as hi,fa as mi,fb as L,g as Rt,gb as Pt,hb as Lt,hc as Ii,j as Dt,ja as ui,jb as Ft,k as ye,kb as It,lb as kt,mb as Jt,oa as un,ob as bt,pb as x,qb as et,r as ot,rb as gi,s as ni,sa as pi,ta as bi,tb as gn,ub as vn,v as ii,vb as _n,xa as h,xb as Ce,y as ut,z as Xt,zb as we}from"./chunk-HLGRTS6A.js";var da=Ka((Xc,qe)=>{"use strict";(function(t,i,e,o){"use strict";var r=["","webkit","Moz","MS","ms","o"],l=i.createElement("div"),d="function",p=Math.round,g=Math.abs,w=Date.now;function U(n,a,s){return setTimeout(Qe(n,s),a)}function K(n,a,s){return Array.isArray(n)?(y(n,s[a],s),!0):!1}function y(n,a,s){var c;if(n)if(n.forEach)n.forEach(a,s);else if(n.length!==o)for(c=0;c<n.length;)a.call(s,n[c],c,n),c++;else for(c in n)n.hasOwnProperty(c)&&a.call(s,n[c],c,n)}function E(n,a,s){var c="DEPRECATED METHOD: "+a+`
`+s+` AT 
`;return function(){var m=new Error("get-stack-trace"),u=m&&m.stack?m.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",v=t.console&&(t.console.warn||t.console.log);return v&&v.call(t.console,c,u),n.apply(this,arguments)}}var T;typeof Object.assign!="function"?T=function(a){if(a===o||a===null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(a),c=1;c<arguments.length;c++){var m=arguments[c];if(m!==o&&m!==null)for(var u in m)m.hasOwnProperty(u)&&(s[u]=m[u])}return s}:T=Object.assign;var st=E(function(a,s,c){for(var m=Object.keys(s),u=0;u<m.length;)(!c||c&&a[m[u]]===o)&&(a[m[u]]=s[m[u]]),u++;return a},"extend","Use `assign`."),ma=E(function(a,s){return st(a,s,!0)},"merge","Use `assign`.");function $(n,a,s){var c=a.prototype,m;m=n.prototype=Object.create(c),m.constructor=n,m._super=c,s&&T(m,s)}function Qe(n,a){return function(){return n.apply(a,arguments)}}function Ze(n,a){return typeof n==d?n.apply(a&&a[0]||o,a):n}function On(n,a){return n===o?a:n}function ae(n,a,s){y(re(a),function(c){n.addEventListener(c,s,!1)})}function oe(n,a,s){y(re(a),function(c){n.removeEventListener(c,s,!1)})}function Rn(n,a){for(;n;){if(n==a)return!0;n=n.parentNode}return!1}function xt(n,a){return n.indexOf(a)>-1}function re(n){return n.trim().split(/\s+/g)}function At(n,a,s){if(n.indexOf&&!s)return n.indexOf(a);for(var c=0;c<n.length;){if(s&&n[c][s]==a||!s&&n[c]===a)return c;c++}return-1}function se(n){return Array.prototype.slice.call(n,0)}function Dn(n,a,s){for(var c=[],m=[],u=0;u<n.length;){var v=a?n[u][a]:n[u];At(m,v)<0&&c.push(n[u]),m[u]=v,u++}return s&&(a?c=c.sort(function(P,Y){return P[a]>Y[a]}):c=c.sort()),c}function ce(n,a){for(var s,c,m=a[0].toUpperCase()+a.slice(1),u=0;u<r.length;){if(s=r[u],c=s?s+m:a,c in n)return c;u++}return o}var ua=1;function pa(){return ua++}function Nn(n){var a=n.ownerDocument||n;return a.defaultView||a.parentWindow||t}var ba=/mobile|tablet|ip(ad|hone|od)|android/i,Pn="ontouchstart"in t,fa=ce(t,"PointerEvent")!==o,ha=Pn&&ba.test(navigator.userAgent),Ht="touch",ga="pen",Je="mouse",va="kinect",_a=25,z=1,Ct=2,k=4,G=8,le=1,Ut=2,zt=4,Yt=8,Wt=16,nt=Ut|zt,wt=Yt|Wt,Ln=nt|wt,Fn=["x","y"],de=["clientX","clientY"];function q(n,a){var s=this;this.manager=n,this.callback=a,this.element=n.element,this.target=n.options.inputTarget,this.domHandler=function(c){Ze(n.options.enable,[n])&&s.handler(c)},this.init()}q.prototype={handler:function(){},init:function(){this.evEl&&ae(this.element,this.evEl,this.domHandler),this.evTarget&&ae(this.target,this.evTarget,this.domHandler),this.evWin&&ae(Nn(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&oe(this.element,this.evEl,this.domHandler),this.evTarget&&oe(this.target,this.evTarget,this.domHandler),this.evWin&&oe(Nn(this.element),this.evWin,this.domHandler)}};function ya(n){var a,s=n.options.inputClass;return s?a=s:fa?a=en:ha?a=pe:Pn?a=nn:a=ue,new a(n,xa)}function xa(n,a,s){var c=s.pointers.length,m=s.changedPointers.length,u=a&z&&c-m===0,v=a&(k|G)&&c-m===0;s.isFirst=!!u,s.isFinal=!!v,u&&(n.session={}),s.eventType=a,Ca(n,s),n.emit("hammer.input",s),n.recognize(s),n.session.prevInput=s}function Ca(n,a){var s=n.session,c=a.pointers,m=c.length;s.firstInput||(s.firstInput=Bn(a)),m>1&&!s.firstMultiple?s.firstMultiple=Bn(a):m===1&&(s.firstMultiple=!1);var u=s.firstInput,v=s.firstMultiple,O=v?v.center:u.center,P=a.center=jn(c);a.timeStamp=w(),a.deltaTime=a.timeStamp-u.timeStamp,a.angle=tn(O,P),a.distance=me(O,P),wa(s,a),a.offsetDirection=Hn(a.deltaX,a.deltaY);var Y=Vn(a.deltaTime,a.deltaX,a.deltaY);a.overallVelocityX=Y.x,a.overallVelocityY=Y.y,a.overallVelocity=g(Y.x)>g(Y.y)?Y.x:Y.y,a.scale=v?Ia(v.pointers,c):1,a.rotation=v?Ta(v.pointers,c):0,a.maxPointers=s.prevInput?a.pointers.length>s.prevInput.maxPointers?a.pointers.length:s.prevInput.maxPointers:a.pointers.length,Ea(s,a);var at=n.element;Rn(a.srcEvent.target,at)&&(at=a.srcEvent.target),a.target=at}function wa(n,a){var s=a.center,c=n.offsetDelta||{},m=n.prevDelta||{},u=n.prevInput||{};(a.eventType===z||u.eventType===k)&&(m=n.prevDelta={x:u.deltaX||0,y:u.deltaY||0},c=n.offsetDelta={x:s.x,y:s.y}),a.deltaX=m.x+(s.x-c.x),a.deltaY=m.y+(s.y-c.y)}function Ea(n,a){var s=n.lastInterval||a,c=a.timeStamp-s.timeStamp,m,u,v,O;if(a.eventType!=G&&(c>_a||s.velocity===o)){var P=a.deltaX-s.deltaX,Y=a.deltaY-s.deltaY,at=Vn(c,P,Y);u=at.x,v=at.y,m=g(at.x)>g(at.y)?at.x:at.y,O=Hn(P,Y),n.lastInterval=a}else m=s.velocity,u=s.velocityX,v=s.velocityY,O=s.direction;a.velocity=m,a.velocityX=u,a.velocityY=v,a.direction=O}function Bn(n){for(var a=[],s=0;s<n.pointers.length;)a[s]={clientX:p(n.pointers[s].clientX),clientY:p(n.pointers[s].clientY)},s++;return{timeStamp:w(),pointers:a,center:jn(a),deltaX:n.deltaX,deltaY:n.deltaY}}function jn(n){var a=n.length;if(a===1)return{x:p(n[0].clientX),y:p(n[0].clientY)};for(var s=0,c=0,m=0;m<a;)s+=n[m].clientX,c+=n[m].clientY,m++;return{x:p(s/a),y:p(c/a)}}function Vn(n,a,s){return{x:a/n||0,y:s/n||0}}function Hn(n,a){return n===a?le:g(n)>=g(a)?n<0?Ut:zt:a<0?Yt:Wt}function me(n,a,s){s||(s=Fn);var c=a[s[0]]-n[s[0]],m=a[s[1]]-n[s[1]];return Math.sqrt(c*c+m*m)}function tn(n,a,s){s||(s=Fn);var c=a[s[0]]-n[s[0]],m=a[s[1]]-n[s[1]];return Math.atan2(m,c)*180/Math.PI}function Ta(n,a){return tn(a[1],a[0],de)+tn(n[1],n[0],de)}function Ia(n,a){return me(a[0],a[1],de)/me(n[0],n[1],de)}var ka={mousedown:z,mousemove:Ct,mouseup:k},Ma="mousedown",Sa="mousemove mouseup";function ue(){this.evEl=Ma,this.evWin=Sa,this.pressed=!1,q.apply(this,arguments)}$(ue,q,{handler:function(a){var s=ka[a.type];s&z&&a.button===0&&(this.pressed=!0),s&Ct&&a.which!==1&&(s=k),this.pressed&&(s&k&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[a],changedPointers:[a],pointerType:Je,srcEvent:a}))}});var Aa={pointerdown:z,pointermove:Ct,pointerup:k,pointercancel:G,pointerout:G},Oa={2:Ht,3:ga,4:Je,5:va},Un="pointerdown",zn="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Un="MSPointerDown",zn="MSPointerMove MSPointerUp MSPointerCancel");function en(){this.evEl=Un,this.evWin=zn,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}$(en,q,{handler:function(a){var s=this.store,c=!1,m=a.type.toLowerCase().replace("ms",""),u=Aa[m],v=Oa[a.pointerType]||a.pointerType,O=v==Ht,P=At(s,a.pointerId,"pointerId");u&z&&(a.button===0||O)?P<0&&(s.push(a),P=s.length-1):u&(k|G)&&(c=!0),!(P<0)&&(s[P]=a,this.callback(this.manager,u,{pointers:s,changedPointers:[a],pointerType:v,srcEvent:a}),c&&s.splice(P,1))}});var Ra={touchstart:z,touchmove:Ct,touchend:k,touchcancel:G},Da="touchstart",Na="touchstart touchmove touchend touchcancel";function Yn(){this.evTarget=Da,this.evWin=Na,this.started=!1,q.apply(this,arguments)}$(Yn,q,{handler:function(a){var s=Ra[a.type];if(s===z&&(this.started=!0),!!this.started){var c=Pa.call(this,a,s);s&(k|G)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:c[0],changedPointers:c[1],pointerType:Ht,srcEvent:a})}}});function Pa(n,a){var s=se(n.touches),c=se(n.changedTouches);return a&(k|G)&&(s=Dn(s.concat(c),"identifier",!0)),[s,c]}var La={touchstart:z,touchmove:Ct,touchend:k,touchcancel:G},Fa="touchstart touchmove touchend touchcancel";function pe(){this.evTarget=Fa,this.targetIds={},q.apply(this,arguments)}$(pe,q,{handler:function(a){var s=La[a.type],c=Ba.call(this,a,s);c&&this.callback(this.manager,s,{pointers:c[0],changedPointers:c[1],pointerType:Ht,srcEvent:a})}});function Ba(n,a){var s=se(n.touches),c=this.targetIds;if(a&(z|Ct)&&s.length===1)return c[s[0].identifier]=!0,[s,s];var m,u,v=se(n.changedTouches),O=[],P=this.target;if(u=s.filter(function(Y){return Rn(Y.target,P)}),a===z)for(m=0;m<u.length;)c[u[m].identifier]=!0,m++;for(m=0;m<v.length;)c[v[m].identifier]&&O.push(v[m]),a&(k|G)&&delete c[v[m].identifier],m++;if(O.length)return[Dn(u.concat(O),"identifier",!0),O]}var ja=2500,Wn=25;function nn(){q.apply(this,arguments);var n=Qe(this.handler,this);this.touch=new pe(this.manager,n),this.mouse=new ue(this.manager,n),this.primaryTouch=null,this.lastTouches=[]}$(nn,q,{handler:function(a,s,c){var m=c.pointerType==Ht,u=c.pointerType==Je;if(!(u&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(m)Va.call(this,s,c);else if(u&&Ha.call(this,c))return;this.callback(a,s,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Va(n,a){n&z?(this.primaryTouch=a.changedPointers[0].identifier,Gn.call(this,a)):n&(k|G)&&Gn.call(this,a)}function Gn(n){var a=n.changedPointers[0];if(a.identifier===this.primaryTouch){var s={x:a.clientX,y:a.clientY};this.lastTouches.push(s);var c=this.lastTouches,m=function(){var u=c.indexOf(s);u>-1&&c.splice(u,1)};setTimeout(m,ja)}}function Ha(n){for(var a=n.srcEvent.clientX,s=n.srcEvent.clientY,c=0;c<this.lastTouches.length;c++){var m=this.lastTouches[c],u=Math.abs(a-m.x),v=Math.abs(s-m.y);if(u<=Wn&&v<=Wn)return!0}return!1}var Kn=ce(l.style,"touchAction"),$n=Kn!==o,Xn="compute",qn="auto",an="manipulation",Et="none",Gt="pan-x",Kt="pan-y",be=za();function on(n,a){this.manager=n,this.set(a)}on.prototype={set:function(n){n==Xn&&(n=this.compute()),$n&&this.manager.element.style&&be[n]&&(this.manager.element.style[Kn]=n),this.actions=n.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var n=[];return y(this.manager.recognizers,function(a){Ze(a.options.enable,[a])&&(n=n.concat(a.getTouchAction()))}),Ua(n.join(" "))},preventDefaults:function(n){var a=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){a.preventDefault();return}var c=this.actions,m=xt(c,Et)&&!be[Et],u=xt(c,Kt)&&!be[Kt],v=xt(c,Gt)&&!be[Gt];if(m){var O=n.pointers.length===1,P=n.distance<2,Y=n.deltaTime<250;if(O&&P&&Y)return}if(!(v&&u)&&(m||u&&s&nt||v&&s&wt))return this.preventSrc(a)},preventSrc:function(n){this.manager.session.prevented=!0,n.preventDefault()}};function Ua(n){if(xt(n,Et))return Et;var a=xt(n,Gt),s=xt(n,Kt);return a&&s?Et:a||s?a?Gt:Kt:xt(n,an)?an:qn}function za(){if(!$n)return!1;var n={},a=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(s){n[s]=a?t.CSS.supports("touch-action",s):!0}),n}var fe=1,Q=2,Ot=4,mt=8,ct=mt,$t=16,it=32;function lt(n){this.options=T({},this.defaults,n||{}),this.id=pa(),this.manager=null,this.options.enable=On(this.options.enable,!0),this.state=fe,this.simultaneous={},this.requireFail=[]}lt.prototype={defaults:{},set:function(n){return T(this.options,n),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(n){if(K(n,"recognizeWith",this))return this;var a=this.simultaneous;return n=he(n,this),a[n.id]||(a[n.id]=n,n.recognizeWith(this)),this},dropRecognizeWith:function(n){return K(n,"dropRecognizeWith",this)?this:(n=he(n,this),delete this.simultaneous[n.id],this)},requireFailure:function(n){if(K(n,"requireFailure",this))return this;var a=this.requireFail;return n=he(n,this),At(a,n)===-1&&(a.push(n),n.requireFailure(this)),this},dropRequireFailure:function(n){if(K(n,"dropRequireFailure",this))return this;n=he(n,this);var a=At(this.requireFail,n);return a>-1&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(n){return!!this.simultaneous[n.id]},emit:function(n){var a=this,s=this.state;function c(m){a.manager.emit(m,n)}s<mt&&c(a.options.event+Qn(s)),c(a.options.event),n.additionalEvent&&c(n.additionalEvent),s>=mt&&c(a.options.event+Qn(s))},tryEmit:function(n){if(this.canEmit())return this.emit(n);this.state=it},canEmit:function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(it|fe)))return!1;n++}return!0},recognize:function(n){var a=T({},n);if(!Ze(this.options.enable,[this,a])){this.reset(),this.state=it;return}this.state&(ct|$t|it)&&(this.state=fe),this.state=this.process(a),this.state&(Q|Ot|mt|$t)&&this.tryEmit(a)},process:function(n){},getTouchAction:function(){},reset:function(){}};function Qn(n){return n&$t?"cancel":n&mt?"end":n&Ot?"move":n&Q?"start":""}function Zn(n){return n==Wt?"down":n==Yt?"up":n==Ut?"left":n==zt?"right":""}function he(n,a){var s=a.manager;return s?s.get(n):n}function J(){lt.apply(this,arguments)}$(J,lt,{defaults:{pointers:1},attrTest:function(n){var a=this.options.pointers;return a===0||n.pointers.length===a},process:function(n){var a=this.state,s=n.eventType,c=a&(Q|Ot),m=this.attrTest(n);return c&&(s&G||!m)?a|$t:c||m?s&k?a|mt:a&Q?a|Ot:Q:it}});function ge(){J.apply(this,arguments),this.pX=null,this.pY=null}$(ge,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ln},getTouchAction:function(){var n=this.options.direction,a=[];return n&nt&&a.push(Kt),n&wt&&a.push(Gt),a},directionTest:function(n){var a=this.options,s=!0,c=n.distance,m=n.direction,u=n.deltaX,v=n.deltaY;return m&a.direction||(a.direction&nt?(m=u===0?le:u<0?Ut:zt,s=u!=this.pX,c=Math.abs(n.deltaX)):(m=v===0?le:v<0?Yt:Wt,s=v!=this.pY,c=Math.abs(n.deltaY))),n.direction=m,s&&c>a.threshold&&m&a.direction},attrTest:function(n){return J.prototype.attrTest.call(this,n)&&(this.state&Q||!(this.state&Q)&&this.directionTest(n))},emit:function(n){this.pX=n.deltaX,this.pY=n.deltaY;var a=Zn(n.direction);a&&(n.additionalEvent=this.options.event+a),this._super.emit.call(this,n)}});function rn(){J.apply(this,arguments)}$(rn,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&Q)},emit:function(n){if(n.scale!==1){var a=n.scale<1?"in":"out";n.additionalEvent=this.options.event+a}this._super.emit.call(this,n)}});function sn(){lt.apply(this,arguments),this._timer=null,this._input=null}$(sn,lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qn]},process:function(n){var a=this.options,s=n.pointers.length===a.pointers,c=n.distance<a.threshold,m=n.deltaTime>a.time;if(this._input=n,!c||!s||n.eventType&(k|G)&&!m)this.reset();else if(n.eventType&z)this.reset(),this._timer=U(function(){this.state=ct,this.tryEmit()},a.time,this);else if(n.eventType&k)return ct;return it},reset:function(){clearTimeout(this._timer)},emit:function(n){this.state===ct&&(n&&n.eventType&k?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=w(),this.manager.emit(this.options.event,this._input)))}});function cn(){J.apply(this,arguments)}$(cn,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Et]},attrTest:function(n){return this._super.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&Q)}});function ln(){J.apply(this,arguments)}$(ln,J,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nt|wt,pointers:1},getTouchAction:function(){return ge.prototype.getTouchAction.call(this)},attrTest:function(n){var a=this.options.direction,s;return a&(nt|wt)?s=n.overallVelocity:a&nt?s=n.overallVelocityX:a&wt&&(s=n.overallVelocityY),this._super.attrTest.call(this,n)&&a&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers==this.options.pointers&&g(s)>this.options.velocity&&n.eventType&k},emit:function(n){var a=Zn(n.offsetDirection);a&&this.manager.emit(this.options.event+a,n),this.manager.emit(this.options.event,n)}});function ve(){lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}$(ve,lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[an]},process:function(n){var a=this.options,s=n.pointers.length===a.pointers,c=n.distance<a.threshold,m=n.deltaTime<a.time;if(this.reset(),n.eventType&z&&this.count===0)return this.failTimeout();if(c&&m&&s){if(n.eventType!=k)return this.failTimeout();var u=this.pTime?n.timeStamp-this.pTime<a.interval:!0,v=!this.pCenter||me(this.pCenter,n.center)<a.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!v||!u?this.count=1:this.count+=1,this._input=n;var O=this.count%a.taps;if(O===0)return this.hasRequireFailures()?(this._timer=U(function(){this.state=ct,this.tryEmit()},a.interval,this),Q):ct}return it},failTimeout:function(){return this._timer=U(function(){this.state=it},this.options.interval,this),it},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ct&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function dt(n,a){return a=a||{},a.recognizers=On(a.recognizers,dt.defaults.preset),new dn(n,a)}dt.VERSION="2.0.7",dt.defaults={domEvents:!1,touchAction:Xn,enable:!0,inputTarget:null,inputClass:null,preset:[[cn,{enable:!1}],[rn,{enable:!1},["rotate"]],[ln,{direction:nt}],[ge,{direction:nt},["swipe"]],[ve],[ve,{event:"doubletap",taps:2},["tap"]],[sn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ya=1,Jn=2;function dn(n,a){this.options=T({},dt.defaults,a||{}),this.options.inputTarget=this.options.inputTarget||n,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=n,this.input=ya(this),this.touchAction=new on(this,this.options.touchAction),ti(this,!0),y(this.options.recognizers,function(s){var c=this.add(new s[0](s[1]));s[2]&&c.recognizeWith(s[2]),s[3]&&c.requireFailure(s[3])},this)}dn.prototype={set:function(n){return T(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},stop:function(n){this.session.stopped=n?Jn:Ya},recognize:function(n){var a=this.session;if(!a.stopped){this.touchAction.preventDefaults(n);var s,c=this.recognizers,m=a.curRecognizer;(!m||m&&m.state&ct)&&(m=a.curRecognizer=null);for(var u=0;u<c.length;)s=c[u],a.stopped!==Jn&&(!m||s==m||s.canRecognizeWith(m))?s.recognize(n):s.reset(),!m&&s.state&(Q|Ot|mt)&&(m=a.curRecognizer=s),u++}},get:function(n){if(n instanceof lt)return n;for(var a=this.recognizers,s=0;s<a.length;s++)if(a[s].options.event==n)return a[s];return null},add:function(n){if(K(n,"add",this))return this;var a=this.get(n.options.event);return a&&this.remove(a),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},remove:function(n){if(K(n,"remove",this))return this;if(n=this.get(n),n){var a=this.recognizers,s=At(a,n);s!==-1&&(a.splice(s,1),this.touchAction.update())}return this},on:function(n,a){if(n!==o&&a!==o){var s=this.handlers;return y(re(n),function(c){s[c]=s[c]||[],s[c].push(a)}),this}},off:function(n,a){if(n!==o){var s=this.handlers;return y(re(n),function(c){a?s[c]&&s[c].splice(At(s[c],a),1):delete s[c]}),this}},emit:function(n,a){this.options.domEvents&&Wa(n,a);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){a.type=n,a.preventDefault=function(){a.srcEvent.preventDefault()};for(var c=0;c<s.length;)s[c](a),c++}},destroy:function(){this.element&&ti(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function ti(n,a){var s=n.element;if(s.style){var c;y(n.options.cssProps,function(m,u){c=ce(s.style,u),a?(n.oldCssProps[c]=s.style[c],s.style[c]=m):s.style[c]=n.oldCssProps[c]||""}),a||(n.oldCssProps={})}}function Wa(n,a){var s=i.createEvent("Event");s.initEvent(n,!0,!0),s.gesture=a,a.target.dispatchEvent(s)}T(dt,{INPUT_START:z,INPUT_MOVE:Ct,INPUT_END:k,INPUT_CANCEL:G,STATE_POSSIBLE:fe,STATE_BEGAN:Q,STATE_CHANGED:Ot,STATE_ENDED:mt,STATE_RECOGNIZED:ct,STATE_CANCELLED:$t,STATE_FAILED:it,DIRECTION_NONE:le,DIRECTION_LEFT:Ut,DIRECTION_RIGHT:zt,DIRECTION_UP:Yt,DIRECTION_DOWN:Wt,DIRECTION_HORIZONTAL:nt,DIRECTION_VERTICAL:wt,DIRECTION_ALL:Ln,Manager:dn,Input:q,TouchAction:on,TouchInput:pe,MouseInput:ue,PointerEventInput:en,TouchMouseInput:nn,SingleTouchInput:Yn,Recognizer:lt,AttrRecognizer:J,Tap:ve,Pan:ge,Swipe:ln,Pinch:rn,Rotate:cn,Press:sn,on:ae,off:oe,each:y,merge:ma,extend:st,assign:T,inherit:$,bindFn:Qe,prefixed:ce});var Ga=typeof t<"u"?t:typeof self<"u"?self:{};Ga.Hammer=dt,typeof define=="function"&&define.amd?define(function(){return dt}):typeof qe<"u"&&qe.exports?qe.exports=dt:t[e]=dt})(window,document,"Hammer")});var Cn="Service workers are disabled or not supported by this browser",jt=class{serviceWorker;worker;registration;events;constructor(i,e){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=new Rt(o=>o.error(new Tt(5601,!1)));else{let o=null,r=new Dt;this.worker=new Rt(w=>(o!==null&&w.next(o),r.subscribe(U=>w.next(U))));let l=()=>{let{controller:w}=i;w!==null&&(o=w,r.next(o))};i.addEventListener("controllerchange",l),l(),this.registration=this.worker.pipe(qt(()=>i.getRegistration().then(w=>{if(!w)throw new Tt(5601,!1);return w})));let d=new Dt;this.events=d.asObservable();let p=w=>{let{data:U}=w;U?.type&&d.next(U)};i.addEventListener("message",p),e?.get(pn,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",l),i.removeEventListener("message",p)})}}postMessage(i,e){return new Promise(o=>{this.worker.pipe(pt(1)).subscribe(r=>{r.postMessage(ei({action:i},e)),o()})})}postMessageWithOperation(i,e,o){let r=this.waitForOperationCompleted(o),l=this.postMessage(i,e);return Promise.all([l,r]).then(([,d])=>d)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let e;return typeof i=="string"?e=o=>o.type===i:e=o=>i.includes(o.type),this.events.pipe(Xt(e))}nextEventOfType(i){return this.eventsOfType(i).pipe(pt(1))}waitForOperationCompleted(i){return new Promise((e,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Xt(r=>r.nonce===i),pt(1),ot(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error)})).subscribe({next:e,error:o})})}get isEnabled(){return!!this.serviceWorker}},Xa=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Dt;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=ut,this.notificationClicks=ut,this.notificationCloses=ut,this.pushSubscriptionChanges=ut,this.subscription=ut;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ot(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ot(r=>r.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ot(r=>r.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ot(r=>r.data)),this.pushManager=this.sw.registration.pipe(ot(r=>r.pushManager));let o=this.pushManager.pipe(qt(r=>r.getSubscription()));this.subscription=new Rt(r=>{let l=o.subscribe(r),d=this.subscriptionChanges.subscribe(r);return()=>{l.unsubscribe(),d.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Cn));let o={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(r.length));for(let d=0;d<r.length;d++)l[d]=r.charCodeAt(d);return o.applicationServerKey=l,new Promise((d,p)=>{this.pushManager.pipe(qt(g=>g.subscribe(o)),pt(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),d(g)},error:p})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Cn));let e=o=>{if(o===null)throw new Tt(5602,!1);return o.unsubscribe().then(r=>{if(!r)throw new Tt(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((o,r)=>{this.subscription.pipe(pt(1),qt(e)).subscribe({next:o,error:r})})}decodeBase64(e){return atob(e)}static \u0275fac=function(o){return new(o||t)(Qt(jt))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})(),qa=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=ut,this.unrecoverable=ut;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Cn));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Tt(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(o){return new(o||t)(Qt(jt))};static \u0275prov=F({token:t,factory:t.\u0275fac})}return t})();var Bi=new xe("");function Qa(){let t=R(te);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let i=R(Bi),e=R(Zt),o=R(pn);e.runOutsideAngular(()=>{let r=navigator.serviceWorker,l=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",l),o.onDestroy(()=>{r.removeEventListener("controllerchange",l)})}),e.runOutsideAngular(()=>{let r,{registrationStrategy:l}=t;if(typeof l=="function")r=new Promise(d=>l().subscribe(()=>d()));else{let[d,...p]=(l||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=Fi(+p[0]||0);break;case"registerWhenStable":r=Promise.race([o.whenStable(),Fi(+p[0])]);break;default:throw new Tt(5600,!1)}}r.then(()=>{o.destroyed||navigator.serviceWorker.register(i,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(d=>console.error(ci(5604,!1)))})})}function Fi(t){return new Promise(i=>setTimeout(i,t))}function Za(t,i){return new jt(t.enabled!==!1?navigator.serviceWorker:void 0,i)}var te=class{enabled;updateViaCache;type;scope;registrationStrategy};function ji(t,i={}){return li([Xa,qa,{provide:Bi,useValue:t},{provide:te,useValue:i},{provide:jt,useFactory:Za,deps:[te,mn]},fi(Qa)])}var Se=class t{constructor(i){this.el=i}swipe=new tt;swipeMove=new tt;swipeStart=new tt;swipeEnd=new tt;startX=0;startY=0;hasEmittedSwipe=!1;ngOnInit(){this.el.nativeElement.addEventListener("touchstart",i=>{i.touches.length===1&&(this.startX=i.touches[0].clientX,this.startY=i.touches[0].clientY,this.hasEmittedSwipe=!1,this.swipeStart.emit({x:this.startX,y:this.startY}))}),this.el.nativeElement.addEventListener("touchmove",i=>{if(i.touches.length===1&&!this.hasEmittedSwipe){let e=i.touches[0].clientX,o=i.touches[0].clientY,r=e-this.startX,l=o-this.startY;this.swipeMove.emit({x:e,y:o,deltaX:r,deltaY:l})}}),this.el.nativeElement.addEventListener("touchend",i=>{let e=i.changedTouches[0].clientX,o=i.changedTouches[0].clientY,r=e-this.startX,l=o-this.startY;this.swipeEnd.emit({x:e,y:o}),!this.hasEmittedSwipe&&Math.abs(r)>Math.abs(l)&&Math.abs(r)>50&&Math.abs(l)<100&&(r>0?this.swipe.emit("right"):this.swipe.emit("left"),this.hasEmittedSwipe=!0)}),this.el.nativeElement.addEventListener("mousedown",i=>{this.startX=i.clientX,this.startY=i.clientY,this.hasEmittedSwipe=!1,this.swipeStart.emit({x:this.startX,y:this.startY});let e=r=>{if(!this.hasEmittedSwipe){let l=r.clientX-this.startX,d=r.clientY-this.startY;this.swipeMove.emit({x:r.clientX,y:r.clientY,deltaX:l,deltaY:d})}};document.addEventListener("mousemove",e);let o=r=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",o);let l=r.clientX-this.startX,d=r.clientY-this.startY;this.swipeEnd.emit({x:r.clientX,y:r.clientY}),!this.hasEmittedSwipe&&Math.abs(l)>Math.abs(d)&&Math.abs(l)>50&&Math.abs(d)<100&&(l>0?this.swipe.emit("right"):this.swipe.emit("left"),this.hasEmittedSwipe=!0)};document.addEventListener("mouseup",o,{once:!0})})}static \u0275fac=function(e){return new(e||t)(j(un))};static \u0275dir=Nt({type:t,selectors:[["","appSwipe",""]],outputs:{swipe:"swipe",swipeMove:"swipeMove",swipeStart:"swipeStart",swipeEnd:"swipeEnd"}})};var Ja=["swipeContainer"],to=["swipeContent"],eo=["*"],Ae=class t{swipeEnabled=!0;onSwipeEvent=new tt;swipeContainer;swipeContent;isSwiping=!1;startTranslateX=0;containerWidth=0;ngAfterViewInit(){this.containerWidth=this.swipeContainer.nativeElement.clientWidth}swipeHandled=!1;onSwipe(i){this.swipeEnabled&&!this.swipeHandled&&(this.swipeHandled=!0,this.onSwipeEvent.emit(i),this.swipeContent&&(this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out",setTimeout(()=>{this.swipeContent.nativeElement.style.transform="translateX(0)",setTimeout(()=>{this.swipeContent.nativeElement.style.transition=""},300)},10)))}onSwipeStart(i){if(this.swipeEnabled&&this.swipeContent){this.isSwiping=!0,this.swipeHandled=!1;let e=window.getComputedStyle(this.swipeContent.nativeElement),o=new DOMMatrixReadOnly(e.transform);this.startTranslateX=o.m41,this.swipeContent.nativeElement.style.transition="none"}}onSwipeMove(i){if(this.swipeEnabled&&this.isSwiping&&this.swipeContent){let e=this.startTranslateX+i.deltaX;this.swipeContent.nativeElement.style.transform=`translateX(${e}px)`}}onSwipeEnd(i){if(this.swipeEnabled&&this.isSwiping&&this.swipeContent){this.isSwiping=!1,this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out";let e=window.getComputedStyle(this.swipeContent.nativeElement),r=new DOMMatrixReadOnly(e.transform).m41,l=this.containerWidth*.3;if(Math.abs(r)>l){let d=r>0?"right":"left",p=d==="left"?-this.containerWidth:this.containerWidth;this.swipeContent.nativeElement.style.transform=`translateX(${p}px)`,setTimeout(()=>{this.swipeHandled||(this.onSwipeEvent.emit(d),this.swipeHandled=!0),this.swipeContent.nativeElement.style.transform="translateX(0)",this.swipeContent.nativeElement.style.transition=""},300)}else this.swipeContent.nativeElement.style.transform="translateX(0)",this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out"}setTimeout(()=>{this.swipeHandled=!1},350)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=A({type:t,selectors:[["app-swipe-container"]],viewQuery:function(e,o){if(e&1&&(Ft(Ja,5),Ft(to,5)),e&2){let r;It(r=kt())&&(o.swipeContainer=r.first),It(r=kt())&&(o.swipeContent=r.first)}},inputs:{swipeEnabled:"swipeEnabled"},outputs:{onSwipeEvent:"onSwipeEvent"},ngContentSelectors:eo,decls:5,vars:0,consts:[["swipeContainer",""],["swipeContent",""],["appSwipe","",1,"swipe-container",3,"swipe","swipeMove","swipeStart","swipeEnd"],[1,"swipe-content"]],template:function(e,o){if(e&1){let r=X();Pt(),b(0,"div",2,0),D("swipe",function(d){return M(r),S(o.onSwipe(d))})("swipeMove",function(d){return M(r),S(o.onSwipeMove(d))})("swipeStart",function(d){return M(r),S(o.onSwipeStart(d))})("swipeEnd",function(d){return M(r),S(o.onSwipeEnd(d))}),b(2,"div",3,1),Lt(4),f()()}},dependencies:[Se],styles:['.swipe-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;touch-action:pan-y;position:relative}.swipe-content[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transition:transform .3s ease-out}.swipe-container[_ngcontent-%COMP%]:active{transition:none}@media (max-width: 768px){.swipe-container[_ngcontent-%COMP%]{position:relative}.swipe-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:10px;background:linear-gradient(to right,rgba(0,0,0,.1),transparent);left:0;opacity:0;transition:opacity .2s;pointer-events:none;z-index:100}.swipe-container.swipe-left[_ngcontent-%COMP%]:before{opacity:1}.swipe-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:10px;background:linear-gradient(to left,rgba(0,0,0,.1),transparent);right:0;opacity:0;transition:opacity .2s;pointer-events:none;z-index:100}.swipe-container.swipe-right[_ngcontent-%COMP%]:after{opacity:1}}']})};var Oe=class t{constructor(i){this.router=i;this.updateIndexFromCurrentRoute(),this.router.events.pipe(Xt(e=>e instanceof Mi)).subscribe(e=>{this.updateIndexFromCurrentRoute()})}currentIndexSubject=new ye(0);currentIndex$=this.currentIndexSubject.asObservable();navigationRoutes=["/dashboard","/add","/expenses","/budgets","/incomes"];updateIndexFromCurrentRoute(){let i=this.router.url,e=this.navigationRoutes.indexOf(i);e!==-1&&this.currentIndexSubject.next(e)}setCurrentIndex(i){i>=0&&i<this.navigationRoutes.length&&this.currentIndexSubject.next(i)}getCurrentIndex(){return this.currentIndexSubject.value}getCurrentRoute(){return this.navigationRoutes[this.currentIndexSubject.value]||"/dashboard"}getNextRoute(){let e=(this.currentIndexSubject.value+1)%this.navigationRoutes.length;return this.navigationRoutes[e]}getPreviousRoute(){let e=this.currentIndexSubject.value-1,o=e<0?this.navigationRoutes.length-1:e;return this.navigationRoutes[o]}getIndexForRoute(i){return this.navigationRoutes.indexOf(i)}getRoutesCount(){return this.navigationRoutes.length}getRouteAt(i){return i<0||i>=this.navigationRoutes.length?null:this.navigationRoutes[i]}static \u0275fac=function(e){return new(e||t)(Qt(Bt))};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var De=class t{constructor(i,e){this.router=i;this.swipeService=e}subscription=new _e;ngOnInit(){this.subscription.add(this.swipeService.currentIndex$.subscribe(i=>{let e=this.swipeService.getRouteAt(i);e&&this.router.url!==e&&this.router.navigate([e],{replaceUrl:!0})}))}ngOnDestroy(){this.subscription.unsubscribe()}handleSwipe(i){let e=null;if(i==="left"?e=this.swipeService.getNextRoute():i==="right"&&(e=this.swipeService.getPreviousRoute()),e&&this.router.url!==e){let o=this.swipeService.getIndexForRoute(e);o!==-1&&(this.swipeService.setCurrentIndex(o),this.router.navigate([e],{queryParamsHandling:"preserve",replaceUrl:!0}))}}static \u0275fac=function(e){return new(e||t)(j(Bt),j(Oe))};static \u0275cmp=A({type:t,selectors:[["app-swipe-layout"]],decls:3,vars:0,consts:[[1,"swipe-layout-container",3,"onSwipeEvent"],[1,"layout-content"]],template:function(e,o){e&1&&(b(0,"app-swipe-container",0),D("onSwipeEvent",function(l){return o.handleSwipe(l)}),b(1,"div",1),C(2,"router-outlet"),f()())},dependencies:[Ae,Ee],styles:[".swipe-layout-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden;position:relative}.layout-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;position:relative;transition:all .3s ease}.layout-content[_ngcontent-%COMP%]    >*{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:.8;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var Vi=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"welcome",loadComponent:()=>import("./chunk-J35A47II.js").then(t=>t.WelcomeComponent)},{path:"",component:De,children:[{path:"dashboard",loadComponent:()=>import("./chunk-VO7WKPRB.js").then(t=>t.DashboardComponent)},{path:"add",loadComponent:()=>import("./chunk-L6ZMLUIE.js").then(t=>t.AddExpense)},{path:"expenses",loadComponent:()=>import("./chunk-FDOHSY3R.js").then(t=>t.ExpensesList)},{path:"budgets",loadComponent:()=>import("./chunk-DQOSQO4G.js").then(t=>t.BudgetsComponent)},{path:"incomes",loadComponent:()=>import("./chunk-XWIFTWPN.js").then(t=>t.IncomeListComponent)}]},{path:"set-income",loadComponent:()=>import("./chunk-GWM7OSIG.js").then(t=>t.SetMonthlyIncomeComponent)},{path:"profile",loadComponent:()=>import("./chunk-AQV7JMWD.js").then(t=>t.UserProfileComponent)}];var Hi={providers:[_i(),Si(Vi,Ai()),ji("ngsw-worker.js",{enabled:!yi(),registrationStrategy:"registerWhenStable:30000"}),di()]};function ao(t,i){t&1&&C(0,"i",11)}function oo(t,i){t&1&&C(0,"i",12)}function ro(t,i){t&1&&C(0,"i",13)}function so(t,i){t&1&&C(0,"i",14)}function co(t,i){if(t&1){let e=X();b(0,"div",2)(1,"div",3)(2,"span",4),H(3,ao,1,0,"i",5)(4,oo,1,0,"i",6)(5,ro,1,0,"i",7)(6,so,1,0,"i",8),f(),b(7,"span",9),x(8),f(),b(9,"button",10),D("click",function(){let r=M(e).$implicit,l=L();return S(l.removeToast(r.id))}),f()()()}if(t&2){let e=i.$implicit;_("ngClass","toast-"+e.type),h(2),_("ngSwitch",e.type),h(),_("ngSwitchCase","success"),h(),_("ngSwitchCase","error"),h(),_("ngSwitchCase","warning"),h(),_("ngSwitchCase","info"),h(2),et(e.message)}}var Ne=class t{constructor(i){this.toastService=i}toasts=[];subscription=new _e;ngOnInit(){this.subscription=this.toastService.toasts$.subscribe(i=>{this.toasts=i})}ngOnDestroy(){this.subscription.unsubscribe()}removeToast(i){this.toastService.remove(i)}static \u0275fac=function(e){return new(e||t)(j(Me))};static \u0275cmp=A({type:t,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1090"],["class","toast fade show align-items-center mb-2","role","alert","aria-live","assertive","aria-atomic","true","style","min-width: 300px; max-width: 400px;",3,"ngClass",4,"ngFor","ngForOf"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","fade","show","align-items-center","mb-2",2,"min-width","300px","max-width","400px",3,"ngClass"],[1,"toast-body","d-flex","align-items-center"],[1,"me-2",3,"ngSwitch"],["class","bi bi-check-circle-fill text-success fs-5",4,"ngSwitchCase"],["class","bi bi-x-circle-fill text-danger fs-5",4,"ngSwitchCase"],["class","bi bi-exclamation-triangle-fill text-warning fs-5",4,"ngSwitchCase"],["class","bi bi-info-circle-fill text-info fs-5",4,"ngSwitchCase"],[1,"flex-grow-1"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"],[1,"bi","bi-check-circle-fill","text-success","fs-5"],[1,"bi","bi-x-circle-fill","text-danger","fs-5"],[1,"bi","bi-exclamation-triangle-fill","text-warning","fs-5"],[1,"bi","bi-info-circle-fill","text-info","fs-5"]],template:function(e,o){e&1&&(b(0,"div",0),H(1,co,10,7,"div",1),f()),e&2&&(h(),_("ngForOf",o.toasts))},dependencies:[Z,ft,ht,Ci,wi],styles:[".toast-container[_ngcontent-%COMP%]{z-index:1090}.toast-container[_ngcontent-%COMP%]   .toast[_ngcontent-%COMP%]{border:none;box-shadow:0 .5rem 1rem #00000026;border-radius:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.toast-container[_ngcontent-%COMP%]   .toast.toast-success[_ngcontent-%COMP%]{background-color:#198754e6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast.toast-error[_ngcontent-%COMP%]{background-color:#dc3545e6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast.toast-warning[_ngcontent-%COMP%]{background-color:#ffc107e6;color:#212529}.toast-container[_ngcontent-%COMP%]   .toast.toast-info[_ngcontent-%COMP%]{background-color:#0d6efde6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast[_ngcontent-%COMP%]   .toast-body[_ngcontent-%COMP%]{padding:.75rem 1rem}"]})};var wn;try{wn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wn=!1}var Le=(()=>{class t{_platformId=R(pi);isBrowser=this._platformId?Ii(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||wn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(o){return new(o||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function En(t){return Array.isArray(t)?t:[t]}var Ui=new Set,St,lo=(()=>{class t{_platform=R(Le);_nonce=R(bi,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uo}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&mo(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mo(t,i){if(!Ui.has(t))try{St||(St=document.createElement("style"),i&&St.setAttribute("nonce",i),St.setAttribute("type","text/css"),document.head.appendChild(St)),St.sheet&&(St.sheet.insertRule(`@media ${t} {body{ }}`,0),Ui.add(t))}catch(e){console.error(e)}}function uo(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Yi=(()=>{class t{_mediaMatcher=R(lo);_zone=R(Zt);_queries=new Map;_destroySubject=new Dt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return zi(En(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=zi(En(e)).map(d=>this._registerQuery(d).observable),l=ni(r);return l=ii(l.pipe(pt(1)),l.pipe(oi(1),ai(0))),l.pipe(ot(d=>{let p={matches:!1,breakpoints:{}};return d.forEach(({matches:g,query:w})=>{p.matches=p.matches||g,p.breakpoints[w]=g}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let o=this._mediaMatcher.matchMedia(e),l={observable:new Rt(d=>{let p=g=>this._zone.run(()=>d.next(g));return o.addListener(p),()=>{o.removeListener(p)}}).pipe(ri(o),ot(({matches:d})=>({query:e,matches:d})),si(this._destroySubject)),mql:o};return this._queries.set(e,l),l}static \u0275fac=function(o){return new(o||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zi(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}var vt=(function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t})(vt||{}),Wi="cdk-high-contrast-black-on-white",Gi="cdk-high-contrast-white-on-black",Tn="cdk-high-contrast-active",In=(()=>{class t{_platform=R(Le);_hasCheckedHighContrastMode;_document=R(mi);_breakpointSubscription;constructor(){this._breakpointSubscription=R(Yi).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return vt.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let o=this._document.defaultView||window,r=o&&o.getComputedStyle?o.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return vt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return vt.BLACK_ON_WHITE}return vt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Tn,Wi,Gi),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===vt.BLACK_ON_WHITE?e.add(Tn,Wi):o===vt.WHITE_ON_BLACK&&e.add(Tn,Gi)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kn=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({})}return t})();var W=(()=>{class t{constructor(){R(In)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[kn,kn]})}return t})();var Xi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[W,W]})}return t})();var go=()=>({exact:!0});function vo(t,i){t&1&&C(0,"div",14)}function _o(t,i){if(t&1&&(b(0,"a",11,0),C(2,"i",12),b(3,"span"),x(4),f(),H(5,vo,1,0,"div",13),f()),t&2){let e=i.$implicit,o=Jt(1);_("routerLink",e.path)("routerLinkActiveOptions",Ce(5,go)),h(2),_("ngClass","bi me-2 "+(o.isActive?e.activeIcon:e.icon)),h(2),et(e.label||(e.path==="/dashboard"?"Dashboard":e.path==="/expenses"?"Expenses":"Settings")),h(),_("ngIf",o.isActive)}}var Fe=class t{links=[];selectedIndex=0;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=A({type:t,selectors:[["app-desktop-nav"]],inputs:{links:"links",selectedIndex:"selectedIndex"},decls:11,vars:1,consts:[["rla","routerLinkActive"],[1,"desktop-nav-container","glass-nav"],[1,"container-fluid","d-flex","align-items-center","h-100"],[1,"brand","me-5"],[1,"mb-0","fw-bold","text-gradient"],[1,"d-flex","gap-4"],["routerLinkActive","active","class","nav-link-item",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"ms-auto","d-flex","align-items-center","gap-3"],[1,"user-profile","d-flex","align-items-center","gap-2"],[1,"avatar","bg-primary-gradient","text-white","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-person-fill"],["routerLinkActive","active",1,"nav-link-item",3,"routerLink","routerLinkActiveOptions"],[3,"ngClass"],["class","active-indicator",4,"ngIf"],[1,"active-indicator"]],template:function(e,o){e&1&&(b(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),x(4,"ExpTracker"),f()(),b(5,"nav",5),H(6,_o,6,6,"a",6),f(),b(7,"div",7)(8,"div",8)(9,"div",9),C(10,"i",10),f()()()()()),e&2&&(h(6),_("ngForOf",o.links))},dependencies:[Z,ft,ht,gt,ke,Te,Ie,Xi],styles:["[_nghost-%COMP%]{display:block;position:fixed;top:0;left:0;right:0;z-index:1000}.desktop-nav-container[_ngcontent-%COMP%]{height:60px;background:#0f172ad9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.1)}.nav-link-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;color:var(--text-secondary);text-decoration:none;font-weight:500;padding:0 8px;height:60px;transition:color .2s}.nav-link-item[_ngcontent-%COMP%]:hover{color:#fff}.nav-link-item.active[_ngcontent-%COMP%]{color:var(--text-accent)}.nav-link-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.active-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:3px;background:var(--accent-gradient);border-top-left-radius:3px;border-top-right-radius:3px;box-shadow:0 -2px 8px #6366f180}.text-gradient[_ngcontent-%COMP%]{background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.bg-primary-gradient[_ngcontent-%COMP%]{background:var(--accent-gradient)}"]})};var qi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[W,W]})}return t})();var Qi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[W,W]})}return t})();var Zi=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[W,W]})}return t})();var Ji=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=V({type:t});static \u0275inj=B({imports:[W,Zi,W]})}return t})();var yo=()=>({exact:!0});function xo(t,i){t&1&&C(0,"div",7)}function Co(t,i){if(t&1&&(b(0,"div",3,0)(2,"div",4),C(3,"i",5),f(),H(4,xo,1,0,"div",6),f()),t&2){let e=i.$implicit,o=Jt(1);_("routerLink",e.path)("routerLinkActiveOptions",Ce(4,yo)),h(3),_("ngClass","bi "+(o.isActive?e.activeIcon:e.icon)),h(),_("ngIf",o.isActive)}}var Be=class t{links=[];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=A({type:t,selectors:[["app-mobile-nav"]],inputs:{links:"links"},decls:2,vars:1,consts:[["rla","routerLinkActive"],[1,"mobile-nav-container","glass-nav"],["class","nav-item","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],[1,"icon-container"],[3,"ngClass"],["class","active-indicator",4,"ngIf"],[1,"active-indicator"]],template:function(e,o){e&1&&(b(0,"div",1),H(1,Co,5,5,"div",2),f()),e&2&&(h(),_("ngForOf",o.links))},dependencies:[Z,ft,ht,gt,ke,Te,Ie,qi,Qi,Ji],styles:["[_nghost-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:1000;padding-bottom:env(safe-area-inset-bottom)}.mobile-nav-container[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:space-around;align-items:center;background:#0f172ad9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.1);padding:0 16px}.nav-item[_ngcontent-%COMP%]{position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;cursor:pointer;color:var(--text-secondary);transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:1.5rem;transition:transform .2s}.nav-item.active[_ngcontent-%COMP%]{color:var(--text-accent)}.nav-item.active[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{transform:translateY(-4px);background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.nav-item[_ngcontent-%COMP%]:active{transform:scale(.95)}.active-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:20px;height:3px;background:var(--accent-gradient);border-top-left-radius:3px;border-top-right-radius:3px;box-shadow:0 -2px 8px #6366f180}"]})};var ta=["user","model","function","system"];var je=(function(t){return t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER",t})(je||{});var N=class extends Error{constructor(i){super(`[GoogleGenerativeAI Error]: ${i}`)}},_t=class extends N{constructor(i,e){super(i),this.response=e}},He=class extends N{constructor(i,e,o,r){super(i),this.status=e,this.statusText=o,this.errorDetails=r}},rt=class extends N{},Ue=class extends N{};var wo="https://generativelanguage.googleapis.com",Eo="v1beta",To="0.24.1",Io="genai-js",Vt=(function(t){return t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents",t})(Vt||{}),Mn=class{constructor(i,e,o,r,l){this.model=i,this.task=e,this.apiKey=o,this.stream=r,this.requestOptions=l}toString(){var i,e;let o=((i=this.requestOptions)===null||i===void 0?void 0:i.apiVersion)||Eo,l=`${((e=this.requestOptions)===null||e===void 0?void 0:e.baseUrl)||wo}/${o}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}};function ko(t){let i=[];return t?.apiClient&&i.push(t.apiClient),i.push(`${Io}/${To}`),i.join(" ")}async function Mo(t){var i;let e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",ko(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let o=(i=t.requestOptions)===null||i===void 0?void 0:i.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(r){throw new rt(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${r.message}`)}for(let[r,l]of o.entries()){if(r==="x-goog-api-key")throw new rt(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new rt(`Header name ${r} can only be set using the apiClient field`);e.append(r,l)}}return e}async function So(t,i,e,o,r,l){let d=new Mn(t,i,e,o,l);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},Do(l)),{method:"POST",headers:await Mo(d),body:r})}}async function ie(t,i,e,o,r,l={},d=fetch){let{url:p,fetchOptions:g}=await So(t,i,e,o,r,l);return Ao(p,g,d)}async function Ao(t,i,e=fetch){let o;try{o=await e(t,i)}catch(r){Oo(r,t)}return o.ok||await Ro(o,t),o}function Oo(t,i){let e=t;throw e.name==="AbortError"?(e=new Ue(`Request aborted when fetching ${i.toString()}: ${t.message}`),e.stack=t.stack):t instanceof He||t instanceof rt||(e=new N(`Error fetching from ${i.toString()}: ${t.message}`),e.stack=t.stack),e}async function Ro(t,i){let e="",o;try{let r=await t.json();e=r.error.message,r.error.details&&(e+=` ${JSON.stringify(r.error.details)}`,o=r.error.details)}catch{}throw new He(`Error fetching from ${i.toString()}: [${t.status} ${t.statusText}] ${e}`,t.status,t.statusText,o)}function Do(t){let i={};if(t?.signal!==void 0||t?.timeout>=0){let e=new AbortController;t?.timeout>=0&&setTimeout(()=>e.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{e.abort()}),i.signal=e.signal}return i}function An(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Ve(t.candidates[0]))throw new _t(`${yt(t)}`,t);return No(t)}else if(t.promptFeedback)throw new _t(`Text not available. ${yt(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ve(t.candidates[0]))throw new _t(`${yt(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ea(t)[0]}else if(t.promptFeedback)throw new _t(`Function call not available. ${yt(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Ve(t.candidates[0]))throw new _t(`${yt(t)}`,t);return ea(t)}else if(t.promptFeedback)throw new _t(`Function call not available. ${yt(t)}`,t)},t}function No(t){var i,e,o,r;let l=[];if(!((e=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||e===void 0)&&e.parts)for(let d of(r=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||r===void 0?void 0:r.parts)d.text&&l.push(d.text),d.executableCode&&l.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&l.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function ea(t){var i,e,o,r;let l=[];if(!((e=(i=t.candidates)===null||i===void 0?void 0:i[0].content)===null||e===void 0)&&e.parts)for(let d of(r=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||r===void 0?void 0:r.parts)d.functionCall&&l.push(d.functionCall);if(l.length>0)return l}var Po=[je.RECITATION,je.SAFETY,je.LANGUAGE];function Ve(t){return!!t.finishReason&&Po.includes(t.finishReason)}function yt(t){var i,e,o;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((i=t.promptFeedback)===null||i===void 0)&&i.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((e=t.promptFeedback)===null||e===void 0)&&e.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){let l=t.candidates[0];Ve(l)&&(r+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(r+=`: ${l.finishMessage}`))}return r}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function Lo(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(t,i||[]),r,l=[];return r={},d("next"),d("throw"),d("return"),r[Symbol.asyncIterator]=function(){return this},r;function d(y){o[y]&&(r[y]=function(E){return new Promise(function(T,st){l.push([y,E,T,st])>1||p(y,E)})})}function p(y,E){try{g(o[y](E))}catch(T){K(l[0][3],T)}}function g(y){y.value instanceof ee?Promise.resolve(y.value.v).then(w,U):K(l[0][2],y)}function w(y){p("next",y)}function U(y){p("throw",y)}function K(y,E){y(E),l.shift(),l.length&&p(l[0][0],l[0][1])}}var na=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Fo(t){let i=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),e=Vo(i),[o,r]=e.tee();return{stream:jo(o),response:Bo(r)}}async function Bo(t){let i=[],e=t.getReader();for(;;){let{done:o,value:r}=await e.read();if(o)return An(Ho(i));i.push(r)}}function jo(t){return Lo(this,arguments,function*(){let e=t.getReader();for(;;){let{value:o,done:r}=yield ee(e.read());if(r)break;yield yield ee(An(o))}})}function Vo(t){let i=t.getReader();return new ReadableStream({start(o){let r="";return l();function l(){return i.read().then(({value:d,done:p})=>{if(p){if(r.trim()){o.error(new N("Failed to parse stream"));return}o.close();return}r+=d;let g=r.match(na),w;for(;g;){try{w=JSON.parse(g[1])}catch{o.error(new N(`Error parsing JSON response: "${g[1]}"`));return}o.enqueue(w),r=r.substring(g[0].length),g=r.match(na)}return l()}).catch(d=>{let p=d;throw p.stack=d.stack,p.name==="AbortError"?p=new Ue("Request aborted when reading from the stream"):p=new N("Error reading from the stream"),p})}}})}function Ho(t){let i=t[t.length-1],e={promptFeedback:i?.promptFeedback};for(let o of t){if(o.candidates){let r=0;for(let l of o.candidates)if(e.candidates||(e.candidates=[]),e.candidates[r]||(e.candidates[r]={index:r}),e.candidates[r].citationMetadata=l.citationMetadata,e.candidates[r].groundingMetadata=l.groundingMetadata,e.candidates[r].finishReason=l.finishReason,e.candidates[r].finishMessage=l.finishMessage,e.candidates[r].safetyRatings=l.safetyRatings,l.content&&l.content.parts){e.candidates[r].content||(e.candidates[r].content={role:l.content.role||"user",parts:[]});let d={};for(let p of l.content.parts)p.text&&(d.text=p.text),p.functionCall&&(d.functionCall=p.functionCall),p.executableCode&&(d.executableCode=p.executableCode),p.codeExecutionResult&&(d.codeExecutionResult=p.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),e.candidates[r].content.parts.push(d)}r++}o.usageMetadata&&(e.usageMetadata=o.usageMetadata)}return e}async function sa(t,i,e,o){let r=await ie(i,Vt.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(e),o);return Fo(r)}async function ca(t,i,e,o){let l=await(await ie(i,Vt.GENERATE_CONTENT,t,!1,JSON.stringify(e),o)).json();return{response:An(l)}}function la(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function ne(t){let i=[];if(typeof t=="string")i=[{text:t}];else for(let e of t)typeof e=="string"?i.push({text:e}):i.push(e);return Uo(i)}function Uo(t){let i={role:"user",parts:[]},e={role:"function",parts:[]},o=!1,r=!1;for(let l of t)"functionResponse"in l?(e.parts.push(l),r=!0):(i.parts.push(l),o=!0);if(o&&r)throw new N("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!r)throw new N("No content is provided for sending chat message.");return o?i:e}function zo(t,i){var e;let o={model:i?.model,generationConfig:i?.generationConfig,safetySettings:i?.safetySettings,tools:i?.tools,toolConfig:i?.toolConfig,systemInstruction:i?.systemInstruction,cachedContent:(e=i?.cachedContent)===null||e===void 0?void 0:e.name,contents:[]},r=t.generateContentRequest!=null;if(t.contents){if(r)throw new rt("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(r)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{let l=ne(t);o.contents=[l]}return{generateContentRequest:o}}function ia(t){let i;return t.contents?i=t:i={contents:[ne(t)]},t.systemInstruction&&(i.systemInstruction=la(t.systemInstruction)),i}function Yo(t){return typeof t=="string"||Array.isArray(t)?{content:ne(t)}:t}var aa=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Wo={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Go(t){let i=!1;for(let e of t){let{role:o,parts:r}=e;if(!i&&o!=="user")throw new N(`First content should be with role 'user', got ${o}`);if(!ta.includes(o))throw new N(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(ta)}`);if(!Array.isArray(r))throw new N("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new N("Each Content should have at least one part");let l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let p of r)for(let g of aa)g in p&&(l[g]+=1);let d=Wo[o];for(let p of aa)if(!d.includes(p)&&l[p]>0)throw new N(`Content with role '${o}' can't contain '${p}' part`);i=!0}}function oa(t){var i;if(t.candidates===void 0||t.candidates.length===0)return!1;let e=(i=t.candidates[0])===null||i===void 0?void 0:i.content;if(e===void 0||e.parts===void 0||e.parts.length===0)return!1;for(let o of e.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}var ra="SILENT_ERROR",Sn=class{constructor(i,e,o,r={}){this.model=e,this.params=o,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=i,o?.history&&(Go(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(i,e={}){var o,r,l,d,p,g;await this._sendPromise;let w=ne(i),U={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,w]},K=Object.assign(Object.assign({},this._requestOptions),e),y;return this._sendPromise=this._sendPromise.then(()=>ca(this._apiKey,this.model,U,K)).then(E=>{var T;if(oa(E.response)){this._history.push(w);let st=Object.assign({parts:[],role:"model"},(T=E.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(st)}else{let st=yt(E.response);st&&console.warn(`sendMessage() was unsuccessful. ${st}. Inspect response object for details.`)}y=E}).catch(E=>{throw this._sendPromise=Promise.resolve(),E}),await this._sendPromise,y}async sendMessageStream(i,e={}){var o,r,l,d,p,g;await this._sendPromise;let w=ne(i),U={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,w]},K=Object.assign(Object.assign({},this._requestOptions),e),y=sa(this._apiKey,this.model,U,K);return this._sendPromise=this._sendPromise.then(()=>y).catch(E=>{throw new Error(ra)}).then(E=>E.response).then(E=>{if(oa(E)){this._history.push(w);let T=Object.assign({},E.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{let T=yt(E);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(E=>{E.message!==ra&&console.error(E)}),y}};async function Ko(t,i,e,o){return(await ie(i,Vt.COUNT_TOKENS,t,!1,JSON.stringify(e),o)).json()}async function $o(t,i,e,o){return(await ie(i,Vt.EMBED_CONTENT,t,!1,JSON.stringify(e),o)).json()}async function Xo(t,i,e,o){let r=e.requests.map(d=>Object.assign(Object.assign({},d),{model:i}));return(await ie(i,Vt.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),o)).json()}var ze=class{constructor(i,e,o={}){this.apiKey=i,this._requestOptions=o,e.model.includes("/")?this.model=e.model:this.model=`models/${e.model}`,this.generationConfig=e.generationConfig||{},this.safetySettings=e.safetySettings||[],this.tools=e.tools,this.toolConfig=e.toolConfig,this.systemInstruction=la(e.systemInstruction),this.cachedContent=e.cachedContent}async generateContent(i,e={}){var o;let r=ia(i),l=Object.assign(Object.assign({},this._requestOptions),e);return ca(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},r),l)}async generateContentStream(i,e={}){var o;let r=ia(i),l=Object.assign(Object.assign({},this._requestOptions),e);return sa(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},r),l)}startChat(i){var e;return new Sn(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(e=this.cachedContent)===null||e===void 0?void 0:e.name},i),this._requestOptions)}async countTokens(i,e={}){let o=zo(i,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),e);return Ko(this.apiKey,this.model,o,r)}async embedContent(i,e={}){let o=Yo(i),r=Object.assign(Object.assign({},this._requestOptions),e);return $o(this.apiKey,this.model,o,r)}async batchEmbedContents(i,e={}){let o=Object.assign(Object.assign({},this._requestOptions),e);return Xo(this.apiKey,this.model,i,o)}};var Ye=class{constructor(i){this.apiKey=i}getGenerativeModel(i,e){if(!i.model)throw new N("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ze(this.apiKey,i,e)}getGenerativeModelFromCachedContent(i,e,o){if(!i.name)throw new rt("Cached content must contain a `name` field.");if(!i.model)throw new rt("Cached content must contain a `model` field.");let r=["model","systemInstruction"];for(let d of r)if(e?.[d]&&i[d]&&e?.[d]!==i[d]){if(d==="model"){let p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model,g=i.model.startsWith("models/")?i.model.replace("models/",""):i.model;if(p===g)continue}throw new rt(`Different value for "${d}" specified in modelParams (${e[d]}) and cachedContent (${i[d]})`)}let l=Object.assign(Object.assign({},e),{model:i.model,tools:i.tools,toolConfig:i.toolConfig,systemInstruction:i.systemInstruction,cachedContent:i});return new ze(this.apiKey,l,o)}};var We=class t{genAI=null;constructor(){let i=this.getApiKey();i&&this.initializeAI(i)}initializeAI(i){this.genAI=new Ye(i)}setApiKey(i){localStorage.setItem(xn.KEY_API_STORAGE,i),this.initializeAI(i)}getApiKey(){return localStorage.getItem(xn.KEY_API_STORAGE)}hasApiKey(){return!!this.getApiKey()}async parseExpense(i){if(!this.genAI)return{error:"API Key not configured"};try{let e=this.genAI.getGenerativeModel({model:"gemini-2.5-flash"}),o=`
        You are the AI engine of an expense-tracking application.
        Your job is to read a user's natural-language expense message and convert it into a structured Expense object.

        EXPENSE OBJECT FORMAT (output must match EXACTLY):
        {
          "id": 0,
          "title": "",
          "amount": 0,
          "date": "",
          "category": "",
          "notes": "",
          "paymentMethod": "",
          "receipt": "",
          "tags": [],
          "groupId": null,
          "recurringId": null,
          "createdAt": "",
          "updatedAt": ""
        }

        FIELD RULES:
        id: Generate a random integer (example: 53211)
        title: 1\u20133 words summarizing the expense
        amount: Extract numeric amount. If "Rs 200", "200 rupees", detect it.
        date: Convert "today", "yesterday", etc. to YYYY-MM-DD. Default to today's date (YYYY-MM-DD).
        category: Use EXACT enum values: "Food", "Transport", "Bills", "Entertainment", "Shopping", "Healthcare", "Education", "Travel", "Gifts", "Utilities", "Insurance", "Other". Infer based on keywords.
        notes: Full interpreted explanation (e.g., "User spent 200 PKR on chai today using cash.").
        paymentMethod: Infer "Cash", "Credit Card", "Debit Card", "Bank Transfer", "Mobile Payment", "Other". Default to "".
        tags: Extract max 3 keyword tags.
        receipt: Link/file if mentioned, else "".
        groupId: Integer if grouping mentioned, else null.
        recurringId: Integer if recurring mentioned, else null.
        createdAt & updatedAt: Current ISO timestamp.

        VERY IMPORTANT RULES:
        1. Output must always be VALID JSON.
        2. Output must contain ONLY JSON. No text outside JSON.
        3. If NOT an expense \u2192 return { "error": "Not an expense entry" }

        User Message: "${i}"
      `,p=(await(await e.generateContent(o)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(p)}catch(e){return console.error("Error parsing expense with Gemini:",e),{error:"Failed to process request"}}}static \u0275fac=function(e){return new(e||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qo=["scrollContainer"];function Zo(t,i){t&1&&(b(0,"div",17)(1,"div",18),C(2,"i",19),f(),b(3,"p",20),x(4,"Hi! I can help you track expenses."),f(),b(5,"p",21),x(6,'Try "Spent 500 on lunch" or "Paid 2000 for petrol"'),f()())}function Jo(t,i){if(t&1&&(b(0,"div",22)(1,"div",23)(2,"p",24),x(3),f()(),b(4,"small",25),x(5),we(6,"date"),f()()),t&2){let e=i.$implicit;bt("user",e.sender==="user")("ai",e.sender==="ai"),h(),_("ngClass",e.sender==="user"?"bg-primary-gradient text-white":"bg-white-10 text-white"),h(2),et(e.text),h(),bt("text-end",e.sender==="user"),h(),gi(" ",yn(6,9,e.timestamp,"shortTime")," ")}}function tr(t,i){t&1&&(b(0,"div",26)(1,"div",27)(2,"div",28),C(3,"span")(4,"span")(5,"span"),f()()())}function er(t,i){if(t&1){let e=X();b(0,"div",29)(1,"h6",30),x(2,"Confirm Expense"),f(),b(3,"div",31)(4,"span",32),x(5,"Title"),f(),b(6,"span",33),x(7),f()(),b(8,"div",31)(9,"span",32),x(10,"Amount"),f(),b(11,"span",34),x(12),we(13,"number"),f()(),b(14,"div",31)(15,"span",32),x(16,"Category"),f(),b(17,"span",33),x(18),f()(),b(19,"div",35)(20,"span",32),x(21,"Date"),f(),b(22,"span",33),x(23),we(24,"date"),f()(),b(25,"div",36)(26,"button",37),D("click",function(){M(e);let r=L();return S(r.discardExpense())}),x(27,"Discard"),f(),b(28,"button",38),D("click",function(){M(e);let r=L();return S(r.confirmExpense())}),x(29,"Add Expense"),f()()()}if(t&2){let e=L();h(7),et(e.pendingExpense.title),h(5),et(yn(13,4,e.pendingExpense.amount,"1.0-0")),h(6),et(e.pendingExpense.category),h(5),et(vi(24,7,e.pendingExpense.date))}}function nr(t,i){if(t&1){let e=X();b(0,"div",39)(1,"div",40)(2,"input",41),_n("ngModelChange",function(r){M(e);let l=L();return vn(l.apiKeyInput,r)||(l.apiKeyInput=r),S(r)}),f(),b(3,"button",42),D("click",function(){M(e);let r=L();return S(r.saveApiKey())}),x(4,"Save"),f()(),b(5,"small",21),x(6,"Key is stored locally on your device."),f()()}if(t&2){let e=L();h(2),gn("ngModel",e.apiKeyInput)}}function ir(t,i){if(t&1){let e=X();b(0,"div",40)(1,"input",43),_n("ngModelChange",function(r){M(e);let l=L();return vn(l.userInput,r)||(l.userInput=r),S(r)}),D("keyup.enter",function(){M(e);let r=L();return S(r.sendMessage())}),f(),b(2,"button",44),D("click",function(){M(e);let r=L();return S(r.sendMessage())}),C(3,"i",45),f()()}if(t&2){let e=L();h(),gn("ngModel",e.userInput),_("disabled",e.isProcessing||!!e.pendingExpense),h(),_("disabled",!e.userInput.trim()||e.isProcessing||!!e.pendingExpense)}}var Ge=class t{constructor(i,e,o,r){this.geminiService=i;this.expenseService=e;this.toastService=o;this.cdr=r}isOpen=!1;close=new tt;scrollContainer;messages=[];userInput="";apiKeyInput="";hasApiKey=!1;isProcessing=!1;pendingExpense=null;ngOnInit(){this.hasApiKey=this.geminiService.hasApiKey()}saveApiKey(){this.apiKeyInput.trim()&&(this.geminiService.setApiKey(this.apiKeyInput.trim()),this.hasApiKey=!0,this.apiKeyInput="",this.toastService.success("API Key saved successfully!"))}closeChat(){this.close.emit()}async sendMessage(){if(!this.userInput.trim()||this.isProcessing)return;let i=this.userInput.trim();this.addMessage(i,"user"),this.userInput="",this.isProcessing=!0,this.scrollToBottom();try{let e=await this.geminiService.parseExpense(i);"error"in e?this.addMessage(`I couldn't understand that as an expense. ${e.error}`,"ai"):(this.pendingExpense=e,this.addMessage("I found an expense! Please confirm the details below.","ai"))}catch{this.addMessage("Sorry, something went wrong. Please try again.","ai")}finally{this.isProcessing=!1,this.cdr.markForCheck(),this.scrollToBottom()}}confirmExpense(){this.pendingExpense&&(this.expenseService.addExpense(this.pendingExpense),this.toastService.success("Expense added successfully!"),this.addMessage("Expense added! You can add another one.","ai"),this.pendingExpense=null,this.cdr.markForCheck(),this.scrollToBottom())}discardExpense(){this.pendingExpense=null,this.addMessage("Expense discarded. What else?","ai"),this.cdr.markForCheck(),this.scrollToBottom()}addMessage(i,e){this.messages.push({text:i,sender:e,timestamp:new Date}),this.cdr.markForCheck()}scrollToBottom(){setTimeout(()=>{this.scrollContainer&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}static \u0275fac=function(e){return new(e||t)(j(We),j(Oi),j(Me),j(xi))};static \u0275cmp=A({type:t,selectors:[["app-chat-interface"]],viewQuery:function(e,o){if(e&1&&Ft(Qo,5),e&2){let r;It(r=kt())&&(o.scrollContainer=r.first)}},inputs:{isOpen:"isOpen"},outputs:{close:"close"},decls:18,vars:8,consts:[["scrollContainer",""],[1,"chat-container","glass-card"],[1,"chat-header","d-flex","justify-content-between","align-items-center","p-3","border-bottom","border-white-10"],[1,"d-flex","align-items-center"],[1,"icon-circle","bg-primary-gradient","me-2",2,"width","32px","height","32px"],[1,"bi","bi-robot","text-white","small"],[1,"text-white","mb-0"],[1,"btn","btn-icon","btn-sm","text-secondary",3,"click"],[1,"bi","bi-x-lg"],[1,"chat-messages","p-3"],["class","text-center py-4",4,"ngIf"],["class","message mb-3",3,"user","ai",4,"ngFor","ngForOf"],["class","message ai mb-3",4,"ngIf"],["class","expense-preview glass-card p-3 mt-2 border border-accent",4,"ngIf"],[1,"chat-input","p-3","border-top","border-white-10"],["class","mb-2",4,"ngIf"],["class","input-group",4,"ngIf"],[1,"text-center","py-4"],[1,"icon-box","bg-white-5","mx-auto","mb-3","rounded-circle",2,"width","48px","height","48px"],[1,"bi","bi-stars","text-accent","fs-4"],[1,"text-white","small","mb-1"],[1,"text-secondary","x-small"],[1,"message","mb-3"],[1,"message-content","p-3","rounded-3",3,"ngClass"],[1,"mb-0","small"],[1,"text-secondary","x-small","mt-1","d-block"],[1,"message","ai","mb-3"],[1,"message-content","p-3","rounded-3","bg-white-10"],[1,"typing-indicator"],[1,"expense-preview","glass-card","p-3","mt-2","border","border-accent"],[1,"text-accent","mb-2","small","fw-bold","text-uppercase"],[1,"d-flex","justify-content-between","mb-1"],[1,"text-secondary","small"],[1,"text-white","small"],[1,"text-white","small","fw-bold"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-outline-danger","flex-grow-1",3,"click"],[1,"btn","btn-sm","btn-success","flex-grow-1",3,"click"],[1,"mb-2"],[1,"input-group"],["type","password","placeholder","Enter Gemini API Key",1,"form-control","bg-transparent","text-white","border-white-10","small",3,"ngModelChange","ngModel"],[1,"btn","btn-primary-gradient","btn-sm",3,"click"],["type","text","placeholder","Type an expense...",1,"form-control","bg-transparent","text-white","border-white-10",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"btn","btn-primary-gradient",3,"click","disabled"],[1,"bi","bi-send"]],template:function(e,o){if(e&1){let r=X();b(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),C(4,"i",5),f(),b(5,"h6",6),x(6,"AI Assistant"),f()(),b(7,"button",7),D("click",function(){return M(r),S(o.closeChat())}),C(8,"i",8),f()(),b(9,"div",9,0),H(11,Zo,7,0,"div",10)(12,Jo,7,12,"div",11)(13,tr,6,0,"div",12)(14,er,30,9,"div",13),f(),b(15,"div",14),H(16,nr,7,1,"div",15)(17,ir,4,3,"div",16),f()()}e&2&&(bt("open",o.isOpen),h(11),_("ngIf",o.messages.length===0),h(),_("ngForOf",o.messages),h(),_("ngIf",o.isProcessing),h(),_("ngIf",o.pendingExpense),h(2),_("ngIf",!o.hasApiKey),h(),_("ngIf",o.hasApiKey))},dependencies:[Z,ft,ht,gt,Pi,Ri,Di,Ni,Ti,Ei],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:20px;width:350px;height:500px;z-index:1050;display:flex;flex-direction:column;transform:translateY(20px);opacity:0;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-container.open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;pointer-events:all}@media (max-width: 576px){.chat-container[_ngcontent-%COMP%]{width:calc(100% - 40px);bottom:80px;height:60vh}}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:2px}.message[_ngcontent-%COMP%]{max-width:85%}.message.user[_ngcontent-%COMP%]{margin-left:auto}.message.user[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{border-bottom-right-radius:4px!important}.message.ai[_ngcontent-%COMP%]{margin-right:auto}.message.ai[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{border-bottom-left-radius:4px!important}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px 0}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;background:#ffffff80;border-radius:50%;animation:_ngcontent-%COMP%_bounce 1.4s infinite ease-in-out both}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_bounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.x-small[_ngcontent-%COMP%]{font-size:.7rem}"],changeDetection:0})};var Ke=class t{toggle=new tt;toggleChat(){this.toggle.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=A({type:t,selectors:[["app-chat-fab"]],outputs:{toggle:"toggle"},decls:2,vars:0,consts:[[1,"chat-fab","btn","btn-primary-gradient","rounded-circle","shadow-lg","d-flex","align-items-center","justify-content-center",3,"click"],[1,"bi","bi-stars","fs-4","text-white"]],template:function(e,o){e&1&&(bn(0,"button",0),hi("click",function(){return o.toggleChat()}),hn(1,"i",1),fn())},dependencies:[Z],styles:[".chat-fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;z-index:1060;transition:transform .2s cubic-bezier(.4,0,.2,1)}.chat-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.chat-fab[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 576px){.chat-fab[_ngcontent-%COMP%]{bottom:80px}}"],changeDetection:0})};var $e=class t{networkStatus=new ye(navigator.onLine);networkStatus$=this.networkStatus.asObservable();constructor(){window.addEventListener("online",()=>{this.networkStatus.next(!0)}),window.addEventListener("offline",()=>{this.networkStatus.next(!1)})}isOnline(){return navigator.onLine}static \u0275fac=function(e){return new(e||t)};static \u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})};function or(t,i){if(t&1){let e=X();b(0,"div",8)(1,"small"),C(2,"i",9),x(3," Install Expense Tracker for offline use "),b(4,"button",10),D("click",function(){M(e);let r=L();return S(r.installPWA())}),x(5,"Install"),f()()()}}function rr(t,i){t&1&&(b(0,"div",11)(1,"small"),C(2,"i",12),x(3," You are offline. Data may not be up to date."),f()())}function sr(t,i){if(t&1){let e=X();b(0,"app-chat-fab",13),D("toggle",function(){M(e);let r=L();return S(r.toggleChat())}),f()}}var Xe=class t{constructor(i,e,o){this.router=i;this.networkService=e;this.pwaService=o}title=ui("exp-tracker");isOnline=!0;showInstallButton=!1;isMobile=!1;isChatOpen=!1;links=[{path:"/dashboard",label:"Dashboard",icon:"bi-house-door",activeIcon:"bi-house-door-fill"},{path:"/add",label:"Add Expense",icon:"bi-plus-circle",activeIcon:"bi-plus-circle-fill"},{path:"/expenses",label:"Expenses",icon:"bi-collection",activeIcon:"bi-collection-fill"},{path:"/budgets",label:"Budgets",icon:"bi-wallet",activeIcon:"bi-wallet-fill"},{path:"/incomes",label:"Incomes",icon:"bi-piggy-bank",activeIcon:"bi-piggy-bank-fill"}];ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.networkService.networkStatus$.subscribe(e=>{this.isOnline=e}),window.addEventListener("beforeinstallprompt",e=>{this.showInstallButton=this.pwaService.isInstallable()&&!this.hasSeenInstallBanner()}),window.addEventListener("appinstalled",()=>{this.showInstallButton=!1});let i=()=>{let e=this.pwaService.isInstallable();this.pwaService.canInstall()&&!this.hasSeenInstallBanner()&&(this.showInstallButton=!0)};setTimeout(i,1e3),setInterval(i,5e3)}toggleChat(){this.isChatOpen=!this.isChatOpen}installPWA(){}hasSeenInstallBanner(){return localStorage.getItem("installBannerSeen")==="true"}setInstallBannerSeen(){localStorage.setItem("installBannerSeen","true")}static \u0275fac=function(e){return new(e||t)(j(Bt),j($e),j(Li))};static \u0275cmp=A({type:t,selectors:[["app-root"]],decls:11,vars:6,consts:[["class","alert alert-info text-center py-2 m-0",4,"ngIf"],["class","alert alert-warning text-center py-1 m-0",4,"ngIf"],[1,"d-none","d-md-block"],[3,"links"],[1,"main-content"],[1,"d-block","d-md-none"],[3,"close","isOpen"],[3,"toggle",4,"ngIf"],[1,"alert","alert-info","text-center","py-2","m-0"],[1,"bi","bi-download","me-1"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click"],[1,"alert","alert-warning","text-center","py-1","m-0"],[1,"bi","bi-wifi-off","me-1"],[3,"toggle"]],template:function(e,o){e&1&&(H(0,or,6,0,"div",0)(1,rr,4,0,"div",1),b(2,"div",2),C(3,"app-desktop-nav",3),f(),b(4,"div",4),C(5,"router-outlet"),f(),b(6,"div",5),C(7,"app-mobile-nav",3),f(),C(8,"app-toast"),b(9,"app-chat-interface",6),D("close",function(){return o.isChatOpen=!1}),f(),H(10,sr,1,0,"app-chat-fab",7)),e&2&&(_("ngIf",o.showInstallButton&&!o.isOnline),h(),_("ngIf",!o.isOnline&&!o.showInstallButton),h(2),_("links",o.links),h(4),_("links",o.links),h(2),_("isOpen",o.isChatOpen),h(),_("ngIf",!o.isChatOpen))},dependencies:[Z,gt,Ne,Fe,Be,Ee,Ge,Ke],styles:[".main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:calc(100vh - 60px);position:relative;z-index:1}app-swipe-layout[_ngcontent-%COMP%]{display:block;flex:1;height:100%;overflow:hidden}app-swipe-container[_ngcontent-%COMP%]{touch-action:pan-y}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{height:calc(100vh - 56px)}app-swipe-layout[_ngcontent-%COMP%]{padding-bottom:56px;height:calc(100vh - 56px)}}@media (min-width: 769px){app-swipe-layout[_ngcontent-%COMP%]{padding-top:48px;height:calc(100vh - 48px)}}"]})};var Jc=$a(da());ki(Xe,Hi).catch(t=>console.error(t));
