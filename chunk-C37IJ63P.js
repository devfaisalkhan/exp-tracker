import"./chunk-BLONM6LW.js";import{a as T}from"./chunk-ADOJRJQE.js";import{a as W,c as k,e as z,j as N,k as B,l as A,o as j}from"./chunk-AQZCTEBC.js";import{Ea as S,Ia as m,Lb as F,Mb as w,Ob as I,Pb as D,Rb as L,Ta as d,Ua as n,Va as t,Wa as f,Xa as O,Ya as c,Z as E,Za as x,_ as M,db as o,eb as g,fb as b,gb as P,hb as _,ib as u,jb as y,nb as h,pb as v,ta as a,ya as C}from"./chunk-7T257EYH.js";function U(i,l){if(i&1&&(n(0,"option",25),o(1),t()),i&2){let e=l.$implicit;d("value",e),a(),g(e)}}function q(i,l){if(i&1&&(n(0,"option",25),o(1),t()),i&2){let e=l.$implicit;d("value",e),a(),g(e)}}function G(i,l){if(i&1&&(n(0,"span",3),o(1),t()),i&2){let e=x();a(),P(" Showing ",e.filteredExpenses.length," of ",e.expenses.length," expenses ")}}function H(i,l){if(i&1&&(n(0,"span",42),o(1),t()),i&2){let e=x().$implicit;a(),g(e.paymentMethod)}}function K(i,l){if(i&1&&(n(0,"div",46),o(1),t()),i&2){let e=x(2).$implicit;a(),g(e.notes)}}function R(i,l){if(i&1&&(n(0,"span",49),o(1),t()),i&2){let e=l.$implicit;a(),g(e)}}function $(i,l){if(i&1&&(n(0,"div",47),m(1,R,2,1,"span",48),t()),i&2){let e=x(2).$implicit;a(),d("ngForOf",e.tags)}}function J(i,l){if(i&1&&(n(0,"div",43),m(1,K,2,1,"div",44)(2,$,2,1,"div",45),t()),i&2){let e=x().$implicit;a(),d("ngIf",e.notes),a(),d("ngIf",e.tags&&e.tags.length>0)}}function Q(i,l){if(i&1){let e=O();n(0,"div",26)(1,"div",27)(2,"div",28)(3,"div",29)(4,"div",30),f(5,"i",31),t()(),n(6,"div")(7,"h6",2),o(8),t(),n(9,"div",32)(10,"span",33),o(11),t(),n(12,"small",34),o(13),h(14,"date"),t(),m(15,H,2,1,"span",35),t()()(),n(16,"div",36)(17,"h6",37),o(18),h(19,"number"),t(),n(20,"small",34),o(21),h(22,"date"),t()()(),m(23,J,3,2,"div",38),n(24,"div",39)(25,"button",40),c("click",function(){let p=E(e).$implicit,s=x();return M(s.deleteExpense(p.id))}),f(26,"i",41),t()()()}if(i&2){let e=l.$implicit;a(8),g(e.title),a(3),g(e.category),a(2),g(v(14,7,e.date,"MMM d")),a(2),d("ngIf",e.paymentMethod),a(3),b("- PKR ",v(19,10,e.amount,"1.2-2")),a(3),g(v(22,13,e.date,"shortTime")),a(2),d("ngIf",e.notes||e.tags&&e.tags.length>0)}}function X(i,l){i&1&&(n(0,"div",50)(1,"div",51),f(2,"i",52),n(3,"p",53),o(4,"No expenses found"),t(),n(5,"small",34),o(6,"Try changing your filters or add a new expense"),t()()())}function Y(i,l){i&1&&(n(0,"div",54),f(1,"i",55),n(2,"p",53),o(3,"No expenses recorded yet"),t(),n(4,"small",34),o(5,"Add your first expense to get started"),t()())}var V=class i{constructor(l){this.expenseService=l}expenses=[];filteredExpenses=[];categories=["Food","Transport","Bills","Entertainment","Shopping","Healthcare","Education","Travel","Gifts","Utilities","Insurance","Other"];selectedCategory="";startDate="";endDate="";paymentMethodFilter="";ngOnInit(){this.loadExpenses()}loadExpenses(){this.expenses=this.expenseService.getExpenses(),this.applyFilters()}deleteExpense(l){confirm("Are you sure you want to delete this expense?")&&this.expenseService.deleteExpense(l)&&this.loadExpenses()}applyFilters(){this.filteredExpenses=this.expenses.filter(l=>{if(this.selectedCategory&&l.category!==this.selectedCategory||this.paymentMethodFilter&&l.paymentMethod!==this.paymentMethodFilter)return!1;let e=new Date(l.date).toISOString().split("T")[0];return!(this.startDate&&e<this.startDate||this.endDate&&e>this.endDate)})}onFilterChange(){this.applyFilters()}clearFilters(){this.selectedCategory="",this.startDate="",this.endDate="",this.paymentMethodFilter="",this.applyFilters()}getUniquePaymentMethods(){return this.expenses.map(e=>e.paymentMethod).filter(e=>e!==void 0&&e!=="").filter((e,r,p)=>p.indexOf(e)===r)}static \u0275fac=function(e){return new(e||i)(C(T))};static \u0275cmp=S({type:i,selectors:[["app-expenses-list"]],decls:39,vars:11,consts:[[1,"container-fluid","px-3","mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"text-muted","small"],[1,"card","mb-4","shadow-sm","border-0"],[1,"card-body","p-3"],[1,"row","g-2"],[1,"col-12","col-md-3"],["for","categoryFilter",1,"form-label","small"],["id","categoryFilter",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethodFilter",1,"form-label","small"],["id","paymentMethodFilter",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["for","startDate",1,"form-label","small"],["type","date","id","startDate",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label","small"],["type","date","id","endDate",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"col-12","mt-2"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],["class","text-muted small",4,"ngIf"],[1,"list-group","list-group-flush","mb-4"],["class","list-group-item border-0 px-0 py-3",4,"ngFor","ngForOf"],["class","list-group-item border-0 px-0 py-3 text-center",4,"ngIf"],["class","text-center py-5",4,"ngIf"],[3,"value"],[1,"list-group-item","border-0","px-0","py-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"d-flex","align-items-center","justify-content-center","bg-light","rounded-circle",2,"width","40px","height","40px"],[1,"bi","bi-bag","text-primary"],[1,"d-flex","gap-2","flex-wrap"],[1,"badge","bg-secondary","bg-opacity-10","text-secondary","text-xs"],[1,"text-muted"],["class","badge bg-info bg-opacity-10 text-info text-xs",4,"ngIf"],[1,"text-end"],[1,"mb-0","text-danger"],["class","mt-2",4,"ngIf"],[1,"mt-2","d-flex","justify-content-end"],["title","Delete",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"badge","bg-info","bg-opacity-10","text-info","text-xs"],[1,"mt-2"],["class","text-muted small mb-1",4,"ngIf"],["class","d-flex gap-1 flex-wrap",4,"ngIf"],[1,"text-muted","small","mb-1"],[1,"d-flex","gap-1","flex-wrap"],["class","badge bg-light text-dark small",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","small"],[1,"list-group-item","border-0","px-0","py-3","text-center"],[1,"d-flex","flex-column","align-items-center"],[1,"bi","bi-receipt","fs-1","text-muted","mb-2"],[1,"text-muted","mb-0"],[1,"text-center","py-5"],[1,"bi","bi-receipt","fs-1","text-muted","mb-3"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Expenses"),t(),n(4,"span",3),o(5),t()(),n(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),o(11,"Category"),t(),n(12,"select",9),y("ngModelChange",function(s){return u(r.selectedCategory,s)||(r.selectedCategory=s),s}),c("ngModelChange",function(){return r.onFilterChange()}),n(13,"option",10),o(14,"All"),t(),m(15,U,2,2,"option",11),t()(),n(16,"div",7)(17,"label",12),o(18,"Payment"),t(),n(19,"select",13),y("ngModelChange",function(s){return u(r.paymentMethodFilter,s)||(r.paymentMethodFilter=s),s}),c("ngModelChange",function(){return r.onFilterChange()}),n(20,"option",10),o(21,"All"),t(),m(22,q,2,2,"option",11),t()(),n(23,"div",7)(24,"label",14),o(25,"From"),t(),n(26,"input",15),y("ngModelChange",function(s){return u(r.startDate,s)||(r.startDate=s),s}),c("ngModelChange",function(){return r.onFilterChange()}),t()(),n(27,"div",7)(28,"label",16),o(29,"To"),t(),n(30,"input",17),y("ngModelChange",function(s){return u(r.endDate,s)||(r.endDate=s),s}),c("ngModelChange",function(){return r.onFilterChange()}),t()(),n(31,"div",18)(32,"button",19),c("click",function(){return r.clearFilters()}),o(33,"Clear"),t(),m(34,G,2,2,"span",20),t()()()(),n(35,"div",21),m(36,Q,27,16,"div",22)(37,X,7,0,"div",23),t(),m(38,Y,6,0,"div",24),t()),e&2&&(a(5),b("",r.filteredExpenses.length," items"),a(7),_("ngModel",r.selectedCategory),a(3),d("ngForOf",r.categories),a(4),_("ngModel",r.paymentMethodFilter),a(3),d("ngForOf",r.getUniquePaymentMethods()),a(4),_("ngModel",r.startDate),a(4),_("ngModel",r.endDate),a(4),d("ngIf",r.selectedCategory||r.startDate||r.endDate||r.paymentMethodFilter),a(2),d("ngForOf",r.filteredExpenses),a(),d("ngIf",r.filteredExpenses.length===0),a(),d("ngIf",r.expenses.length===0))},dependencies:[L,F,w,j,B,A,W,N,k,z,D,I],styles:[".container-fluid[_ngcontent-%COMP%]{padding:.75rem}h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:1rem}.card[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:none}.card-body[_ngcontent-%COMP%]{padding:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;font-size:.85rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dee2e6;padding:.5rem}.list-group-item[_ngcontent-%COMP%]{border:none;padding:12px 0}.list-group-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.bg-opacity-10[_ngcontent-%COMP%]{--bs-bg-opacity: .1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.text-danger[_ngcontent-%COMP%]{color:#e63946!important}.badge[_ngcontent-%COMP%]{font-weight:400}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.8rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6c757d}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{padding:.5rem}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]{padding:.75rem}.row[_ngcontent-%COMP%]{margin:0}.col-md-4[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding:.25rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:.4rem;font-size:.9rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .4rem}.btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .6rem}.text-xs[_ngcontent-%COMP%]{font-size:.7rem}}"]})};export{V as ExpensesList};
