import"./chunk-BLONM6LW.js";import{a as w}from"./chunk-G6TGKG62.js";import{a as N,c as W,e as k,j as z,k as A,l as B,o as V}from"./chunk-QAZQDVSC.js";import{Ea as O,Ia as g,Kb as F,Lb as D,Nb as I,Ob as L,Qb as T,Ta as m,Ua as n,Va as t,Wa as M,Xa as b,Ya as c,Z as C,Za as x,_ as v,db as i,eb as p,fb as _,gb as P,hb as f,ib as h,jb as E,mb as u,ob as y,ta as a,ya as S}from"./chunk-MFZMDKGS.js";function U(r,l){if(r&1&&(n(0,"option",25),i(1),t()),r&2){let e=l.$implicit;m("value",e),a(),p(e)}}function q(r,l){if(r&1&&(n(0,"option",25),i(1),t()),r&2){let e=l.$implicit;m("value",e),a(),p(e)}}function K(r,l){if(r&1&&(n(0,"span",26),i(1),t()),r&2){let e=x();a(),P(" Showing ",e.filteredExpenses.length," of ",e.expenses.length," expenses ")}}function R(r,l){if(r&1&&(n(0,"span",36),i(1),t()),r&2){let e=l.$implicit;a(),p(e)}}function G(r,l){if(r&1&&(n(0,"div")(1,"strong"),i(2,"Tags:"),t(),g(3,R,2,1,"span",35),t()),r&2){let e=x().$implicit;a(3),m("ngForOf",e.tags)}}function H(r,l){if(r&1){let e=b();n(0,"div",27)(1,"div",2)(2,"div",28)(3,"h5",29),i(4),t(),n(5,"span",30),i(6),t()(),n(7,"p",31)(8,"strong"),i(9,"Amount:"),t(),i(10),u(11,"number"),M(12,"br"),n(13,"strong"),i(14,"Date:"),t(),i(15),u(16,"date"),M(17,"br"),n(18,"strong"),i(19,"Payment:"),t(),i(20),M(21,"br"),n(22,"strong"),i(23,"Notes:"),t(),i(24),t(),g(25,G,4,1,"div",32),n(26,"div",33)(27,"button",34),c("click",function(){let d=C(e).$implicit,s=x();return v(s.deleteExpense(d.id))}),i(28,"Delete"),t()()()()}if(r&2){let e=l.$implicit;a(4),p(e.title),a(2),p(e.category),a(4),_(" PKR ",y(11,7,e.amount,"1.2-2")),a(5),_(" ",y(16,10,e.date,"short")),a(5),_(" ",e.paymentMethod||"Not specified"),a(4),_(" ",e.notes||"None"," "),a(),m("ngIf",e.tags&&e.tags.length>0)}}function $(r,l){if(r&1&&(n(0,"span",36),i(1),t()),r&2){let e=l.$implicit;a(),p(e)}}function J(r,l){r&1&&(n(0,"span"),i(1,"-"),t())}function Q(r,l){if(r&1){let e=b();n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),u(7,"number"),t(),n(8,"td"),i(9),u(10,"date"),t(),n(11,"td")(12,"span",30),i(13),t()(),n(14,"td"),i(15),t(),n(16,"td"),g(17,$,2,1,"span",35)(18,J,2,0,"span",32),t(),n(19,"td"),i(20),t(),n(21,"td")(22,"button",34),c("click",function(){let d=C(e).$implicit,s=x();return v(s.deleteExpense(d.id))}),i(23,"Delete"),t()()()}if(r&2){let e=l.$implicit;a(2),p(e.id),a(2),p(e.title),a(2),_("PKR ",y(7,9,e.amount,"1.2-2")),a(3),p(y(10,12,e.date,"short")),a(4),p(e.category),a(2),p(e.paymentMethod||"-"),a(2),m("ngForOf",e.tags),a(),m("ngIf",!e.tags||e.tags.length===0),a(2),p(e.notes||"-")}}function X(r,l){r&1&&(n(0,"div",37)(1,"p",26),i(2,"No expenses match your filters. Try changing your criteria."),t()())}function Y(r,l){r&1&&(n(0,"div",37)(1,"p",26),i(2,"No expenses found. Add your first expense!"),t()())}var j=class r{constructor(l){this.expenseService=l}expenses=[];filteredExpenses=[];categories=["Food","Transport","Bills","Entertainment","Shopping","Healthcare","Education","Travel","Gifts","Utilities","Insurance","Other"];selectedCategory="";startDate="";endDate="";paymentMethodFilter="";ngOnInit(){this.loadExpenses()}loadExpenses(){this.expenses=this.expenseService.getExpenses(),this.applyFilters()}deleteExpense(l){confirm("Are you sure you want to delete this expense?")&&this.expenseService.deleteExpense(l)&&this.loadExpenses()}applyFilters(){this.filteredExpenses=this.expenses.filter(l=>{if(this.selectedCategory&&l.category!==this.selectedCategory||this.paymentMethodFilter&&l.paymentMethod!==this.paymentMethodFilter)return!1;let e=new Date(l.date).toISOString().split("T")[0];return!(this.startDate&&e<this.startDate||this.endDate&&e>this.endDate)})}onFilterChange(){this.applyFilters()}clearFilters(){this.selectedCategory="",this.startDate="",this.endDate="",this.paymentMethodFilter="",this.applyFilters()}getUniquePaymentMethods(){return this.expenses.map(e=>e.paymentMethod).filter(e=>e!==void 0&&e!=="").filter((e,o,d)=>d.indexOf(e)===o)}static \u0275fac=function(e){return new(e||r)(S(w))};static \u0275cmp=O({type:r,selectors:[["app-expenses-list"]],decls:60,vars:11,consts:[[1,"container","mt-4"],[1,"card","mb-4"],[1,"card-body"],[1,"row","g-3"],[1,"col-md-3"],["for","categoryFilter",1,"form-label"],["id","categoryFilter",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethodFilter",1,"form-label"],["id","paymentMethodFilter",1,"form-select",3,"ngModelChange","ngModel"],["for","startDate",1,"form-label"],["type","date","id","startDate",1,"form-control",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label"],["type","date","id","endDate",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],[1,"btn","btn-outline-secondary","me-2",3,"click"],["class","text-muted",4,"ngIf"],[1,"d-md-none"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"d-none","d-md-block","table-responsive"],[1,"table","table-striped","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[3,"value"],[1,"text-muted"],[1,"card","mb-3"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title"],[1,"badge","bg-primary"],[1,"card-text"],[4,"ngIf"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],[1,"btn","btn-sm","btn-danger",3,"click"],["class","badge bg-secondary me-1",4,"ngFor","ngForOf"],[1,"badge","bg-secondary","me-1"],[1,"text-center","mt-4"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"h2"),i(2,"Expense List"),t(),n(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"label",5),i(8,"Filter by Category"),t(),n(9,"select",6),E("ngModelChange",function(s){return h(o.selectedCategory,s)||(o.selectedCategory=s),s}),c("ngModelChange",function(){return o.onFilterChange()}),n(10,"option",7),i(11,"All Categories"),t(),g(12,U,2,2,"option",8),t()(),n(13,"div",4)(14,"label",9),i(15,"Filter by Payment Method"),t(),n(16,"select",10),E("ngModelChange",function(s){return h(o.paymentMethodFilter,s)||(o.paymentMethodFilter=s),s}),c("ngModelChange",function(){return o.onFilterChange()}),n(17,"option",7),i(18,"All Payment Methods"),t(),g(19,q,2,2,"option",8),t()(),n(20,"div",4)(21,"label",11),i(22,"Start Date"),t(),n(23,"input",12),E("ngModelChange",function(s){return h(o.startDate,s)||(o.startDate=s),s}),c("ngModelChange",function(){return o.onFilterChange()}),t()(),n(24,"div",4)(25,"label",13),i(26,"End Date"),t(),n(27,"input",14),E("ngModelChange",function(s){return h(o.endDate,s)||(o.endDate=s),s}),c("ngModelChange",function(){return o.onFilterChange()}),t()(),n(28,"div",15)(29,"button",16),c("click",function(){return o.clearFilters()}),i(30,"Clear Filters"),t(),g(31,K,2,2,"span",17),t()()()(),n(32,"div",18),g(33,H,29,13,"div",19),t(),n(34,"div",20)(35,"table",21)(36,"thead",22)(37,"tr")(38,"th"),i(39,"ID"),t(),n(40,"th"),i(41,"Title"),t(),n(42,"th"),i(43,"Amount"),t(),n(44,"th"),i(45,"Date"),t(),n(46,"th"),i(47,"Category"),t(),n(48,"th"),i(49,"Payment Method"),t(),n(50,"th"),i(51,"Tags"),t(),n(52,"th"),i(53,"Notes"),t(),n(54,"th"),i(55,"Actions"),t()()(),n(56,"tbody"),g(57,Q,24,15,"tr",23),t()()(),g(58,X,3,0,"div",24)(59,Y,3,0,"div",24),t()),e&2&&(a(9),f("ngModel",o.selectedCategory),a(3),m("ngForOf",o.categories),a(4),f("ngModel",o.paymentMethodFilter),a(3),m("ngForOf",o.getUniquePaymentMethods()),a(4),f("ngModel",o.startDate),a(4),f("ngModel",o.endDate),a(4),m("ngIf",o.selectedCategory||o.startDate||o.endDate||o.paymentMethodFilter),a(2),m("ngForOf",o.filteredExpenses),a(24),m("ngForOf",o.filteredExpenses),a(),m("ngIf",o.filteredExpenses.length===0),a(),m("ngIf",o.expenses.length===0))},dependencies:[T,F,D,V,A,B,N,z,W,k,L,I],styles:[".container[_ngcontent-%COMP%]{padding:.75rem}h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem;text-align:center}.card[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.card-body[_ngcontent-%COMP%]{padding:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dee2e6;padding:.5rem}.table[_ngcontent-%COMP%]{margin:0;font-size:.85rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600;padding:.75rem .5rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem;border-top:1px solid #e9ecef}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.3rem .5rem}.btn-danger[_ngcontent-%COMP%]{padding:.4rem .6rem;font-size:.8rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6c757d}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:.5rem}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]{padding:.75rem}.row[_ngcontent-%COMP%]{margin:0}.col-md-4[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding:.25rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:.4rem;font-size:.9rem}.table[_ngcontent-%COMP%]{font-size:.75rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem}.btn-danger[_ngcontent-%COMP%]{padding:.3rem .45rem;font-size:.75rem}.btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .6rem}}"]})};export{j as ExpensesList};
