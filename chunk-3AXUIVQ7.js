import"./chunk-BLONM6LW.js";import{a as k,c as z,e as N,j as B,k as j,l as A,o as V}from"./chunk-VYXIXCZH.js";import{b as W}from"./chunk-2RFL6TEX.js";import{a as L}from"./chunk-4TPA7VXD.js";import{Ab as _,Bb as u,Fa as o,Fb as y,Hb as v,Ka as b,Qa as S,Ua as c,db as d,eb as n,ec as P,fb as t,fc as w,ga as M,gb as h,ha as C,ib as O,jb as g,jc as I,kb as f,kc as T,mc as D,vb as s,wb as m,xb as E,yb as F,zb as x}from"./chunk-K5WJW7RS.js";function q(i,a){if(i&1&&(n(0,"option",24),s(1),t()),i&2){let e=a.$implicit;d("value",e),o(),m(e)}}function G(i,a){if(i&1&&(n(0,"option",24),s(1),t()),i&2){let e=a.$implicit;d("value",e),o(),m(e)}}function H(i,a){if(i&1&&(n(0,"span",3),s(1),t()),i&2){let e=f();o(),F(" Showing ",e.filteredExpenses.length," of ",e.expenses.length," expenses ")}}function K(i,a){if(i&1&&(n(0,"span",41),s(1),t()),i&2){let e=f().$implicit;o(),m(e.paymentMethod)}}function R(i,a){if(i&1&&(n(0,"div",45),s(1),t()),i&2){let e=f(2).$implicit;o(),m(e.notes)}}function $(i,a){if(i&1&&(n(0,"span",48),s(1),t()),i&2){let e=a.$implicit;o(),m(e)}}function J(i,a){if(i&1&&(n(0,"div",46),c(1,$,2,1,"span",47),t()),i&2){let e=f(2).$implicit;o(),d("ngForOf",e.tags)}}function Q(i,a){if(i&1&&(n(0,"div",42),c(1,R,2,1,"div",43)(2,J,2,1,"div",44),t()),i&2){let e=f().$implicit;o(),d("ngIf",e.notes),o(),d("ngIf",e.tags&&e.tags.length>0)}}function X(i,a){if(i&1){let e=O();n(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29),h(5,"i",30),t()(),n(6,"div")(7,"h6",2),s(8),t(),n(9,"div",31)(10,"span",32),s(11),t(),n(12,"small",33),s(13),y(14,"date"),t(),c(15,K,2,1,"span",34),t()()(),n(16,"div",35)(17,"h6",36),s(18),y(19,"number"),t(),n(20,"small",33),s(21),y(22,"date"),t()()(),c(23,Q,3,2,"div",37),n(24,"div",38)(25,"button",39),g("click",function(){let p=M(e).$implicit,l=f();return C(l.deleteExpense(p.id))}),h(26,"i",40),t()()()}if(i&2){let e=a.$implicit;o(8),m(e.title),o(3),m(e.category),o(2),m(v(14,7,e.date,"MMM d")),o(2),d("ngIf",e.paymentMethod),o(3),E("- PKR ",v(19,10,e.amount,"1.2-2")),o(3),m(v(22,13,e.date,"shortTime")),o(2),d("ngIf",e.notes||e.tags&&e.tags.length>0)}}function Y(i,a){i&1&&(n(0,"div",49)(1,"div",50),h(2,"i",51),n(3,"p",52),s(4,"No expenses found"),t(),n(5,"small",33),s(6,"Try changing your filters or add a new expense"),t()()())}var U=class i{constructor(a,e){this.expenseService=a;this.toastService=e}expenses=[];filteredExpenses=[];categories=["Food","Transport","Bills","Entertainment","Shopping","Healthcare","Education","Travel","Gifts","Utilities","Insurance","Other"];selectedCategory="";startDate="";endDate="";paymentMethodFilter="";ngOnInit(){this.loadExpenses()}loadExpenses(){this.expenses=this.expenseService.getExpenses(),this.applyFilters()}deleteExpense(a){confirm("Are you sure you want to delete this expense?")&&(this.expenseService.deleteExpense(a)?(this.loadExpenses(),this.toastService.success("Expense deleted successfully!")):this.toastService.error("Failed to delete expense!"))}applyFilters(){this.filteredExpenses=this.expenses.filter(a=>{if(this.selectedCategory&&a.category!==this.selectedCategory||this.paymentMethodFilter&&a.paymentMethod!==this.paymentMethodFilter)return!1;let e=new Date(a.date).toISOString().split("T")[0];return!(this.startDate&&e<this.startDate||this.endDate&&e>this.endDate)})}onFilterChange(){this.applyFilters()}clearFilters(){this.selectedCategory="",this.startDate="",this.endDate="",this.paymentMethodFilter="",this.applyFilters(),this.toastService.info("Filters cleared")}getUniquePaymentMethods(){return this.expenses.map(e=>e.paymentMethod).filter(e=>e!==void 0&&e!=="").filter((e,r,p)=>p.indexOf(e)===r)}static \u0275fac=function(e){return new(e||i)(b(W),b(L))};static \u0275cmp=S({type:i,selectors:[["app-expenses-list"]],decls:38,vars:10,consts:[[1,"container-fluid","px-3","mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"text-muted","small"],[1,"card","mb-4","shadow-sm","border-0"],[1,"card-body","p-3"],[1,"row","g-2"],[1,"col-12","col-md-3"],["for","categoryFilter",1,"form-label","small"],["id","categoryFilter",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethodFilter",1,"form-label","small"],["id","paymentMethodFilter",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["for","startDate",1,"form-label","small"],["type","date","id","startDate",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label","small"],["type","date","id","endDate",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"col-12","mt-2"],[1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],["class","text-muted small",4,"ngIf"],[1,"list-group","list-group-flush","mb-4"],["class","list-group-item border-0 px-0 py-3",4,"ngFor","ngForOf"],["class","list-group-item border-0 px-0 py-3 text-center",4,"ngIf"],[3,"value"],[1,"list-group-item","border-0","px-0","py-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"d-flex","align-items-center","justify-content-center","bg-light","rounded-circle",2,"width","40px","height","40px"],[1,"bi","bi-bag","text-primary"],[1,"d-flex","gap-2","flex-wrap"],[1,"badge","bg-secondary","bg-opacity-10","text-secondary","text-xs"],[1,"text-muted"],["class","badge bg-info bg-opacity-10 text-info text-xs",4,"ngIf"],[1,"text-end"],[1,"mb-0","text-danger"],["class","mt-2",4,"ngIf"],[1,"mt-2","d-flex","justify-content-end"],["title","Delete",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"bi","bi-trash"],[1,"badge","bg-info","bg-opacity-10","text-info","text-xs"],[1,"mt-2"],["class","text-muted small mb-1",4,"ngIf"],["class","d-flex gap-1 flex-wrap",4,"ngIf"],[1,"text-muted","small","mb-1"],[1,"d-flex","gap-1","flex-wrap"],["class","badge bg-light text-dark small",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","small"],[1,"list-group-item","border-0","px-0","py-3","text-center"],[1,"d-flex","flex-column","align-items-center"],[1,"bi","bi-receipt","fs-1","text-muted","mb-2"],[1,"text-muted","mb-0"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"Expenses"),t(),n(4,"span",3),s(5),t()(),n(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),s(11,"Category"),t(),n(12,"select",9),u("ngModelChange",function(l){return _(r.selectedCategory,l)||(r.selectedCategory=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),n(13,"option",10),s(14,"All"),t(),c(15,q,2,2,"option",11),t()(),n(16,"div",7)(17,"label",12),s(18,"Payment"),t(),n(19,"select",13),u("ngModelChange",function(l){return _(r.paymentMethodFilter,l)||(r.paymentMethodFilter=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),n(20,"option",10),s(21,"All"),t(),c(22,G,2,2,"option",11),t()(),n(23,"div",7)(24,"label",14),s(25,"From"),t(),n(26,"input",15),u("ngModelChange",function(l){return _(r.startDate,l)||(r.startDate=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),t()(),n(27,"div",7)(28,"label",16),s(29,"To"),t(),n(30,"input",17),u("ngModelChange",function(l){return _(r.endDate,l)||(r.endDate=l),l}),g("ngModelChange",function(){return r.onFilterChange()}),t()(),n(31,"div",18)(32,"button",19),g("click",function(){return r.clearFilters()}),s(33,"Clear"),t(),c(34,H,2,2,"span",20),t()()()(),n(35,"div",21),c(36,X,27,16,"div",22)(37,Y,7,0,"div",23),t()()),e&2&&(o(5),E("",r.filteredExpenses.length," items"),o(7),x("ngModel",r.selectedCategory),o(3),d("ngForOf",r.categories),o(4),x("ngModel",r.paymentMethodFilter),o(3),d("ngForOf",r.getUniquePaymentMethods()),o(4),x("ngModel",r.startDate),o(4),x("ngModel",r.endDate),o(4),d("ngIf",r.selectedCategory||r.startDate||r.endDate||r.paymentMethodFilter),o(2),d("ngForOf",r.filteredExpenses),o(),d("ngIf",r.filteredExpenses.length===0))},dependencies:[D,P,w,V,j,A,k,B,z,N,T,I],styles:[".container-fluid[_ngcontent-%COMP%]{padding:.75rem}h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:1rem}.card[_ngcontent-%COMP%]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px #0000001a;border:none}.card-body[_ngcontent-%COMP%]{padding:1rem}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;font-size:.85rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #dee2e6;padding:.5rem}.list-group-item[_ngcontent-%COMP%]{border:none;padding:12px 0}.list-group-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.text-xs[_ngcontent-%COMP%]{font-size:.75rem}.bg-opacity-10[_ngcontent-%COMP%]{--bs-bg-opacity: .1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.text-danger[_ngcontent-%COMP%]{color:#e63946!important}.badge[_ngcontent-%COMP%]{font-weight:400}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.8rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6c757d}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{padding:.5rem}h2[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]{padding:.75rem}.row[_ngcontent-%COMP%]{margin:0}.col-md-4[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding:.25rem}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:.4rem;font-size:.9rem}.btn-sm[_ngcontent-%COMP%]{font-size:.75rem;padding:.2rem .4rem}.btn[_ngcontent-%COMP%]{font-size:.85rem;padding:.4rem .6rem}.text-xs[_ngcontent-%COMP%]{font-size:.7rem}}"]})};export{U as ExpensesList};
