import{a as le,b as pe,c as ce,d as de,e as me,f as ue}from"./chunk-S62R7KVS.js";import{$ as Y,B as w,Ea as Q,Ia as X,J as P,Kb as oe,La as ee,M as h,Mb as ae,N as G,P as b,Pa as te,Ra as j,Rb as se,S as Z,T as R,Ta as m,U as k,Ua as o,V as $,Va as a,Wa as c,Xa as U,Ya as B,Z as N,Za as z,_ as F,a as H,db as l,e as x,ea as q,fa as J,h as E,i as K,lb as _,mb as ne,p as v,sb as ie,ta as g,w as u,x as D,xb as re,ya as S}from"./chunk-7T257EYH.js";var W="Service workers are disabled or not supported by this browser",C=class{serviceWorker;worker;registration;events;constructor(r,t){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=new x(n=>n.error(new h(5601,!1)));else{let n=null,i=new E;this.worker=new x(d=>(n!==null&&d.next(n),i.subscribe(y=>d.next(y))));let p=()=>{let{controller:d}=r;d!==null&&(n=d,i.next(n))};r.addEventListener("controllerchange",p),p(),this.registration=this.worker.pipe(P(()=>r.getRegistration().then(d=>{if(!d)throw new h(5601,!1);return d})));let s=new E;this.events=s.asObservable();let f=d=>{let{data:y}=d;y?.type&&s.next(y)};r.addEventListener("message",f),t?.get(j,null,{optional:!0})?.onDestroy(()=>{r.removeEventListener("controllerchange",p),r.removeEventListener("message",f)})}}postMessage(r,t){return new Promise(n=>{this.worker.pipe(w(1)).subscribe(i=>{i.postMessage(H({action:r},t)),n()})})}postMessageWithOperation(r,t,n){let i=this.waitForOperationCompleted(n),p=this.postMessage(r,t);return Promise.all([p,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let t;return typeof r=="string"?t=n=>n.type===r:t=n=>r.includes(n.type),this.events.pipe(D(t))}nextEventOfType(r){return this.eventsOfType(r).pipe(w(1))}waitForOperationCompleted(r){return new Promise((t,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(D(i=>i.nonce===r),w(1),v(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:t,error:n})})}get isEnabled(){return!!this.serviceWorker}},we=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new E;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=u,this.notificationClicks=u,this.notificationCloses=u,this.pushSubscriptionChanges=u,this.subscription=u;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(v(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(v(i=>i.data)),this.pushManager=this.sw.registration.pipe(v(i=>i.pushManager));let n=this.pushManager.pipe(P(i=>i.getSubscription()));this.subscription=new x(i=>{let p=n.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{p.unsubscribe(),s.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(W));let n={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),p=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)p[s]=i.charCodeAt(s);return n.applicationServerKey=p,new Promise((s,f)=>{this.pushManager.pipe(P(O=>O.subscribe(n)),w(1)).subscribe({next:O=>{this.subscriptionChanges.next(O),s(O)},error:f})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(W));let t=n=>{if(n===null)throw new h(5602,!1);return n.unsubscribe().then(i=>{if(!i)throw new h(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,i)=>{this.subscription.pipe(w(1),P(t)).subscribe({next:n,error:i})})}decodeBase64(t){return atob(t)}static \u0275fac=function(n){return new(n||e)(R(C))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Ce=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=u,this.unrecoverable=u;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(W));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new h(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(n){return new(n||e)(R(C))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();var fe=new Z("");function Oe(){let e=k(M);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let r=k(fe),t=k(ee),n=k(j);t.runOutsideAngular(()=>{let i=navigator.serviceWorker,p=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",p),n.onDestroy(()=>{i.removeEventListener("controllerchange",p)})}),t.runOutsideAngular(()=>{let i,{registrationStrategy:p}=e;if(typeof p=="function")i=new Promise(s=>p().subscribe(()=>s()));else{let[s,...f]=(p||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=ge(+f[0]||0);break;case"registerWhenStable":i=Promise.race([n.whenStable(),ge(+f[0])]);break;default:throw new h(5600,!1)}}i.then(()=>{n.destroyed||navigator.serviceWorker.register(r,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(G(5604,!1)))})})}function ge(e){return new Promise(r=>setTimeout(r,e))}function Pe(e,r){return new C(e.enabled!==!1?navigator.serviceWorker:void 0,r)}var M=class{enabled;updateViaCache;type;scope;registrationStrategy};function ve(e,r={}){return $([we,Ce,{provide:fe,useValue:e},{provide:M,useValue:r},{provide:C,useFactory:Pe,deps:[M,Y]},te(Oe)])}var he=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-L4UFHWPM.js").then(e=>e.DashboardComponent)},{path:"add",loadComponent:()=>import("./chunk-WVWPSCQA.js").then(e=>e.AddExpense)},{path:"expenses",loadComponent:()=>import("./chunk-C37IJ63P.js").then(e=>e.ExpensesList)},{path:"budgets",loadComponent:()=>import("./chunk-HY65VWCE.js").then(e=>e.BudgetsComponent)},{path:"profile",loadComponent:()=>import("./chunk-75NHO3ZR.js").then(e=>e.UserProfileComponent)}];var be={providers:[q(),ie(),ue(he),ve("ngsw-worker.js",{enabled:!re(),registrationStrategy:"registerImmediately"})]};var I=class e{networkStatus=new K(navigator.onLine);networkStatus$=this.networkStatus.asObservable();constructor(){window.addEventListener("online",()=>{this.networkStatus.next(!0)}),window.addEventListener("offline",()=>{this.networkStatus.next(!1)})}isOnline(){return navigator.onLine}static \u0275fac=function(t){return new(t||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var A=class e{deferredPrompt=null;constructor(){this.listenForInstallPrompt()}listenForInstallPrompt(){window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredPrompt=r,console.log("Install prompt deferred")})}showInstallPrompt(){if(this.deferredPrompt)return this.deferredPrompt.prompt()}isInstallable(){return this.deferredPrompt!==null}async getInstallPromptResult(){if(this.deferredPrompt){let r=await this.deferredPrompt.userChoice;return this.deferredPrompt=null,r}return null}static \u0275fac=function(t){return new(t||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var Me=(e,r)=>({"mt-3":e,"mt-4":r}),T=()=>({exact:!0});function ye(e,r){if(e&1){let t=U();o(0,"div",32)(1,"small"),c(2,"i",33),l(3," Install Expense Tracker for offline use "),o(4,"button",34),B("click",function(){N(t);let i=z();return F(i.installPWA())}),l(5,"Install"),a()()()}}function xe(e,r){if(e&1){let t=U();o(0,"div",32)(1,"small"),c(2,"i",33),l(3," Install Expense Tracker app for offline use "),o(4,"button",34),B("click",function(){N(t);let i=z();return F(i.installPWA())}),l(5,"Install"),a()()()}}function Ee(e,r){e&1&&(o(0,"div",35)(1,"small"),c(2,"i",36),l(3," You are offline. Data may not be up to date."),a()())}var L=class e{constructor(r,t,n){this.router=r;this.networkService=t;this.pwaService=n}title=J("exp-tracker");isOnline=!0;showInstallButton=!1;ngOnInit(){this.networkService.networkStatus$.subscribe(r=>{this.isOnline=r}),window.addEventListener("beforeinstallprompt",()=>{this.showInstallButton=this.pwaService.isInstallable()}),setTimeout(()=>{this.showInstallButton||(this.showInstallButton=this.pwaService.isInstallable())},2e3)}installPWA(){this.pwaService.showInstallPrompt()}isActiveRoute(r){return this.router.url.includes(r)}static \u0275fac=function(t){return new(t||e)(S(ce),S(I),S(A))};static \u0275cmp=Q({type:e,selectors:[["app-root"]],decls:55,vars:15,consts:[["class","alert alert-info text-center py-2 m-0","style","position: sticky; top: 0; z-index: 1050; border-radius: 0; background-color: #e7f3ff;",4,"ngIf"],["class","alert alert-warning text-center py-1 m-0","style","position: sticky; top: 0; z-index: 1049; border-radius: 0;",4,"ngIf"],[1,"navbar","navbar-expand-md","navbar-light","bg-primary","bg-gradient","text-white","sticky-top","d-none","d-md-block",3,"ngClass"],[1,"container-fluid"],["href","#",1,"navbar-brand","text-white","fw-bold"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon","text-white"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-link","text-white",3,"routerLinkActiveOptions"],["routerLink","/add","routerLinkActive","active",1,"nav-link","text-white",3,"routerLinkActiveOptions"],["routerLink","/expenses","routerLinkActive","active",1,"nav-link","text-white"],["routerLink","/budgets","routerLinkActive","active",1,"nav-link","text-white"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-dark"],["routerLink","/profile","routerLinkActive","active",1,"dropdown-item"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],[1,"main-content"],[1,"mobile-nav","d-block","d-md-none","fixed-bottom"],[1,"nav","d-flex","justify-content-around","align-items-center","py-2","bg-white","border-top","shadow"],["routerLink","/dashboard","routerLinkActive","active-nav",1,"nav-link","text-center","flex-column","d-flex","align-items-center","justify-content-center",3,"routerLinkActiveOptions"],[1,"bi","bi-house-door","fs-5","mb-1"],[1,"small"],["routerLink","/add","routerLinkActive","active-nav",1,"nav-link","text-center","flex-column","d-flex","align-items-center","justify-content-center",3,"routerLinkActiveOptions"],[1,"bi","bi-plus-circle","fs-5","mb-1"],["routerLink","/expenses","routerLinkActive","active-nav",1,"nav-link","text-center","flex-column","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-receipt","fs-5","mb-1"],["routerLink","/budgets","routerLinkActive","active-nav",1,"nav-link","text-center","flex-column","d-flex","align-items-center","justify-content-center"],[1,"bi","bi-wallet2","fs-5","mb-1"],[1,"alert","alert-info","text-center","py-2","m-0",2,"position","sticky","top","0","z-index","1050","border-radius","0","background-color","#e7f3ff"],[1,"bi","bi-download","me-1"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click"],[1,"alert","alert-warning","text-center","py-1","m-0",2,"position","sticky","top","0","z-index","1049","border-radius","0"],[1,"bi","bi-wifi-off","me-1"]],template:function(t,n){t&1&&(X(0,ye,6,0,"div",0)(1,xe,6,0,"div",0)(2,Ee,4,0,"div",1),o(3,"nav",2)(4,"div",3)(5,"a",4),l(6,"Expense Tracker"),a(),o(7,"button",5),c(8,"span",6),a(),o(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),l(13,"Dashboard"),a()(),o(14,"li",9)(15,"a",11),l(16,"Add Expense"),a()(),o(17,"li",9)(18,"a",12),l(19,"View Expenses"),a()(),o(20,"li",9)(21,"a",13),l(22,"Budgets"),a()(),o(23,"li",14)(24,"a",15),l(25," Profile "),a(),o(26,"ul",16)(27,"li")(28,"a",17),l(29,"Settings"),a()(),o(30,"li"),c(31,"hr",18),a(),o(32,"li")(33,"a",19),l(34,"Sign Out"),a()()()()()()()(),o(35,"div",20),c(36,"router-outlet"),a(),o(37,"div",21)(38,"div",22)(39,"a",23),c(40,"i",24),o(41,"span",25),l(42,"Home"),a()(),o(43,"a",26),c(44,"i",27),o(45,"span",25),l(46,"Add"),a()(),o(47,"a",28),c(48,"i",29),o(49,"span",25),l(50,"Expenses"),a()(),o(51,"a",30),c(52,"i",31),o(53,"span",25),l(54,"Budget"),a()()()()),t&2&&(m("ngIf",n.showInstallButton&&!n.isOnline),g(),m("ngIf",n.showInstallButton&&n.isOnline),g(),m("ngIf",!n.isOnline&&!n.showInstallButton),g(),m("ngClass",ne(8,Me,!n.isOnline&&!n.showInstallButton||n.isOnline&&!n.showInstallButton,n.showInstallButton)),g(9),m("routerLinkActiveOptions",_(11,T)),g(3),m("routerLinkActiveOptions",_(12,T)),g(24),m("routerLinkActiveOptions",_(13,T)),g(4),m("routerLinkActiveOptions",_(14,T)))},dependencies:[se,oe,ae,pe,de,me],styles:["body[_ngcontent-%COMP%]{margin:0;padding:56px 0 0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#f8f9fa}body.standalone[_ngcontent-%COMP%]{padding-top:0}@media all and (display-mode: standalone){body[_ngcontent-%COMP%]{padding-top:0}.navbar.sticky-top[_ngcontent-%COMP%]{padding-top:env(safe-area-inset-top)}.mobile-nav.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom)}}.navbar[_ngcontent-%COMP%]{padding:.5rem 1rem!important;height:56px;box-shadow:0 2px 4px #0000001a}.navbar-brand[_ngcontent-%COMP%]{font-size:1.25rem!important;font-weight:600}.nav-link[_ngcontent-%COMP%]{font-size:.9rem!important;padding:.5rem 1rem!important}.main-content[_ngcontent-%COMP%]{padding:0;min-height:calc(100vh - 116px)}@media (min-width: 768px){.main-content[_ngcontent-%COMP%]{min-height:calc(100vh - 56px)}}.container[_ngcontent-%COMP%]{padding:.5rem!important;max-width:100%!important}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:.75rem 1rem!important;font-size:1rem!important;border-radius:8px!important;border:1px solid #ddd!important}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem!important;font-size:1rem!important;border-radius:8px!important;font-weight:500!important}.table[_ngcontent-%COMP%]{font-size:.85rem!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem .5rem!important}.mobile-nav[_ngcontent-%COMP%]{z-index:1000}.mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#6c757d;transition:all .2s ease}.mobile-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:active{color:#4361ee}.mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.25rem}.mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;line-height:1}.nav-link.active-nav[_ngcontent-%COMP%], .nav-link.active-nav[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4361ee!important}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding-bottom:60px}}@media (max-width: 576px){body[_ngcontent-%COMP%]{padding-top:50px}.navbar[_ngcontent-%COMP%]{height:50px;padding:.25rem .5rem!important}.container[_ngcontent-%COMP%]{padding:.25rem!important}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:.6rem .75rem!important;font-size:.95rem!important}.btn[_ngcontent-%COMP%]{padding:.65rem 1.25rem!important;font-size:.95rem!important}.table[_ngcontent-%COMP%]{font-size:.75rem!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .25rem!important}.navbar-brand[_ngcontent-%COMP%]{font-size:1.1rem!important}.nav-link[_ngcontent-%COMP%]{font-size:.85rem!important;padding:.4rem .75rem!important}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:1.2rem!important}.mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.mobile-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}}"]})};le(L,be).catch(e=>console.error(e));
