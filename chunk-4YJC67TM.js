import"./chunk-BLONM6LW.js";import{a as k,c as W,e as N,j,k as B,l as V,o as A}from"./chunk-MESOCZI5.js";import{b as P}from"./chunk-JNUJ7SRY.js";import{a as L}from"./chunk-VSDMO5SJ.js";import{j as F,k as I,p as T,q as D,s as O}from"./chunk-ZTY7VYUY.js";import{Aa as r,Bb as _,Cb as u,Db as y,Ga as M,Hb as v,Jb as b,Ma as S,Ra as m,bb as p,cb as i,da as E,db as t,ea as w,eb as h,ib as C,lb as c,nb as g,xb as o,yb as f,zb as x}from"./chunk-I6MSPIIX.js";function q(n,s){if(n&1&&(i(0,"option",23),o(1),t()),n&2){let e=s.$implicit;p("value",e),r(),f(e)}}function G(n,s){if(n&1&&(i(0,"option",23),o(1),t()),n&2){let e=s.$implicit;p("value",e),r(),x("",e," ")}}function H(n,s){if(n&1){let e=C();i(0,"div",24)(1,"button",25),c("click",function(){E(e);let d=g();return w(d.clearFilters())}),h(2,"i",26),o(3," Clear Filters "),t()()}}function Y(n,s){if(n&1&&(i(0,"span",43),o(1),t()),n&2){let e=g().$implicit;r(),f(e.paymentMethod)}}function $(n,s){if(n&1&&(i(0,"div",47),o(1),t()),n&2){let e=g(2).$implicit;r(),f(e.notes)}}function z(n,s){if(n&1&&(i(0,"span",50),o(1),t()),n&2){let e=s.$implicit;r(),x("#",e)}}function J(n,s){if(n&1&&(i(0,"div",48),m(1,z,2,1,"span",49),t()),n&2){let e=g(2).$implicit;r(),p("ngForOf",e.tags)}}function K(n,s){if(n&1&&(i(0,"div",44),m(1,$,2,1,"div",45)(2,J,2,1,"div",46),t()),n&2){let e=g().$implicit;r(),p("ngIf",e.notes),r(),p("ngIf",e.tags&&e.tags.length>0)}}function Q(n,s){if(n&1){let e=C();i(0,"div",27)(1,"div",28)(2,"div",29)(3,"div",30),h(4,"i",31),t(),i(5,"div")(6,"h6",32),o(7),t(),i(8,"div",33)(9,"span",34),o(10),t(),i(11,"small",35),o(12),v(13,"date"),t(),m(14,Y,2,1,"span",36),t()()(),i(15,"div",37)(16,"h6",38),o(17),v(18,"number"),t(),i(19,"small",35),o(20),v(21,"date"),t()()(),m(22,K,3,2,"div",39),i(23,"div",40)(24,"button",41),c("click",function(){let d=E(e).$implicit,l=g();return w(l.deleteExpense(d.id))}),h(25,"i",42),t()()()}if(n&2){let e=s.$implicit;r(7),f(e.title),r(3),f(e.category),r(2),x("\u2022 ",b(13,7,e.date,"MMM d")),r(2),p("ngIf",e.paymentMethod),r(3),x("- ",b(18,10,e.amount,"1.0-0")),r(3),f(b(21,13,e.date,"shortTime")),r(2),p("ngIf",e.notes||e.tags&&e.tags.length>0)}}function R(n,s){n&1&&(i(0,"div",51)(1,"div",52),h(2,"i",53),t(),i(3,"h5",54),o(4,"No expenses found"),t(),i(5,"p",55),o(6,"Try adjusting your filters or add a new expense"),t()())}var U=class n{constructor(s,e){this.expenseService=s;this.toastService=e}expenses=[];filteredExpenses=[];categories=["Food","Transport","Bills","Entertainment","Shopping","Healthcare","Education","Travel","Gifts","Utilities","Insurance","Other"];selectedCategory="";startDate="";endDate="";paymentMethodFilter="";ngOnInit(){this.loadExpenses()}loadExpenses(){this.expenses=this.expenseService.getExpenses(),this.applyFilters()}deleteExpense(s){confirm("Are you sure you want to delete this expense?")&&(this.expenseService.deleteExpense(s)?(this.loadExpenses(),this.toastService.success("Expense deleted successfully!")):this.toastService.error("Failed to delete expense!"))}applyFilters(){this.filteredExpenses=this.expenses.filter(s=>{if(this.selectedCategory&&s.category!==this.selectedCategory||this.paymentMethodFilter&&s.paymentMethod!==this.paymentMethodFilter)return!1;let e=new Date(s.date).toISOString().split("T")[0];return!(this.startDate&&e<this.startDate||this.endDate&&e>this.endDate)})}onFilterChange(){this.applyFilters()}clearFilters(){this.selectedCategory="",this.startDate="",this.endDate="",this.paymentMethodFilter="",this.applyFilters(),this.toastService.info("Filters cleared")}getUniquePaymentMethods(){return this.expenses.map(e=>e.paymentMethod).filter(e=>e!==void 0&&e!=="").filter((e,a,d)=>d.indexOf(e)===a)}static \u0275fac=function(e){return new(e||n)(M(P),M(L))};static \u0275cmp=S({type:n,selectors:[["app-expenses-list"]],decls:38,vars:10,consts:[[1,"container-fluid","dashboard-container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0","fw-bold","text-gradient"],[1,"text-secondary","mb-0","small"],[1,"badge","bg-white-10","text-white","rounded-pill","px-3","py-2"],[1,"glass-card","mb-4","p-3"],[1,"row","g-3"],[1,"col-6","col-md-3"],["for","categoryFilter",1,"form-label","text-secondary","small","fw-bold","text-uppercase"],["id","categoryFilter",1,"form-select","form-select-sm","bg-transparent","text-white","border-white-10",3,"ngModelChange","ngModel"],["value","",1,"text-dark"],["class","text-dark",3,"value",4,"ngFor","ngForOf"],["for","paymentMethodFilter",1,"form-label","text-secondary","small","fw-bold","text-uppercase"],["id","paymentMethodFilter",1,"form-select","form-select-sm","bg-transparent","text-white","border-white-10",3,"ngModelChange","ngModel"],["for","startDate",1,"form-label","text-secondary","small","fw-bold","text-uppercase"],["type","date","id","startDate",1,"form-control","form-control-sm","bg-transparent","text-white","border-white-10",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label","text-secondary","small","fw-bold","text-uppercase"],["type","date","id","endDate",1,"form-control","form-control-sm","bg-transparent","text-white","border-white-10",3,"ngModelChange","ngModel"],["class","col-12 d-flex justify-content-end mt-2",4,"ngIf"],[1,"glass-card","p-0","overflow-hidden"],[1,"list-group","list-group-flush","bg-transparent"],["class","list-group-item bg-transparent border-bottom border-white-10 px-4 py-3 expense-item",4,"ngFor","ngForOf"],["class","text-center py-5",4,"ngIf"],[1,"text-dark",3,"value"],[1,"col-12","d-flex","justify-content-end","mt-2"],[1,"btn","btn-sm","btn-outline-light","rounded-pill","px-3",3,"click"],[1,"bi","bi-x-lg","me-1"],[1,"list-group-item","bg-transparent","border-bottom","border-white-10","px-4","py-3","expense-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"icon-circle","bg-white-5","me-3","text-accent"],[1,"bi","bi-bag"],[1,"text-white","mb-1","fw-medium"],[1,"d-flex","gap-2","flex-wrap","align-items-center"],[1,"badge","bg-white-10","text-secondary","fw-normal"],[1,"text-secondary"],["class","badge bg-white-5 text-secondary fw-normal border border-white-10",4,"ngIf"],[1,"text-end"],[1,"mb-1","text-white","fw-bold"],["class","mt-2 ps-5 ms-2",4,"ngIf"],[1,"expense-actions"],["title","Delete",1,"btn","btn-icon","btn-sm","text-danger","bg-white-5",3,"click"],[1,"bi","bi-trash"],[1,"badge","bg-white-5","text-secondary","fw-normal","border","border-white-10"],[1,"mt-2","ps-5","ms-2"],["class","text-secondary small mb-1 fst-italic",4,"ngIf"],["class","d-flex gap-1 flex-wrap",4,"ngIf"],[1,"text-secondary","small","mb-1","fst-italic"],[1,"d-flex","gap-1","flex-wrap"],["class","text-accent small me-1",4,"ngFor","ngForOf"],[1,"text-accent","small","me-1"],[1,"text-center","py-5"],[1,"icon-box","bg-white-5","mx-auto","mb-3","rounded-circle",2,"width","64px","height","64px"],[1,"bi","bi-search","text-secondary","fs-3"],[1,"text-white"],[1,"text-secondary","mb-0"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),o(4,"Expenses"),t(),i(5,"p",3),o(6,"Track and manage your spending"),t()(),i(7,"span",4),o(8),t()(),i(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),o(13,"Category"),t(),i(14,"select",9),y("ngModelChange",function(l){return u(a.selectedCategory,l)||(a.selectedCategory=l),l}),c("ngModelChange",function(){return a.onFilterChange()}),i(15,"option",10),o(16,"All Categories"),t(),m(17,q,2,2,"option",11),t()(),i(18,"div",7)(19,"label",12),o(20,"Payment"),t(),i(21,"select",13),y("ngModelChange",function(l){return u(a.paymentMethodFilter,l)||(a.paymentMethodFilter=l),l}),c("ngModelChange",function(){return a.onFilterChange()}),i(22,"option",10),o(23,"All Methods"),t(),m(24,G,2,2,"option",11),t()(),i(25,"div",7)(26,"label",14),o(27,"From"),t(),i(28,"input",15),y("ngModelChange",function(l){return u(a.startDate,l)||(a.startDate=l),l}),c("ngModelChange",function(){return a.onFilterChange()}),t()(),i(29,"div",7)(30,"label",16),o(31,"To"),t(),i(32,"input",17),y("ngModelChange",function(l){return u(a.endDate,l)||(a.endDate=l),l}),c("ngModelChange",function(){return a.onFilterChange()}),t()(),m(33,H,4,0,"div",18),t()(),i(34,"div",19)(35,"div",20),m(36,Q,26,16,"div",21)(37,R,7,0,"div",22),t()()()),e&2&&(r(8),x("",a.filteredExpenses.length," items"),r(6),_("ngModel",a.selectedCategory),r(3),p("ngForOf",a.categories),r(4),_("ngModel",a.paymentMethodFilter),r(3),p("ngForOf",a.getUniquePaymentMethods()),r(4),_("ngModel",a.startDate),r(4),_("ngModel",a.endDate),r(),p("ngIf",a.selectedCategory||a.startDate||a.endDate||a.paymentMethodFilter),r(3),p("ngForOf",a.filteredExpenses),r(),p("ngIf",a.filteredExpenses.length===0))},dependencies:[O,F,I,A,B,V,k,j,W,N,D,T],styles:[".expense-item[_ngcontent-%COMP%]{transition:background-color .2s;position:relative}.expense-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d!important}.expense-item[_ngcontent-%COMP%]:hover   .expense-actions[_ngcontent-%COMP%]{opacity:1}.expense-actions[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);opacity:0;transition:opacity .2s}@media (max-width: 768px){.expense-actions[_ngcontent-%COMP%]{position:static;transform:none;opacity:1;margin-top:12px;text-align:right}}.icon-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.bg-white-5[_ngcontent-%COMP%]{background:#ffffff0d}.bg-white-10[_ngcontent-%COMP%]{background:#ffffff1a}.border-white-10[_ngcontent-%COMP%]{border-color:#ffffff1a!important}.text-accent[_ngcontent-%COMP%]{color:var(--text-accent)!important}.list-group[_ngcontent-%COMP%]{max-height:calc(100vh - 300px);overflow-y:auto}"]})};export{U as ExpensesList};
