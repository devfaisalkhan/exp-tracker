import{P as p,a,b as o}from"./chunk-MFZMDKGS.js";var d=class r{localStorageKey="expenses";constructor(){}loadExpenses(){let t=localStorage.getItem(this.localStorageKey);return t?JSON.parse(t).map(s=>o(a({},s),{date:new Date(s.date),createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt)})):[]}saveExpenses(t){localStorage.setItem(this.localStorageKey,JSON.stringify(t))}getExpenses(){return this.loadExpenses()}addExpense(t){let e=this.loadExpenses(),s=new Date,n=o(a({},t),{id:e.length>0?Math.max(...e.map(i=>i.id))+1:1,createdAt:s,updatedAt:s});return e.push(n),this.saveExpenses(e),console.log("Expense added:",n),console.log("All expenses:",e),n}updateExpense(t){let e=this.loadExpenses(),s=e.findIndex(n=>n.id===t.id);if(s!==-1){let n=new Date;return e[s]=o(a({},t),{updatedAt:n}),this.saveExpenses(e),console.log("Expense updated:",t),!0}return!1}deleteExpense(t){let e=this.loadExpenses(),s=e.findIndex(n=>n.id===t);return s!==-1?(e.splice(s,1),this.saveExpenses(e),console.log("Expense deleted:",t),!0):!1}static \u0275fac=function(e){return new(e||r)};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
