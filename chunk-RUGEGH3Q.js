import{f as O,j as k}from"./chunk-XBZE7J4I.js";import{a as E}from"./chunk-UBPTXPGL.js";import"./chunk-DREWYT65.js";import"./chunk-VSDMO5SJ.js";import{j as _,k as S,q as C,s as N}from"./chunk-ZTY7VYUY.js";import{Aa as c,Ga as b,Hb as M,Jb as w,Ma as h,Ra as g,bb as d,cb as t,da as u,db as n,ea as f,eb as a,ib as v,lb as x,nb as p,xb as r,yb as y,zb as I}from"./chunk-I6MSPIIX.js";function L(m,i){if(m&1){let e=v();t(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),a(4,"i",14),n(),t(5,"div")(6,"h6",15),r(7),n(),t(8,"small",16),r(9,"Budget Limit"),n()()(),t(10,"div",17)(11,"h6",18),r(12),M(13,"number"),n(),t(14,"div",19)(15,"button",20),x("click",function(){let l=u(e).$implicit,s=p();return f(s.deleteIncome(l.id))}),a(16,"i",21),n()()()()()}if(m&2){let e=i.$implicit,o=p();c(7),y(o.formatIncomeDate(e.id)),c(5),I("+ PKR ",w(13,2,e.amount,"1.0-0"))}}function F(m,i){m&1&&(t(0,"div",22)(1,"div",23),a(2,"i",24),n(),t(3,"h5",25),r(4,"No incomes set"),n(),t(5,"p",26),r(6,"Set your first monthly income to start tracking"),n(),t(7,"a",27),r(8,"Set Income"),n()())}var P=class m{constructor(i){this.incomeService=i}monthlyIncomes=[];currentYear=new Date().getFullYear();currentMonth=new Date().getMonth()+1;months=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}];ngOnInit(){this.loadMonthlyIncomes()}loadMonthlyIncomes(){this.monthlyIncomes=this.incomeService.getAllMonthlyIncomes().sort((i,e)=>{let[o,l]=i.id.split("-").map(Number),[s,D]=e.id.split("-").map(Number);return o!==s?s-o:D-l})}getMonthName(i){return this.months.find(e=>e.value===i)?.name||""}deleteIncome(i){if(confirm("Are you sure you want to delete this monthly income?")){let[e,o]=i.split("-").map(Number);this.incomeService.deleteMonthlyIncome(e,o)&&this.loadMonthlyIncomes()}}formatIncomeDate(i){let[e,o]=i.split("-").map(Number);return`${this.getMonthName(o)} ${e}`}static \u0275fac=function(e){return new(e||m)(b(E))};static \u0275cmp=h({type:m,selectors:[["app-income-list"]],decls:14,vars:2,consts:[[1,"container-fluid","dashboard-container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0","fw-bold","text-gradient"],[1,"text-secondary","mb-0","small"],["routerLink","/set-income",1,"btn","btn-primary-gradient","btn-sm","rounded-pill","px-3"],[1,"bi","bi-plus-lg","me-1"],[1,"glass-card","p-0","overflow-hidden"],[1,"list-group","list-group-flush","bg-transparent"],["class","list-group-item bg-transparent border-bottom border-white-10 px-4 py-3 income-item",4,"ngFor","ngForOf"],["class","text-center py-5",4,"ngIf"],[1,"list-group-item","bg-transparent","border-bottom","border-white-10","px-4","py-3","income-item"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"icon-circle","bg-white-5","me-3","text-success"],[1,"bi","bi-calendar-check"],[1,"text-white","mb-1","fw-medium"],[1,"text-secondary"],[1,"text-end"],[1,"mb-1","text-success","fw-bold"],[1,"income-actions","d-inline-block","ms-2"],["title","Delete",1,"btn","btn-icon","btn-sm","text-danger","bg-white-5",3,"click"],[1,"bi","bi-trash"],[1,"text-center","py-5"],[1,"icon-box","bg-white-5","mx-auto","mb-3","rounded-circle",2,"width","64px","height","64px"],[1,"bi","bi-wallet2","text-secondary","fs-3"],[1,"text-white"],[1,"text-secondary","mb-3"],["routerLink","/set-income",1,"btn","btn-outline-light","btn-sm","rounded-pill","px-4"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),r(4,"Monthly Incomes"),n(),t(5,"p",3),r(6,"History of your monthly budgets"),n()(),t(7,"a",4),a(8,"i",5),r(9," Set New "),n()(),t(10,"div",6)(11,"div",7),g(12,L,17,5,"div",8)(13,F,9,0,"div",9),n()()()),e&2&&(c(12),d("ngForOf",o.monthlyIncomes),c(),d("ngIf",o.monthlyIncomes.length===0))},dependencies:[N,_,S,k,O,C],styles:[".income-item[_ngcontent-%COMP%]{transition:background-color .2s}.income-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d!important}.icon-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.bg-white-5[_ngcontent-%COMP%]{background:#ffffff0d}.border-white-10[_ngcontent-%COMP%]{border-color:#ffffff1a!important}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;background:#ffffff0d;transition:all .2s;border:none}.btn-icon[_ngcontent-%COMP%]:hover{background:#dc354533;color:#ff6b6b!important}.text-success[_ngcontent-%COMP%]{color:#10b981!important}"]})};export{P as IncomeListComponent};
