import{a as G}from"./chunk-BLONM6LW.js";import{a as S}from"./chunk-ADOJRJQE.js";import{a as C,b as c,c as F,d as M,f as O,g as N,h as A,i as D,j as I,k as P,l as w,m as T,n as q,p as V}from"./chunk-AQZCTEBC.js";import{Ea as b,Ia as p,Lb as E,Mb as _,Rb as h,Ta as d,Ua as n,Va as e,Wa as s,Ya as y,db as i,eb as x,ta as m,ya as v}from"./chunk-7T257EYH.js";function z(r,t){r&1&&(n(0,"div",26),i(1," Title is required "),e())}function B(r,t){r&1&&(n(0,"div",26),i(1," Amount is required "),e())}function j(r,t){r&1&&(n(0,"div",26),i(1," Date is required "),e())}function k(r,t){if(r&1&&(n(0,"option",27),i(1),e()),r&2){let a=t.$implicit;d("value",a),m(),x(a)}}function R(r,t){r&1&&(n(0,"div",26),i(1," Please select a category "),e())}function K(r,t){if(r&1&&(n(0,"option",27),i(1),e()),r&2){let a=t.$implicit;d("value",a),m(),x(a)}}var $=class r{constructor(t,a){this.fb=t;this.expenseService=a}expenseForm;expenseCategories=Object.values(G);paymentMethods=["Cash","Credit Card","Debit Card","Bank Transfer","Mobile Payment","Other"];defaultDate=new Date;ngOnInit(){this.expenseForm=this.fb.group({title:["",[c.required]],amount:["",[c.required,c.min(.01)]],date:[this.formatDateForInput(this.defaultDate),[c.required]],category:["",[c.required]],paymentMethod:[""],notes:[""],tags:[""]})}formatDateForInput(t){let a=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0");return`${a}-${o}-${l}`}onSubmit(){if(this.expenseForm.valid){let t=this.expenseForm.value,a=t.tags?t.tags.split(",").map(l=>l.trim()).filter(l=>l):[],o={title:t.title,amount:parseFloat(t.amount),date:new Date(t.date),category:t.category,notes:t.notes,paymentMethod:t.paymentMethod,tags:a.length>0?a:void 0};this.expenseService.addExpense(o),this.expenseForm.reset({title:"",amount:"",date:this.formatDateForInput(this.defaultDate),category:"",paymentMethod:"",notes:"",tags:""})}}static \u0275fac=function(a){return new(a||r)(v(q),v(S))};static \u0275cmp=b({type:r,selectors:[["app-add-expense"]],decls:54,vars:8,consts:[[1,"container"],[1,"mb-4"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","title",1,"form-label"],["type","text","id","title","formControlName","title",1,"form-control","form-control-lg"],["class","text-danger mt-1",4,"ngIf"],["for","amount",1,"form-label"],["type","number","id","amount","formControlName","amount","min","0.01","step","0.01",1,"form-control","form-control-lg"],["for","date",1,"form-label"],["type","date","id","date","formControlName","date",1,"form-control","form-control-lg"],["for","category",1,"form-label"],["id","category","formControlName","category",1,"form-select","form-select-lg"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","paymentMethod",1,"form-label"],["id","paymentMethod","formControlName","paymentMethod",1,"form-select"],["value",""],["for","tags",1,"form-label"],["type","text","id","tags","formControlName","tags","placeholder","e.g., business, urgent, receipt",1,"form-control"],["for","notes",1,"form-label"],["id","notes","formControlName","notes","rows","3","placeholder","Add any additional notes...",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-danger","mt-1"],[3,"value"]],template:function(a,o){if(a&1&&(n(0,"div",0)(1,"h2",1),i(2,"Add New Expense"),e(),n(3,"form",2),y("ngSubmit",function(){return o.onSubmit()}),n(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),i(8,"Title"),e(),s(9,"input",7),p(10,z,2,0,"div",8),e()(),n(11,"div",4)(12,"div",5)(13,"label",9),i(14,"Amount (PKR)"),e(),s(15,"input",10),p(16,B,2,0,"div",8),e()()(),n(17,"div",3)(18,"div",4)(19,"div",5)(20,"label",11),i(21,"Date"),e(),s(22,"input",12),p(23,j,2,0,"div",8),e()(),n(24,"div",4)(25,"div",5)(26,"label",13),i(27,"Category"),e(),n(28,"select",14)(29,"option",15),i(30,"Select a category"),e(),p(31,k,2,2,"option",16),e(),p(32,R,2,0,"div",8),e()()(),n(33,"div",3)(34,"div",4)(35,"div",5)(36,"label",17),i(37,"Payment Method"),e(),n(38,"select",18)(39,"option",19),i(40,"Select payment method"),e(),p(41,K,2,2,"option",16),e()()(),n(42,"div",4)(43,"div",5)(44,"label",20),i(45,"Tags (comma separated)"),e(),s(46,"input",21),e()()(),n(47,"div",1)(48,"label",22),i(49,"Notes"),e(),s(50,"textarea",23),e(),n(51,"div",24)(52,"button",25),i(53," Save Expense "),e()()()()),a&2){let l,u,f,g;m(3),d("formGroup",o.expenseForm),m(7),d("ngIf",((l=o.expenseForm.get("title"))==null?null:l.invalid)&&((l=o.expenseForm.get("title"))==null?null:l.touched)),m(6),d("ngIf",((u=o.expenseForm.get("amount"))==null?null:u.invalid)&&((u=o.expenseForm.get("amount"))==null?null:u.touched)),m(7),d("ngIf",((f=o.expenseForm.get("date"))==null?null:f.invalid)&&((f=o.expenseForm.get("date"))==null?null:f.touched)),m(8),d("ngForOf",o.expenseCategories),m(),d("ngIf",((g=o.expenseForm.get("category"))==null?null:g.invalid)&&((g=o.expenseForm.get("category"))==null?null:g.touched)),m(9),d("ngForOf",o.paymentMethods),m(11),d("disabled",o.expenseForm.invalid)}},dependencies:[h,E,_,V,O,P,w,C,N,I,F,M,T,A,D],styles:[".container[_ngcontent-%COMP%]{max-width:100%;padding:1rem;margin:0 auto}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{margin-bottom:.75rem;border-radius:12px;border:2px solid #e9ecef;padding:.8rem 1rem;font-size:1rem;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.form-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem;display:block}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.8rem;font-size:1.1rem;border-radius:12px;margin-top:1rem}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:.75rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{padding:.7rem .8rem;font-size:.95rem;margin-bottom:.6rem}.btn-primary[_ngcontent-%COMP%]{padding:.7rem;font-size:1rem;margin-top:.75rem}}"]})};export{$ as AddExpense};
