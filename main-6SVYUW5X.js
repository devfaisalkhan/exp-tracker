import{a as Aa}from"./chunk-JM6T4NGY.js";import{c as sn,d as Ce,f as qt,g as Te}from"./chunk-PT2JM3JA.js";import{a as ya,b as xa,c as wa,d as ve,e as Nt,f as _e,g as ye,h as Ca,i as Ta,j as xe}from"./chunk-XBZE7J4I.js";import{a as Ia,c as ka,e as Ma,o as Sa}from"./chunk-MESOCZI5.js";import{b as Ea}from"./chunk-DREWYT65.js";import{a as we}from"./chunk-VSDMO5SJ.js";import{i as ut,j as pt,k as bt,l as ba,m as ha,n as fa,p as ga,q as va,s as X,w as _a}from"./chunk-ZTY7VYUY.js";import{$ as qn,$a as en,A as Yt,Aa as f,Bb as ca,Cb as la,D as Yn,Db as da,Ea as na,F as dt,Fb as fe,Ga as R,Ha as aa,Hb as Rt,Ib as ge,Ja as ia,Jb as rn,M as Xn,Ma as I,Mb as ma,N as Qn,Na as N,O as Xt,Oa as At,P as $n,R as st,Ra as j,S as Gn,Sb as ua,Ta as $,Tb as pa,U as M,Ua as yt,V as O,X as St,Y as Qt,Z as T,Za as oa,_ as be,a as Hn,bb as v,cb as p,d as Pi,da as S,db as b,e as Oi,ea as A,eb as _,f as zn,fa as $t,fb as nn,ga as he,gb as an,h as kt,hb as on,ib as G,k as Mt,ka as Kn,l as pe,la as Zn,lb as P,mb as ra,nb as nt,ob as Dt,pb as Pt,qa as tn,rb as Ot,s as et,sb as xt,t as Wn,tb as wt,ua as Jn,ub as Gt,va as ta,w as Un,wa as ea,wb as mt,xb as y,yb as q,z as lt,zb as sa}from"./chunk-I6MSPIIX.js";var Ga=Pi((Ic,je)=>{"use strict";(function(a,r,n,o){"use strict";var c=["","webkit","Moz","MS","ms","o"],d=r.createElement("div"),m="function",h=Math.round,C=Math.abs,w=Date.now;function F(t,e,i){return setTimeout(He(t,i),e)}function L(t,e,i){return Array.isArray(t)?(at(t,i[e],i),!0):!1}function at(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==o)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function hn(t,e,i){var s="DEPRECATED METHOD: "+e+`
`+i+` AT 
`;return function(){var l=new Error("get-stack-trace"),u=l&&l.stack?l.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",g=a.console&&(a.console.warn||a.console.log);return g&&g.call(a.console,s,u),t.apply(this,arguments)}}var K;typeof Object.assign!="function"?K=function(e){if(e===o||e===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var l=arguments[s];if(l!==o&&l!==null)for(var u in l)l.hasOwnProperty(u)&&(i[u]=l[u])}return i}:K=Object.assign;var fn=hn(function(e,i,s){for(var l=Object.keys(i),u=0;u<l.length;)(!s||s&&e[l[u]]===o)&&(e[l[u]]=i[l[u]]),u++;return e},"extend","Use `assign`."),qa=hn(function(e,i){return fn(e,i,!0)},"merge","Use `assign`.");function W(t,e,i){var s=e.prototype,l;l=t.prototype=Object.create(s),l.constructor=t,l._super=s,i&&K(l,i)}function He(t,e){return function(){return t.apply(e,arguments)}}function ze(t,e){return typeof t==m?t.apply(e&&e[0]||o,e):t}function gn(t,e){return t===o?e:t}function Zt(t,e,i){at(te(e),function(s){t.addEventListener(s,i,!1)})}function Jt(t,e,i){at(te(e),function(s){t.removeEventListener(s,i,!1)})}function vn(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function ft(t,e){return t.indexOf(e)>-1}function te(t){return t.trim().split(/\s+/g)}function Et(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function ee(t){return Array.prototype.slice.call(t,0)}function _n(t,e,i){for(var s=[],l=[],u=0;u<t.length;){var g=e?t[u][e]:t[u];Et(l,g)<0&&s.push(t[u]),l[u]=g,u++}return i&&(e?s=s.sort(function(D,V){return D[e]>V[e]}):s=s.sort()),s}function ne(t,e){for(var i,s,l=e[0].toUpperCase()+e.slice(1),u=0;u<c.length;){if(i=c[u],s=i?i+l:e,s in t)return s;u++}return o}var Ka=1;function Za(){return Ka++}function yn(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||a}var Ja=/mobile|tablet|ip(ad|hone|od)|android/i,xn="ontouchstart"in a,ti=ne(a,"PointerEvent")!==o,ei=xn&&Ja.test(navigator.userAgent),Lt="touch",ni="pen",We="mouse",ai="kinect",ii=25,B=1,gt=2,E=4,z=8,ae=1,Bt=2,Vt=4,jt=8,Ht=16,Z=Bt|Vt,vt=jt|Ht,wn=Z|vt,Cn=["x","y"],ie=["clientX","clientY"];function U(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){ze(t.options.enable,[t])&&i.handler(s)},this.init()}U.prototype={handler:function(){},init:function(){this.evEl&&Zt(this.element,this.evEl,this.domHandler),this.evTarget&&Zt(this.target,this.evTarget,this.domHandler),this.evWin&&Zt(yn(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Jt(this.element,this.evEl,this.domHandler),this.evTarget&&Jt(this.target,this.evTarget,this.domHandler),this.evWin&&Jt(yn(this.element),this.evWin,this.domHandler)}};function oi(t){var e,i=t.options.inputClass;return i?e=i:ti?e=Ye:ei?e=se:xn?e=Xe:e=re,new e(t,ri)}function ri(t,e,i){var s=i.pointers.length,l=i.changedPointers.length,u=e&B&&s-l===0,g=e&(E|z)&&s-l===0;i.isFirst=!!u,i.isFinal=!!g,u&&(t.session={}),i.eventType=e,si(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function si(t,e){var i=t.session,s=e.pointers,l=s.length;i.firstInput||(i.firstInput=Tn(e)),l>1&&!i.firstMultiple?i.firstMultiple=Tn(e):l===1&&(i.firstMultiple=!1);var u=i.firstInput,g=i.firstMultiple,k=g?g.center:u.center,D=e.center=En(s);e.timeStamp=w(),e.deltaTime=e.timeStamp-u.timeStamp,e.angle=Ue(k,D),e.distance=oe(k,D),ci(i,e),e.offsetDirection=kn(e.deltaX,e.deltaY);var V=In(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=V.x,e.overallVelocityY=V.y,e.overallVelocity=C(V.x)>C(V.y)?V.x:V.y,e.scale=g?mi(g.pointers,s):1,e.rotation=g?di(g.pointers,s):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,li(i,e);var tt=t.element;vn(e.srcEvent.target,tt)&&(tt=e.srcEvent.target),e.target=tt}function ci(t,e){var i=e.center,s=t.offsetDelta||{},l=t.prevDelta||{},u=t.prevInput||{};(e.eventType===B||u.eventType===E)&&(l=t.prevDelta={x:u.deltaX||0,y:u.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=l.x+(i.x-s.x),e.deltaY=l.y+(i.y-s.y)}function li(t,e){var i=t.lastInterval||e,s=e.timeStamp-i.timeStamp,l,u,g,k;if(e.eventType!=z&&(s>ii||i.velocity===o)){var D=e.deltaX-i.deltaX,V=e.deltaY-i.deltaY,tt=In(s,D,V);u=tt.x,g=tt.y,l=C(tt.x)>C(tt.y)?tt.x:tt.y,k=kn(D,V),t.lastInterval=e}else l=i.velocity,u=i.velocityX,g=i.velocityY,k=i.direction;e.velocity=l,e.velocityX=u,e.velocityY=g,e.direction=k}function Tn(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:h(t.pointers[i].clientX),clientY:h(t.pointers[i].clientY)},i++;return{timeStamp:w(),pointers:e,center:En(e),deltaX:t.deltaX,deltaY:t.deltaY}}function En(t){var e=t.length;if(e===1)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var i=0,s=0,l=0;l<e;)i+=t[l].clientX,s+=t[l].clientY,l++;return{x:h(i/e),y:h(s/e)}}function In(t,e,i){return{x:e/t||0,y:i/t||0}}function kn(t,e){return t===e?ae:C(t)>=C(e)?t<0?Bt:Vt:e<0?jt:Ht}function oe(t,e,i){i||(i=Cn);var s=e[i[0]]-t[i[0]],l=e[i[1]]-t[i[1]];return Math.sqrt(s*s+l*l)}function Ue(t,e,i){i||(i=Cn);var s=e[i[0]]-t[i[0]],l=e[i[1]]-t[i[1]];return Math.atan2(l,s)*180/Math.PI}function di(t,e){return Ue(e[1],e[0],ie)+Ue(t[1],t[0],ie)}function mi(t,e){return oe(e[0],e[1],ie)/oe(t[0],t[1],ie)}var ui={mousedown:B,mousemove:gt,mouseup:E},pi="mousedown",bi="mousemove mouseup";function re(){this.evEl=pi,this.evWin=bi,this.pressed=!1,U.apply(this,arguments)}W(re,U,{handler:function(e){var i=ui[e.type];i&B&&e.button===0&&(this.pressed=!0),i&gt&&e.which!==1&&(i=E),this.pressed&&(i&E&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[e],changedPointers:[e],pointerType:We,srcEvent:e}))}});var hi={pointerdown:B,pointermove:gt,pointerup:E,pointercancel:z,pointerout:z},fi={2:Lt,3:ni,4:We,5:ai},Mn="pointerdown",Sn="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Mn="MSPointerDown",Sn="MSPointerMove MSPointerUp MSPointerCancel");function Ye(){this.evEl=Mn,this.evWin=Sn,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}W(Ye,U,{handler:function(e){var i=this.store,s=!1,l=e.type.toLowerCase().replace("ms",""),u=hi[l],g=fi[e.pointerType]||e.pointerType,k=g==Lt,D=Et(i,e.pointerId,"pointerId");u&B&&(e.button===0||k)?D<0&&(i.push(e),D=i.length-1):u&(E|z)&&(s=!0),!(D<0)&&(i[D]=e,this.callback(this.manager,u,{pointers:i,changedPointers:[e],pointerType:g,srcEvent:e}),s&&i.splice(D,1))}});var gi={touchstart:B,touchmove:gt,touchend:E,touchcancel:z},vi="touchstart",_i="touchstart touchmove touchend touchcancel";function An(){this.evTarget=vi,this.evWin=_i,this.started=!1,U.apply(this,arguments)}W(An,U,{handler:function(e){var i=gi[e.type];if(i===B&&(this.started=!0),!!this.started){var s=yi.call(this,e,i);i&(E|z)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:Lt,srcEvent:e})}}});function yi(t,e){var i=ee(t.touches),s=ee(t.changedTouches);return e&(E|z)&&(i=_n(i.concat(s),"identifier",!0)),[i,s]}var xi={touchstart:B,touchmove:gt,touchend:E,touchcancel:z},wi="touchstart touchmove touchend touchcancel";function se(){this.evTarget=wi,this.targetIds={},U.apply(this,arguments)}W(se,U,{handler:function(e){var i=xi[e.type],s=Ci.call(this,e,i);s&&this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:Lt,srcEvent:e})}});function Ci(t,e){var i=ee(t.touches),s=this.targetIds;if(e&(B|gt)&&i.length===1)return s[i[0].identifier]=!0,[i,i];var l,u,g=ee(t.changedTouches),k=[],D=this.target;if(u=i.filter(function(V){return vn(V.target,D)}),e===B)for(l=0;l<u.length;)s[u[l].identifier]=!0,l++;for(l=0;l<g.length;)s[g[l].identifier]&&k.push(g[l]),e&(E|z)&&delete s[g[l].identifier],l++;if(k.length)return[_n(u.concat(k),"identifier",!0),k]}var Ti=2500,Dn=25;function Xe(){U.apply(this,arguments);var t=He(this.handler,this);this.touch=new se(this.manager,t),this.mouse=new re(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}W(Xe,U,{handler:function(e,i,s){var l=s.pointerType==Lt,u=s.pointerType==We;if(!(u&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(l)Ei.call(this,i,s);else if(u&&Ii.call(this,s))return;this.callback(e,i,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ei(t,e){t&B?(this.primaryTouch=e.changedPointers[0].identifier,Pn.call(this,e)):t&(E|z)&&Pn.call(this,e)}function Pn(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var s=this.lastTouches,l=function(){var u=s.indexOf(i);u>-1&&s.splice(u,1)};setTimeout(l,Ti)}}function Ii(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var l=this.lastTouches[s],u=Math.abs(e-l.x),g=Math.abs(i-l.y);if(u<=Dn&&g<=Dn)return!0}return!1}var On=ne(d.style,"touchAction"),Rn=On!==o,Nn="compute",Fn="auto",Qe="manipulation",_t="none",zt="pan-x",Wt="pan-y",ce=Mi();function $e(t,e){this.manager=t,this.set(e)}$e.prototype={set:function(t){t==Nn&&(t=this.compute()),Rn&&this.manager.element.style&&ce[t]&&(this.manager.element.style[On]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return at(this.manager.recognizers,function(e){ze(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),ki(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var s=this.actions,l=ft(s,_t)&&!ce[_t],u=ft(s,Wt)&&!ce[Wt],g=ft(s,zt)&&!ce[zt];if(l){var k=t.pointers.length===1,D=t.distance<2,V=t.deltaTime<250;if(k&&D&&V)return}if(!(g&&u)&&(l||u&&i&Z||g&&i&vt))return this.preventSrc(e)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function ki(t){if(ft(t,_t))return _t;var e=ft(t,zt),i=ft(t,Wt);return e&&i?_t:e||i?e?zt:Wt:ft(t,Qe)?Qe:Fn}function Mi(){if(!Rn)return!1;var t={},e=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=e?a.CSS.supports("touch-action",i):!0}),t}var le=1,Y=2,It=4,ct=8,it=ct,Ut=16,J=32;function ot(t){this.options=K({},this.defaults,t||{}),this.id=Za(),this.manager=null,this.options.enable=gn(this.options.enable,!0),this.state=le,this.simultaneous={},this.requireFail=[]}ot.prototype={defaults:{},set:function(t){return K(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(L(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=de(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return L(t,"dropRecognizeWith",this)?this:(t=de(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(L(t,"requireFailure",this))return this;var e=this.requireFail;return t=de(t,this),Et(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(L(t,"dropRequireFailure",this))return this;t=de(t,this);var e=Et(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function s(l){e.manager.emit(l,t)}i<ct&&s(e.options.event+Ln(i)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),i>=ct&&s(e.options.event+Ln(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=J},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(J|le)))return!1;t++}return!0},recognize:function(t){var e=K({},t);if(!ze(this.options.enable,[this,e])){this.reset(),this.state=J;return}this.state&(it|Ut|J)&&(this.state=le),this.state=this.process(e),this.state&(Y|It|ct|Ut)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};function Ln(t){return t&Ut?"cancel":t&ct?"end":t&It?"move":t&Y?"start":""}function Bn(t){return t==Ht?"down":t==jt?"up":t==Bt?"left":t==Vt?"right":""}function de(t,e){var i=e.manager;return i?i.get(t):t}function Q(){ot.apply(this,arguments)}W(Q,ot,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Y|It),l=this.attrTest(t);return s&&(i&z||!l)?e|Ut:s||l?i&E?e|ct:e&Y?e|It:Y:J}});function me(){Q.apply(this,arguments),this.pX=null,this.pY=null}W(me,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:wn},getTouchAction:function(){var t=this.options.direction,e=[];return t&Z&&e.push(Wt),t&vt&&e.push(zt),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,l=t.direction,u=t.deltaX,g=t.deltaY;return l&e.direction||(e.direction&Z?(l=u===0?ae:u<0?Bt:Vt,i=u!=this.pX,s=Math.abs(t.deltaX)):(l=g===0?ae:g<0?jt:Ht,i=g!=this.pY,s=Math.abs(t.deltaY))),t.direction=l,i&&s>e.threshold&&l&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&Y||!(this.state&Y)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Bn(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}});function Ge(){Q.apply(this,arguments)}W(Ge,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Y)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function qe(){ot.apply(this,arguments),this._timer=null,this._input=null}W(qe,ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Fn]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,l=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(E|z)&&!l)this.reset();else if(t.eventType&B)this.reset(),this._timer=F(function(){this.state=it,this.tryEmit()},e.time,this);else if(t.eventType&E)return it;return J},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===it&&(t&&t.eventType&E?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=w(),this.manager.emit(this.options.event,this._input)))}});function Ke(){Q.apply(this,arguments)}W(Ke,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[_t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Y)}});function Ze(){Q.apply(this,arguments)}W(Ze,Q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|vt,pointers:1},getTouchAction:function(){return me.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction,i;return e&(Z|vt)?i=t.overallVelocity:e&Z?i=t.overallVelocityX:e&vt&&(i=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&C(i)>this.options.velocity&&t.eventType&E},emit:function(t){var e=Bn(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}});function ue(){ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}W(ue,ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Qe]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,l=t.deltaTime<e.time;if(this.reset(),t.eventType&B&&this.count===0)return this.failTimeout();if(s&&l&&i){if(t.eventType!=E)return this.failTimeout();var u=this.pTime?t.timeStamp-this.pTime<e.interval:!0,g=!this.pCenter||oe(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,!g||!u?this.count=1:this.count+=1,this._input=t;var k=this.count%e.taps;if(k===0)return this.hasRequireFailures()?(this._timer=F(function(){this.state=it,this.tryEmit()},e.interval,this),Y):it}return J},failTimeout:function(){return this._timer=F(function(){this.state=J},this.options.interval,this),J},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==it&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function rt(t,e){return e=e||{},e.recognizers=gn(e.recognizers,rt.defaults.preset),new Je(t,e)}rt.VERSION="2.0.7",rt.defaults={domEvents:!1,touchAction:Nn,enable:!0,inputTarget:null,inputClass:null,preset:[[Ke,{enable:!1}],[Ge,{enable:!1},["rotate"]],[Ze,{direction:Z}],[me,{direction:Z},["swipe"]],[ue],[ue,{event:"doubletap",taps:2},["tap"]],[qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Si=1,Vn=2;function Je(t,e){this.options=K({},rt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=oi(this),this.touchAction=new $e(this,this.options.touchAction),jn(this,!0),at(this.options.recognizers,function(i){var s=this.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}Je.prototype={set:function(t){return K(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?Vn:Si},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,s=this.recognizers,l=e.curRecognizer;(!l||l&&l.state&it)&&(l=e.curRecognizer=null);for(var u=0;u<s.length;)i=s[u],e.stopped!==Vn&&(!l||i==l||i.canRecognizeWith(l))?i.recognize(t):i.reset(),!l&&i.state&(Y|It|ct)&&(l=e.curRecognizer=i),u++}},get:function(t){if(t instanceof ot)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(L(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(L(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,i=Et(e,t);i!==-1&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var i=this.handlers;return at(te(t),function(s){i[s]=i[s]||[],i[s].push(e)}),this}},off:function(t,e){if(t!==o){var i=this.handlers;return at(te(t),function(s){e?i[s]&&i[s].splice(Et(i[s],e),1):delete i[s]}),this}},emit:function(t,e){this.options.domEvents&&Ai(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(!(!i||!i.length)){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](e),s++}},destroy:function(){this.element&&jn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function jn(t,e){var i=t.element;if(i.style){var s;at(t.options.cssProps,function(l,u){s=ne(i.style,u),e?(t.oldCssProps[s]=i.style[s],i.style[s]=l):i.style[s]=t.oldCssProps[s]||""}),e||(t.oldCssProps={})}}function Ai(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}K(rt,{INPUT_START:B,INPUT_MOVE:gt,INPUT_END:E,INPUT_CANCEL:z,STATE_POSSIBLE:le,STATE_BEGAN:Y,STATE_CHANGED:It,STATE_ENDED:ct,STATE_RECOGNIZED:it,STATE_CANCELLED:Ut,STATE_FAILED:J,DIRECTION_NONE:ae,DIRECTION_LEFT:Bt,DIRECTION_RIGHT:Vt,DIRECTION_UP:jt,DIRECTION_DOWN:Ht,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:vt,DIRECTION_ALL:wn,Manager:Je,Input:U,TouchAction:$e,TouchInput:se,MouseInput:re,PointerEventInput:Ye,TouchMouseInput:Xe,SingleTouchInput:An,Recognizer:ot,AttrRecognizer:Q,Tap:ue,Pan:me,Swipe:Ze,Pinch:Ge,Rotate:Ke,Press:qe,on:Zt,off:Jt,each:at,merge:qa,extend:fn,assign:K,inherit:W,bindFn:He,prefixed:ne});var Di=typeof a<"u"?a:typeof self<"u"?self:{};Di.Hammer=rt,typeof define=="function"&&define.amd?define(function(){return rt}):typeof je<"u"&&je.exports?je.exports=rt:a[n]=rt})(window,document,"Hammer")});var cn="Service workers are disabled or not supported by this browser",Ft=class{serviceWorker;worker;registration;events;constructor(r,n){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=new kt(o=>o.error(new st(5601,!1)));else{let o=null,c=new Mt;this.worker=new kt(w=>(o!==null&&w.next(o),c.subscribe(F=>w.next(F))));let d=()=>{let{controller:w}=r;w!==null&&(o=w,c.next(o))};r.addEventListener("controllerchange",d),d(),this.registration=this.worker.pipe(Xt(()=>r.getRegistration().then(w=>{if(!w)throw new st(5601,!1);return w})));let m=new Mt;this.events=m.asObservable();let h=w=>{let{data:F}=w;F?.type&&m.next(F)};r.addEventListener("message",h),n?.get(en,null,{optional:!0})?.onDestroy(()=>{r.removeEventListener("controllerchange",d),r.removeEventListener("message",h)})}}postMessage(r,n){return new Promise(o=>{this.worker.pipe(dt(1)).subscribe(c=>{c.postMessage(Hn({action:r},n)),o()})})}postMessageWithOperation(r,n,o){let c=this.waitForOperationCompleted(o),d=this.postMessage(r,n);return Promise.all([d,c]).then(([,m])=>m)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let n;return typeof r=="string"?n=o=>o.type===r:n=o=>r.includes(o.type),this.events.pipe(Yt(n))}nextEventOfType(r){return this.eventsOfType(r).pipe(dt(1))}waitForOperationCompleted(r){return new Promise((n,o)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Yt(c=>c.nonce===r),dt(1),et(c=>{if(c.result!==void 0)return c.result;throw new Error(c.error)})).subscribe({next:n,error:o})})}get isEnabled(){return!!this.serviceWorker}},Ri=(()=>{class a{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Mt;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=lt,this.notificationClicks=lt,this.notificationCloses=lt,this.pushSubscriptionChanges=lt,this.subscription=lt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(et(c=>c.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(et(c=>c.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(et(c=>c.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(et(c=>c.data)),this.pushManager=this.sw.registration.pipe(et(c=>c.pushManager));let o=this.pushManager.pipe(Xt(c=>c.getSubscription()));this.subscription=new kt(c=>{let d=o.subscribe(c),m=this.subscriptionChanges.subscribe(c);return()=>{d.unsubscribe(),m.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(cn));let o={userVisibleOnly:!0},c=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),d=new Uint8Array(new ArrayBuffer(c.length));for(let m=0;m<c.length;m++)d[m]=c.charCodeAt(m);return o.applicationServerKey=d,new Promise((m,h)=>{this.pushManager.pipe(Xt(C=>C.subscribe(o)),dt(1)).subscribe({next:C=>{this.subscriptionChanges.next(C),m(C)},error:h})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(cn));let n=o=>{if(o===null)throw new st(5602,!1);return o.unsubscribe().then(c=>{if(!c)throw new st(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((o,c)=>{this.subscription.pipe(dt(1),Xt(n)).subscribe({next:o,error:c})})}decodeBase64(n){return atob(n)}static \u0275fac=function(o){return new(o||a)(Qt(Ft))};static \u0275prov=M({token:a,factory:a.\u0275fac})}return a})(),Ni=(()=>{class a{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=lt,this.unrecoverable=lt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cn));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new st(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(o){return new(o||a)(Qt(Ft))};static \u0275prov=M({token:a,factory:a.\u0275fac})}return a})();var Pa=new St("");function Fi(){let a=T(Kt);if(!("serviceWorker"in navigator&&a.enabled!==!1))return;let r=T(Pa),n=T(yt),o=T(en);n.runOutsideAngular(()=>{let c=navigator.serviceWorker,d=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",d),o.onDestroy(()=>{c.removeEventListener("controllerchange",d)})}),n.runOutsideAngular(()=>{let c,{registrationStrategy:d}=a;if(typeof d=="function")c=new Promise(m=>d().subscribe(()=>m()));else{let[m,...h]=(d||"registerWhenStable:30000").split(":");switch(m){case"registerImmediately":c=Promise.resolve();break;case"registerWithDelay":c=Da(+h[0]||0);break;case"registerWhenStable":c=Promise.race([o.whenStable(),Da(+h[0])]);break;default:throw new st(5600,!1)}}c.then(()=>{o.destroyed||navigator.serviceWorker.register(r,{scope:a.scope,updateViaCache:a.updateViaCache,type:a.type}).catch(m=>console.error(Gn(5604,!1)))})})}function Da(a){return new Promise(r=>setTimeout(r,a))}function Li(a,r){return new Ft(a.enabled!==!1?navigator.serviceWorker:void 0,r)}var Kt=class{enabled;updateViaCache;type;scope;registrationStrategy};function Oa(a,r={}){return be([Ri,Ni,{provide:Pa,useValue:a},{provide:Kt,useValue:r},{provide:Ft,useFactory:Li,deps:[Kt,$t]},oa(Fi)])}var Ee=class a{constructor(r){this.el=r}swipe=new $;swipeMove=new $;swipeStart=new $;swipeEnd=new $;startX=0;startY=0;hasEmittedSwipe=!1;ngOnInit(){this.el.nativeElement.addEventListener("touchstart",r=>{r.touches.length===1&&(this.startX=r.touches[0].clientX,this.startY=r.touches[0].clientY,this.hasEmittedSwipe=!1,this.swipeStart.emit({x:this.startX,y:this.startY}))}),this.el.nativeElement.addEventListener("touchmove",r=>{if(r.touches.length===1&&!this.hasEmittedSwipe){let n=r.touches[0].clientX,o=r.touches[0].clientY,c=n-this.startX,d=o-this.startY;this.swipeMove.emit({x:n,y:o,deltaX:c,deltaY:d})}}),this.el.nativeElement.addEventListener("touchend",r=>{let n=r.changedTouches[0].clientX,o=r.changedTouches[0].clientY,c=n-this.startX,d=o-this.startY;this.swipeEnd.emit({x:n,y:o}),!this.hasEmittedSwipe&&Math.abs(c)>Math.abs(d)&&Math.abs(c)>50&&Math.abs(d)<100&&(c>0?this.swipe.emit("right"):this.swipe.emit("left"),this.hasEmittedSwipe=!0)}),this.el.nativeElement.addEventListener("mousedown",r=>{this.startX=r.clientX,this.startY=r.clientY,this.hasEmittedSwipe=!1,this.swipeStart.emit({x:this.startX,y:this.startY});let n=c=>{if(!this.hasEmittedSwipe){let d=c.clientX-this.startX,m=c.clientY-this.startY;this.swipeMove.emit({x:c.clientX,y:c.clientY,deltaX:d,deltaY:m})}};document.addEventListener("mousemove",n);let o=c=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o);let d=c.clientX-this.startX,m=c.clientY-this.startY;this.swipeEnd.emit({x:c.clientX,y:c.clientY}),!this.hasEmittedSwipe&&Math.abs(d)>Math.abs(m)&&Math.abs(d)>50&&Math.abs(m)<100&&(d>0?this.swipe.emit("right"):this.swipe.emit("left"),this.hasEmittedSwipe=!0)};document.addEventListener("mouseup",o,{once:!0})})}static \u0275fac=function(n){return new(n||a)(R(tn))};static \u0275dir=At({type:a,selectors:[["","appSwipe",""]],outputs:{swipe:"swipe",swipeMove:"swipeMove",swipeStart:"swipeStart",swipeEnd:"swipeEnd"}})};var Bi=["swipeContainer"],Vi=["swipeContent"],ji=["*"],Ie=class a{swipeEnabled=!0;onSwipeEvent=new $;swipeContainer;swipeContent;isSwiping=!1;startTranslateX=0;containerWidth=0;ngAfterViewInit(){this.containerWidth=this.swipeContainer.nativeElement.clientWidth}swipeHandled=!1;onSwipe(r){this.swipeEnabled&&!this.swipeHandled&&(this.swipeHandled=!0,this.onSwipeEvent.emit(r),this.swipeContent&&(this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out",setTimeout(()=>{this.swipeContent.nativeElement.style.transform="translateX(0)",setTimeout(()=>{this.swipeContent.nativeElement.style.transition=""},300)},10)))}onSwipeStart(r){if(this.swipeEnabled&&this.swipeContent){this.isSwiping=!0,this.swipeHandled=!1;let n=window.getComputedStyle(this.swipeContent.nativeElement),o=new DOMMatrixReadOnly(n.transform);this.startTranslateX=o.m41,this.swipeContent.nativeElement.style.transition="none"}}onSwipeMove(r){if(this.swipeEnabled&&this.isSwiping&&this.swipeContent){let n=this.startTranslateX+r.deltaX;this.swipeContent.nativeElement.style.transform=`translateX(${n}px)`}}onSwipeEnd(r){if(this.swipeEnabled&&this.isSwiping&&this.swipeContent){this.isSwiping=!1,this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out";let n=window.getComputedStyle(this.swipeContent.nativeElement),c=new DOMMatrixReadOnly(n.transform).m41,d=this.containerWidth*.3;if(Math.abs(c)>d){let m=c>0?"right":"left",h=m==="left"?-this.containerWidth:this.containerWidth;this.swipeContent.nativeElement.style.transform=`translateX(${h}px)`,setTimeout(()=>{this.swipeHandled||(this.onSwipeEvent.emit(m),this.swipeHandled=!0),this.swipeContent.nativeElement.style.transform="translateX(0)",this.swipeContent.nativeElement.style.transition=""},300)}else this.swipeContent.nativeElement.style.transform="translateX(0)",this.swipeContent.nativeElement.style.transition="transform 0.3s ease-out"}setTimeout(()=>{this.swipeHandled=!1},350)}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=I({type:a,selectors:[["app-swipe-container"]],viewQuery:function(n,o){if(n&1&&(Ot(Bi,5),Ot(Vi,5)),n&2){let c;xt(c=wt())&&(o.swipeContainer=c.first),xt(c=wt())&&(o.swipeContent=c.first)}},inputs:{swipeEnabled:"swipeEnabled"},outputs:{onSwipeEvent:"onSwipeEvent"},ngContentSelectors:ji,decls:5,vars:0,consts:[["swipeContainer",""],["swipeContent",""],["appSwipe","",1,"swipe-container",3,"swipe","swipeMove","swipeStart","swipeEnd"],[1,"swipe-content"]],template:function(n,o){if(n&1){let c=G();Dt(),p(0,"div",2,0),P("swipe",function(m){return S(c),A(o.onSwipe(m))})("swipeMove",function(m){return S(c),A(o.onSwipeMove(m))})("swipeStart",function(m){return S(c),A(o.onSwipeStart(m))})("swipeEnd",function(m){return S(c),A(o.onSwipeEnd(m))}),p(2,"div",3,1),Pt(4),b()()}},dependencies:[Ee],styles:['.swipe-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow-x:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch;touch-action:pan-y;position:relative}.swipe-content[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transition:transform .3s ease-out}.swipe-container[_ngcontent-%COMP%]:active{transition:none}@media (max-width: 768px){.swipe-container[_ngcontent-%COMP%]{position:relative}.swipe-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:10px;background:linear-gradient(to right,rgba(0,0,0,.1),transparent);left:0;opacity:0;transition:opacity .2s;pointer-events:none;z-index:100}.swipe-container.swipe-left[_ngcontent-%COMP%]:before{opacity:1}.swipe-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:10px;background:linear-gradient(to left,rgba(0,0,0,.1),transparent);right:0;opacity:0;transition:opacity .2s;pointer-events:none;z-index:100}.swipe-container.swipe-right[_ngcontent-%COMP%]:after{opacity:1}}']})};var ke=class a{constructor(r){this.router=r;this.updateIndexFromCurrentRoute(),this.router.events.pipe(Yt(n=>n instanceof wa)).subscribe(n=>{this.updateIndexFromCurrentRoute()})}currentIndexSubject=new pe(0);currentIndex$=this.currentIndexSubject.asObservable();navigationRoutes=["/dashboard","/add","/expenses","/budgets","/incomes"];updateIndexFromCurrentRoute(){let r=this.router.url,n=this.navigationRoutes.indexOf(r);n!==-1&&this.currentIndexSubject.next(n)}setCurrentIndex(r){r>=0&&r<this.navigationRoutes.length&&this.currentIndexSubject.next(r)}getCurrentIndex(){return this.currentIndexSubject.value}getCurrentRoute(){return this.navigationRoutes[this.currentIndexSubject.value]||"/dashboard"}getNextRoute(){let n=(this.currentIndexSubject.value+1)%this.navigationRoutes.length;return this.navigationRoutes[n]}getPreviousRoute(){let n=this.currentIndexSubject.value-1,o=n<0?this.navigationRoutes.length-1:n;return this.navigationRoutes[o]}getIndexForRoute(r){return this.navigationRoutes.indexOf(r)}getRoutesCount(){return this.navigationRoutes.length}getRouteAt(r){return r<0||r>=this.navigationRoutes.length?null:this.navigationRoutes[r]}static \u0275fac=function(n){return new(n||a)(Qt(Nt))};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})};var Se=class a{constructor(r,n){this.router=r;this.swipeService=n}subscription=new zn;ngOnInit(){this.subscription.add(this.swipeService.currentIndex$.subscribe(r=>{let n=this.swipeService.getRouteAt(r);n&&this.router.url!==n&&this.router.navigate([n],{replaceUrl:!0})}))}ngOnDestroy(){this.subscription.unsubscribe()}handleSwipe(r){let n=null;if(r==="left"?n=this.swipeService.getNextRoute():r==="right"&&(n=this.swipeService.getPreviousRoute()),n&&this.router.url!==n){let o=this.swipeService.getIndexForRoute(n);o!==-1&&(this.swipeService.setCurrentIndex(o),this.router.navigate([n],{queryParamsHandling:"preserve",replaceUrl:!0}))}}static \u0275fac=function(n){return new(n||a)(R(Nt),R(ke))};static \u0275cmp=I({type:a,selectors:[["app-swipe-layout"]],decls:3,vars:0,consts:[[1,"swipe-layout-container",3,"onSwipeEvent"],[1,"layout-content"]],template:function(n,o){n&1&&(p(0,"app-swipe-container",0),P("onSwipeEvent",function(d){return o.handleSwipe(d)}),p(1,"div",1),_(2,"router-outlet"),b()())},dependencies:[Ie,ve],styles:[".swipe-layout-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;overflow:hidden;position:relative}.layout-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;position:relative;transition:all .3s ease}.layout-content[_ngcontent-%COMP%]    >*{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:.8;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};var Ra=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"welcome",loadComponent:()=>import("./chunk-AVWC6YQ7.js").then(a=>a.WelcomeComponent)},{path:"",component:Se,children:[{path:"dashboard",loadComponent:()=>import("./chunk-3ABI4HZT.js").then(a=>a.DashboardComponent)},{path:"add",loadComponent:()=>import("./chunk-Z2WXPDHT.js").then(a=>a.AddExpense)},{path:"expenses",loadComponent:()=>import("./chunk-RTZTBCLG.js").then(a=>a.ExpensesList)},{path:"budgets",loadComponent:()=>import("./chunk-TXJ7A2XZ.js").then(a=>a.BudgetsComponent)},{path:"incomes",loadComponent:()=>import("./chunk-RUGEGH3Q.js").then(a=>a.IncomeListComponent)}]},{path:"set-income",loadComponent:()=>import("./chunk-YLDFLW5T.js").then(a=>a.SetMonthlyIncomeComponent)},{path:"profile",loadComponent:()=>import("./chunk-MXQ325W4.js").then(a=>a.UserProfileComponent)}];var zi="@",Wi=(()=>{class a{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=T($t);loadingSchedulerFn=T(Ui,{optional:!0});_engine;constructor(n,o,c,d,m){this.doc=n,this.delegate=o,this.zone=c,this.animationType=d,this.moduleImpl=m}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-OTZDUOZO.js").then(c=>c),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(n):o=n(),o.catch(c=>{throw new st(5300,!1)}).then(({\u0275createEngine:c,\u0275AnimationRendererFactory:d})=>{this._engine=c(this.animationType,this.doc);let m=new d(this.delegate,this._engine,this.zone);return this.delegate=m,m})}createRenderer(n,o){let c=this.delegate.createRenderer(n,o);if(c.\u0275type===0)return c;typeof c.throwOnSyntheticProps=="boolean"&&(c.throwOnSyntheticProps=!1);let d=new ln(c);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(m=>{let h=m.createRenderer(n,o);d.use(h),this.scheduler??=this.injector.get(Zn,null,{optional:!0}),this.scheduler?.notify(10)}).catch(m=>{d.use(c)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(n){this._engine?.flush(),this.delegate.componentReplaced?.(n)}static \u0275fac=function(o){aa()};static \u0275prov=M({token:a,factory:a.\u0275fac})}return a})(),ln=class{delegate;replay=[];\u0275type=1;constructor(r){this.delegate=r}use(r){if(this.delegate=r,this.replay!==null){for(let n of this.replay)n(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,n){return this.delegate.createElement(r,n)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,n){this.delegate.appendChild(r,n)}insertBefore(r,n,o,c){this.delegate.insertBefore(r,n,o,c)}removeChild(r,n,o){this.delegate.removeChild(r,n,o)}selectRootElement(r,n){return this.delegate.selectRootElement(r,n)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,n,o,c){this.delegate.setAttribute(r,n,o,c)}removeAttribute(r,n,o){this.delegate.removeAttribute(r,n,o)}addClass(r,n){this.delegate.addClass(r,n)}removeClass(r,n){this.delegate.removeClass(r,n)}setStyle(r,n,o,c){this.delegate.setStyle(r,n,o,c)}removeStyle(r,n,o){this.delegate.removeStyle(r,n,o)}setProperty(r,n,o){this.shouldReplay(n)&&this.replay.push(c=>c.setProperty(r,n,o)),this.delegate.setProperty(r,n,o)}setValue(r,n){this.delegate.setValue(r,n)}listen(r,n,o,c){return this.shouldReplay(n)&&this.replay.push(d=>d.listen(r,n,o,c)),this.delegate.listen(r,n,o,c)}shouldReplay(r){return this.replay!==null&&r.startsWith(zi)}},Ui=new St("");function Na(a="animations"){return ia("NgAsyncAnimations"),be([{provide:na,useFactory:(r,n,o)=>new Wi(r,n,o,a),deps:[he,ya,yt]},{provide:ta,useValue:a==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fa={providers:[ma(),Ca(Ra,Ta()),Oa("ngsw-worker.js",{enabled:!ua(),registrationStrategy:"registerWhenStable:30000"}),Na(),qn()]};function Xi(a,r){a&1&&_(0,"i",11)}function Qi(a,r){a&1&&_(0,"i",12)}function $i(a,r){a&1&&_(0,"i",13)}function Gi(a,r){a&1&&_(0,"i",14)}function qi(a,r){if(a&1){let n=G();p(0,"div",2)(1,"div",3)(2,"span",4),j(3,Xi,1,0,"i",5)(4,Qi,1,0,"i",6)(5,$i,1,0,"i",7)(6,Gi,1,0,"i",8),b(),p(7,"span",9),y(8),b(),p(9,"button",10),P("click",function(){let c=S(n).$implicit,d=nt();return A(d.removeToast(c.id))}),b()()()}if(a&2){let n=r.$implicit;v("ngClass","toast-"+n.type)("@toastAnimation",void 0),f(2),v("ngSwitch",n.type),f(),v("ngSwitchCase","success"),f(),v("ngSwitchCase","error"),f(),v("ngSwitchCase","warning"),f(),v("ngSwitchCase","info"),f(2),q(n.message)}}var Ae=class a{constructor(r){this.toastService=r}removeToast(r){this.toastService.remove(r)}trackById(r,n){return n.id}static \u0275fac=function(n){return new(n||a)(R(we))};static \u0275cmp=I({type:a,selectors:[["app-toast"]],decls:3,vars:4,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1090"],["class","toast align-items-center mb-2","role","alert","aria-live","assertive","aria-atomic","true","style","min-width: 300px; max-width: 400px; display: block;",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center","mb-2",2,"min-width","300px","max-width","400px","display","block",3,"ngClass"],[1,"toast-body","d-flex","align-items-center"],[1,"me-2",3,"ngSwitch"],["class","bi bi-check-circle-fill text-success fs-5",4,"ngSwitchCase"],["class","bi bi-x-circle-fill text-danger fs-5",4,"ngSwitchCase"],["class","bi bi-exclamation-triangle-fill text-warning fs-5",4,"ngSwitchCase"],["class","bi bi-info-circle-fill text-info fs-5",4,"ngSwitchCase"],[1,"flex-grow-1"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"],[1,"bi","bi-check-circle-fill","text-success","fs-5"],[1,"bi","bi-x-circle-fill","text-danger","fs-5"],[1,"bi","bi-exclamation-triangle-fill","text-warning","fs-5"],[1,"bi","bi-info-circle-fill","text-info","fs-5"]],template:function(n,o){n&1&&(p(0,"div",0),j(1,qi,10,8,"div",1),Rt(2,"async"),b()),n&2&&(f(),v("ngForOf",ge(2,2,o.toastService.toasts$))("ngForTrackBy",o.trackById))},dependencies:[X,ut,pt,ba,ha,fa],styles:[".toast-container[_ngcontent-%COMP%]{z-index:1090}.toast-container[_ngcontent-%COMP%]   .toast[_ngcontent-%COMP%]{border:none;box-shadow:0 .5rem 1rem #00000026;border-radius:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.toast-container[_ngcontent-%COMP%]   .toast.toast-success[_ngcontent-%COMP%]{background-color:#198754e6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast.toast-error[_ngcontent-%COMP%]{background-color:#dc3545e6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast.toast-warning[_ngcontent-%COMP%]{background-color:#ffc107e6;color:#212529}.toast-container[_ngcontent-%COMP%]   .toast.toast-info[_ngcontent-%COMP%]{background-color:#0d6efde6;color:#fff}.toast-container[_ngcontent-%COMP%]   .toast[_ngcontent-%COMP%]   .toast-body[_ngcontent-%COMP%]{padding:.75rem 1rem}"],data:{animation:[sn("toastAnimation",[Te(":enter",[qt({transform:"translateX(100%)",opacity:0}),Ce("300ms ease-out",qt({transform:"translateX(0)",opacity:1}))]),Te(":leave",[Ce("300ms ease-in",qt({transform:"translateX(100%)",opacity:0}))])])]}})};var dn;try{dn=typeof Intl<"u"&&Intl.v8BreakIterator}catch{dn=!1}var Pe=(()=>{class a{_platformId=T(Jn);isBrowser=this._platformId?_a(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||dn)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(o){return new(o||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function mn(a){return Array.isArray(a)?a:[a]}var La=new Set,Tt,Ki=(()=>{class a{_platform=T(Pe);_nonce=T(ea,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ji}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Zi(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(o){return new(o||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Zi(a,r){if(!La.has(a))try{Tt||(Tt=document.createElement("style"),r&&Tt.setAttribute("nonce",r),Tt.setAttribute("type","text/css"),document.head.appendChild(Tt)),Tt.sheet&&(Tt.sheet.insertRule(`@media ${a} {body{ }}`,0),La.add(a))}catch(n){console.error(n)}}function Ji(a){return{matches:a==="all"||a==="",media:a,addListener:()=>{},removeListener:()=>{}}}var Va=(()=>{class a{_mediaMatcher=T(Ki);_zone=T(yt);_queries=new Map;_destroySubject=new Mt;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Ba(mn(n)).some(c=>this._registerQuery(c).mql.matches)}observe(n){let c=Ba(mn(n)).map(m=>this._registerQuery(m).observable),d=Wn(c);return d=Un(d.pipe(dt(1)),d.pipe(Xn(1),Yn(0))),d.pipe(et(m=>{let h={matches:!1,breakpoints:{}};return m.forEach(({matches:C,query:w})=>{h.matches=h.matches||C,h.breakpoints[w]=C}),h}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let o=this._mediaMatcher.matchMedia(n),d={observable:new kt(m=>{let h=C=>this._zone.run(()=>m.next(C));return o.addListener(h),()=>{o.removeListener(h)}}).pipe(Qn(o),et(({matches:m})=>({query:n,matches:m})),$n(this._destroySubject)),mql:o};return this._queries.set(n,d),d}static \u0275fac=function(o){return new(o||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Ba(a){return a.map(r=>r.split(",")).reduce((r,n)=>r.concat(n)).map(r=>r.trim())}var ht=(function(a){return a[a.NONE=0]="NONE",a[a.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",a[a.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",a})(ht||{}),ja="cdk-high-contrast-black-on-white",Ha="cdk-high-contrast-white-on-black",un="cdk-high-contrast-active",pn=(()=>{class a{_platform=T(Pe);_hasCheckedHighContrastMode;_document=T(he);_breakpointSubscription;constructor(){this._breakpointSubscription=T(Va).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ht.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let o=this._document.defaultView||window,c=o&&o.getComputedStyle?o.getComputedStyle(n):null,d=(c&&c.backgroundColor||"").replace(/ /g,"");switch(n.remove(),d){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ht.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ht.BLACK_ON_WHITE}return ht.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(un,ja,Ha),this._hasCheckedHighContrastMode=!0;let o=this.getHighContrastMode();o===ht.BLACK_ON_WHITE?n.add(un,ja):o===ht.WHITE_ON_BLACK&&n.add(un,Ha)}}static \u0275fac=function(o){return new(o||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var bn=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({})}return a})();var H=(()=>{class a{constructor(){T(pn)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[bn,bn]})}return a})();var Ua=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[H,H]})}return a})();var io=()=>({exact:!0});function oo(a,r){a&1&&_(0,"div",14)}function ro(a,r){if(a&1&&(p(0,"a",11,0),_(2,"i",12),p(3,"span"),y(4),b(),j(5,oo,1,0,"div",13),b()),a&2){let n=r.$implicit,o=Gt(1);v("routerLink",n.path)("routerLinkActiveOptions",fe(5,io)),f(2),v("ngClass","bi me-2 "+(o.isActive?n.activeIcon:n.icon)),f(2),q(n.label||(n.path==="/dashboard"?"Dashboard":n.path==="/expenses"?"Expenses":"Settings")),f(),v("ngIf",o.isActive)}}var Oe=class a{links=[];selectedIndex=0;static \u0275fac=function(n){return new(n||a)};static \u0275cmp=I({type:a,selectors:[["app-desktop-nav"]],inputs:{links:"links",selectedIndex:"selectedIndex"},decls:11,vars:1,consts:[["rla","routerLinkActive"],[1,"desktop-nav-container","glass-nav"],[1,"container-fluid","d-flex","align-items-center","h-100"],[1,"brand","me-5"],[1,"mb-0","fw-bold","text-gradient"],[1,"d-flex","gap-4"],["routerLinkActive","active","class","nav-link-item",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"ms-auto","d-flex","align-items-center","gap-3"],[1,"user-profile","d-flex","align-items-center","gap-2"],[1,"avatar","bg-primary-gradient","text-white","rounded-circle","d-flex","align-items-center","justify-content-center",2,"width","32px","height","32px"],[1,"bi","bi-person-fill"],["routerLinkActive","active",1,"nav-link-item",3,"routerLink","routerLinkActiveOptions"],[3,"ngClass"],["class","active-indicator",4,"ngIf"],[1,"active-indicator"]],template:function(n,o){n&1&&(p(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),y(4,"ExpTracker"),b()(),p(5,"nav",5),j(6,ro,6,6,"a",6),b(),p(7,"div",7)(8,"div",8)(9,"div",9),_(10,"i",10),b()()()()()),n&2&&(f(6),v("ngForOf",o.links))},dependencies:[X,ut,pt,bt,xe,_e,ye,Ua],styles:["[_nghost-%COMP%]{display:block;position:fixed;top:0;left:0;right:0;z-index:1000}.desktop-nav-container[_ngcontent-%COMP%]{height:60px;background:#0f172ad9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-bottom:1px solid rgba(255,255,255,.1)}.nav-link-item[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;color:var(--text-secondary);text-decoration:none;font-weight:500;padding:0 8px;height:60px;transition:color .2s}.nav-link-item[_ngcontent-%COMP%]:hover{color:#fff}.nav-link-item.active[_ngcontent-%COMP%]{color:var(--text-accent)}.nav-link-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.active-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:3px;background:var(--accent-gradient);border-top-left-radius:3px;border-top-right-radius:3px;box-shadow:0 -2px 8px #6366f180}.text-gradient[_ngcontent-%COMP%]{background:var(--accent-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.bg-primary-gradient[_ngcontent-%COMP%]{background:var(--accent-gradient)}"]})};var Ya=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[H,H]})}return a})();var Xa=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[H,H]})}return a})();var Qa=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[H,H]})}return a})();var $a=(()=>{class a{static \u0275fac=function(o){return new(o||a)};static \u0275mod=N({type:a});static \u0275inj=O({imports:[H,Qa,H]})}return a})();var so=()=>({exact:!0});function co(a,r){a&1&&_(0,"div",7)}function lo(a,r){if(a&1&&(p(0,"div",3,0)(2,"div",4),_(3,"i",5),b(),j(4,co,1,0,"div",6),b()),a&2){let n=r.$implicit,o=Gt(1);v("routerLink",n.path)("routerLinkActiveOptions",fe(4,so)),f(3),v("ngClass","bi "+(o.isActive?n.activeIcon:n.icon)),f(),v("ngIf",o.isActive)}}var Re=class a{links=[];static \u0275fac=function(n){return new(n||a)};static \u0275cmp=I({type:a,selectors:[["app-mobile-nav"]],inputs:{links:"links"},decls:2,vars:1,consts:[["rla","routerLinkActive"],[1,"mobile-nav-container","glass-nav"],["class","nav-item","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],[1,"icon-container"],[3,"ngClass"],["class","active-indicator",4,"ngIf"],[1,"active-indicator"]],template:function(n,o){n&1&&(p(0,"div",1),j(1,lo,5,5,"div",2),b()),n&2&&(f(),v("ngForOf",o.links))},dependencies:[X,ut,pt,bt,xe,_e,ye,Ya,Xa,$a],styles:["[_nghost-%COMP%]{position:fixed;bottom:0;left:0;right:0;z-index:1000}.mobile-nav-container[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:space-around;align-items:center;background:#0f172ad9;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-top:1px solid rgba(255,255,255,.1);padding:0 16px;padding-bottom:env(safe-area-inset-bottom)}.nav-item[_ngcontent-%COMP%]{position:relative;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;cursor:pointer;color:var(--text-secondary);transition:all .3s ease}.nav-item[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:1.5rem;transition:transform .2s}.nav-item.active[_ngcontent-%COMP%]{color:var(--text-accent)}.nav-item.active[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{transform:translateY(-4px);background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.nav-item[_ngcontent-%COMP%]:active{transform:scale(.95)}.active-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;width:20px;height:3px;background:var(--accent-gradient);border-top-left-radius:3px;border-top-right-radius:3px;box-shadow:0 -2px 8px #6366f180}"]})};var Ne=class a{constructor(){}hasApiKey(){return!0}async parseExpense(r){let n=r.toLowerCase().trim(),c=new Date().toISOString().split("T")[0],d=["hello","hi","hey","hola","howdy","greetings"],m=["how are you","how r u","how are u","whats up","what's up","sup"],h=["thank","thanks","thx","ty"],C=["help","how to","how do i","what can you do"];if(d.some(L=>n===L||n.startsWith(L+" ")))return{conversational:`Hi there! \u{1F44B} I'm Expense GPT, your personal expense tracker. I can help you log your spending quickly. Just tell me what you spent! For example:

\u2022 'spend 500 on chai'
\u2022 'paid 200 for groceries'
\u2022 'bought coffee for 150'

What would you like to track?`};if(m.some(L=>n.includes(L)))return{conversational:`I'm doing great, thanks for asking! \u{1F60A} I'm here to help you track your expenses. You can tell me about any purchases like:

\u2022 'spend 300 on lunch'
\u2022 'paid 1000 for electricity bill'
\u2022 'bought shoes for 2500'

What did you spend on today?`};if(h.some(L=>n.includes(L)))return{conversational:"You're welcome! \u{1F60A} Feel free to add more expenses anytime. Just tell me what you spent!"};if(C.some(L=>n.includes(L)))return{conversational:`I can help you track your expenses! Just tell me what you spent in natural language. Here are some examples:

\u2022 'spend 500 on chai'
\u2022 'paid 200 for groceries yesterday'
\u2022 'bought coffee for 150'
\u2022 '300 for lunch'
\u2022 'spent 1000 on electricity bill'

I'll understand and create an expense entry for you!`};let w=this.extractDate(r),F=this.tryParseExpense(r,w);return F||{conversational:`I'm not sure I understood that. Could you try rephrasing? For example:

\u2022 'spend 500 on chai'
\u2022 'paid 200 for groceries yesterday'
\u2022 'bought coffee for 150'
\u2022 '300 for lunch'

What would you like to track?`}}extractDate(r){let n=new Date,o=r.toLowerCase();if(o.includes("yesterday")){let c=new Date(n);return c.setDate(c.getDate()-1),c.toISOString().split("T")[0]}o.includes("today");{let c=o.match(/(\d+)\s+days?\s+ago/);if(c){let m=parseInt(c[1]),h=new Date(n);return h.setDate(h.getDate()-m),h.toISOString().split("T")[0]}if(o.includes("last week")){let m=new Date(n);return m.setDate(m.getDate()-7),m.toISOString().split("T")[0]}if(o.includes("last month")){let m=new Date(n);return m.setMonth(m.getMonth()-1),m.toISOString().split("T")[0]}let d=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(let m=0;m<d.length;m++)if(o.includes(d[m])){let h=m,w=n.getDay()-h;w<=0&&(w+=7);let F=new Date(n);return F.setDate(F.getDate()-w),F.toISOString().split("T")[0]}}return n.toISOString().split("T")[0]}tryParseExpense(r,n){let o=[/(?:spend|spent|paid|pay)\s+(\d+)\s+(?:on|for)\s+(.+)/i,/(?:bought|buy|purchased)\s+(.+?)\s+for\s+(\d+)/i,/(\d+)\s+(?:for|on)\s+(.+)/i,/(.+?)\s+(\d+)/i];for(let c of o){let d=r.match(c);if(d){let m,h;if(c.source.includes("bought")?(h=d[1].trim(),m=parseInt(d[2])):d[1]&&!isNaN(parseInt(d[1]))?(m=parseInt(d[1]),h=d[2]?.trim()||"expense"):(h=d[1]?.trim()||"expense",m=parseInt(d[2])),m&&m>0&&h)return this.createExpense(m,h,n)}}return null}createExpense(r,n,o){let c=this.inferCategory(n),d=this.generateTitle(n);return{id:Math.floor(1e4+Math.random()*9e4),title:d,amount:r,date:new Date(o),category:c,notes:`Spent ${r} on ${n}`,paymentMethod:"",receipt:"",tags:this.extractTags(n),groupId:void 0,recurringId:void 0,createdAt:new Date,updatedAt:new Date}}inferCategory(r){let n=r.toLowerCase();return/chai|tea|coffee|food|lunch|dinner|breakfast|restaurant|cafe|snack|meal|pizza|burger/i.test(n)?"Food":/uber|taxi|cab|bus|train|metro|fuel|petrol|gas|parking|transport/i.test(n)?"Transport":/bill|electricity|water|gas|internet|phone|mobile|utility/i.test(n)?"Bills":/movie|cinema|game|concert|show|entertainment|netflix|spotify/i.test(n)?"Entertainment":/shop|cloth|shirt|shoes|dress|buy|purchase|store|mall/i.test(n)?"Shopping":/doctor|medicine|hospital|pharmacy|health|medical/i.test(n)?"Healthcare":/book|course|class|tuition|education|school|college/i.test(n)?"Education":/hotel|flight|ticket|travel|vacation|trip/i.test(n)?"Travel":"Other"}generateTitle(r){return r.trim().split(/\s+/).slice(0,3).map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}extractTags(r){return r.toLowerCase().split(/\s+/).slice(0,3).filter(o=>o.length>2)}static \u0275fac=function(n){return new(n||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})};var uo=["scrollContainer"];function po(a,r){a&1&&(p(0,"div",19)(1,"div",20),_(2,"i",21),b(),p(3,"p",22),y(4,"Hi! I can help you track expenses."),b(),p(5,"p",23),y(6,'Try "Spent 500 on lunch" or "Paid 2000 for petrol"'),b()())}function bo(a,r){if(a&1&&(p(0,"div",24)(1,"div",25)(2,"p",26),y(3),b()(),p(4,"small",27),y(5),Rt(6,"date"),b()()),a&2){let n=r.$implicit;mt("user",n.sender==="user")("ai",n.sender==="ai"),f(),v("ngClass",n.sender==="user"?"bg-primary-gradient text-white":"bg-white-10 text-white"),f(2),q(n.text),f(),mt("text-end",n.sender==="user"),f(),sa(" ",rn(6,9,n.timestamp,"shortTime")," ")}}function ho(a,r){a&1&&(p(0,"div",28)(1,"div",29)(2,"div",30),_(3,"span")(4,"span")(5,"span"),b()()())}function fo(a,r){if(a&1){let n=G();p(0,"div",31)(1,"h6",32),y(2,"Confirm Expense"),b(),p(3,"div",33)(4,"span",34),y(5,"Title"),b(),p(6,"span",35),y(7),b()(),p(8,"div",33)(9,"span",34),y(10,"Amount"),b(),p(11,"span",36),y(12),Rt(13,"number"),b()(),p(14,"div",33)(15,"span",34),y(16,"Category"),b(),p(17,"span",35),y(18),b()(),p(19,"div",37)(20,"span",34),y(21,"Date"),b(),p(22,"span",35),y(23),Rt(24,"date"),b()(),p(25,"div",38)(26,"button",39),P("click",function(){S(n);let c=nt();return A(c.discardExpense())}),y(27,"Discard"),b(),p(28,"button",40),P("click",function(){S(n);let c=nt();return A(c.confirmExpense())}),y(29,"Add Expense"),b()()()}if(a&2){let n=nt();f(7),q(n.pendingExpense.title),f(5),q(rn(13,4,n.pendingExpense.amount,"1.0-0")),f(6),q(n.pendingExpense.category),f(5),q(ge(24,7,n.pendingExpense.date))}}var Fe=class a{constructor(r,n,o,c){this.geminiService=r;this.expenseService=n;this.toastService=o;this.cdr=c}isOpen=!1;close=new $;scrollContainer;messages=[];userInput="";isProcessing=!1;pendingExpense=null;ngOnInit(){}closeChat(){this.close.emit()}async sendMessage(){if(!this.userInput.trim()||this.isProcessing)return;let r=this.userInput.trim();this.addMessage(r,"user"),this.userInput="",this.isProcessing=!0,this.scrollToBottom();try{let n=await this.geminiService.parseExpense(r);console.log("Result type:",n),console.log("Has conversational?","conversational"in n),console.log("Has error?","error"in n),"conversational"in n?(console.log("Showing conversational response"),this.addTypingMessage(n.conversational)):"error"in n?(console.log("Got error, converting to conversational"),this.addTypingMessage(`I'm here to help you track expenses! You can tell me things like:

\u2022 'spend 500 on chai'
\u2022 'paid 200 for groceries'
\u2022 'bought coffee for 150'

What would you like to track?`)):(console.log("Got valid expense"),this.pendingExpense=n,this.addMessage("I found an expense! Please confirm the details below.","ai"))}catch(n){console.error("Caught exception:",n),this.addTypingMessage(`I'm here to help you track your expenses! Try telling me something like "spend 500 on chai" or "paid 200 for groceries".`)}finally{this.isProcessing=!1,this.cdr.markForCheck(),this.scrollToBottom()}}async addTypingMessage(r){let n=this.messages.length;this.messages.push({text:"",sender:"ai",timestamp:new Date}),this.cdr.markForCheck(),this.scrollToBottom();let o="",c=20;for(let d=0;d<r.length;d++)o+=r[d],this.messages[n].text=o,this.cdr.markForCheck(),this.scrollToBottom(),await this.delay(c)}delay(r){return new Promise(n=>setTimeout(n,r))}confirmExpense(){this.pendingExpense&&(this.expenseService.addExpense(this.pendingExpense),this.toastService.success("Expense added successfully!"),this.addMessage("Expense added! You can add another one.","ai"),this.pendingExpense=null,this.cdr.markForCheck(),this.scrollToBottom())}discardExpense(){this.pendingExpense=null,this.addMessage("Expense discarded. What else?","ai"),this.cdr.markForCheck(),this.scrollToBottom()}addMessage(r,n){this.messages.push({text:r,sender:n,timestamp:new Date}),this.cdr.markForCheck()}scrollToBottom(){setTimeout(()=>{this.scrollContainer&&(this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight)},100)}static \u0275fac=function(n){return new(n||a)(R(Ne),R(Ea),R(we),R(pa))};static \u0275cmp=I({type:a,selectors:[["app-chat-interface"]],viewQuery:function(n,o){if(n&1&&Ot(uo,5),n&2){let c;xt(c=wt())&&(o.scrollContainer=c.first)}},inputs:{isOpen:"isOpen"},outputs:{close:"close"},decls:20,vars:9,consts:[["scrollContainer",""],[1,"chat-container","glass-card"],[1,"chat-header","d-flex","justify-content-between","align-items-center","p-3","border-bottom","border-white-10"],[1,"d-flex","align-items-center"],[1,"icon-circle","bg-primary-gradient","me-2",2,"width","32px","height","32px"],[1,"bi","bi-robot","text-white","small"],[1,"text-white","mb-0"],[1,"btn","btn-icon","btn-sm","text-secondary",3,"click"],[1,"bi","bi-x-lg"],[1,"chat-messages","p-3"],["class","text-center py-4",4,"ngIf"],["class","message mb-3",3,"user","ai",4,"ngFor","ngForOf"],["class","message ai mb-3",4,"ngIf"],["class","expense-preview glass-card p-3 mt-2 border border-accent",4,"ngIf"],[1,"chat-input","p-3","border-top","border-white-10"],[1,"input-group"],["type","text","placeholder","Type an expense...",1,"form-control","bg-transparent","text-white","border-white-10",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"btn","btn-primary-gradient",3,"click","disabled"],[1,"bi","bi-send"],[1,"text-center","py-4"],[1,"icon-box","bg-white-5","mx-auto","mb-3","rounded-circle",2,"width","48px","height","48px"],[1,"bi","bi-stars","text-accent","fs-4"],[1,"text-white","small","mb-1"],[1,"text-secondary","x-small"],[1,"message","mb-3"],[1,"message-content","p-3","rounded-3",3,"ngClass"],[1,"mb-0","small","text-start"],[1,"text-secondary","x-small","mt-1","d-block"],[1,"message","ai","mb-3"],[1,"message-content","p-3","rounded-3","bg-white-10"],[1,"typing-indicator"],[1,"expense-preview","glass-card","p-3","mt-2","border","border-accent"],[1,"text-white","mb-2","small","fw-bold","text-uppercase"],[1,"d-flex","justify-content-between","mb-1"],[1,"text-secondary","small"],[1,"text-white","small"],[1,"text-white","small","fw-bold"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-outline-danger","flex-grow-1",3,"click"],[1,"btn","btn-sm","btn-success","flex-grow-1",3,"click"]],template:function(n,o){if(n&1){let c=G();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),_(4,"i",5),b(),p(5,"h6",6),y(6,"AI Assistant"),b()(),p(7,"button",7),P("click",function(){return S(c),A(o.closeChat())}),_(8,"i",8),b()(),p(9,"div",9,0),j(11,po,7,0,"div",10)(12,bo,7,12,"div",11)(13,ho,6,0,"div",12)(14,fo,30,9,"div",13),b(),p(15,"div",14)(16,"div",15)(17,"input",16),da("ngModelChange",function(m){return S(c),la(o.userInput,m)||(o.userInput=m),A(m)}),P("keyup.enter",function(){return S(c),A(o.sendMessage())}),b(),p(18,"button",17),P("click",function(){return S(c),A(o.sendMessage())}),_(19,"i",18),b()()()()}n&2&&(mt("open",o.isOpen),f(11),v("ngIf",o.messages.length===0),f(),v("ngForOf",o.messages),f(),v("ngIf",o.isProcessing),f(),v("ngIf",o.pendingExpense),f(3),ca("ngModel",o.userInput),v("disabled",o.isProcessing||!!o.pendingExpense),f(),v("disabled",!o.userInput.trim()||o.isProcessing||!!o.pendingExpense))},dependencies:[X,ut,pt,bt,Sa,Ia,ka,Ma,va,ga],styles:[".chat-container[_ngcontent-%COMP%]{position:fixed;bottom:100px;right:20px;width:350px;height:500px;z-index:1050;display:flex;flex-direction:column;transform:translateY(20px);opacity:0;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-container.open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;pointer-events:all}@media (max-width: 576px){.chat-container[_ngcontent-%COMP%]{width:calc(100% - 40px);bottom:80px;height:60vh}}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:2px}.message[_ngcontent-%COMP%]{max-width:85%}.message.user[_ngcontent-%COMP%]{margin-left:auto}.message.user[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{border-bottom-right-radius:4px!important;display:flex!important;justify-content:end!important}.message.ai[_ngcontent-%COMP%]{margin-right:auto}.message.ai[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{border-bottom-left-radius:4px!important}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px 0}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;background:#ffffff80;border-radius:50%;animation:_ngcontent-%COMP%_bounce 1.4s infinite ease-in-out both}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_bounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.x-small[_ngcontent-%COMP%]{font-size:.7rem}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff!important;opacity:1}"],changeDetection:0})};var Le=class a{toggle=new $;toggleChat(){this.toggle.emit()}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=I({type:a,selectors:[["app-chat-fab"]],outputs:{toggle:"toggle"},decls:2,vars:0,consts:[[1,"chat-fab","btn","btn-primary-gradient","rounded-circle","shadow-lg","d-flex","align-items-center","justify-content-center",3,"click"],[1,"bi","bi-stars","fs-4","text-white"]],template:function(n,o){n&1&&(nn(0,"button",0),ra("click",function(){return o.toggleChat()}),on(1,"i",1),an())},dependencies:[X],styles:[".chat-fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;z-index:1060;transition:transform .2s cubic-bezier(.4,0,.2,1)}.chat-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.chat-fab[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 576px){.chat-fab[_ngcontent-%COMP%]{bottom:80px}}"],changeDetection:0})};var Be=class a{networkStatus=new pe(navigator.onLine);networkStatus$=this.networkStatus.asObservable();constructor(){window.addEventListener("online",()=>{this.networkStatus.next(!0)}),window.addEventListener("offline",()=>{this.networkStatus.next(!1)})}isOnline(){return navigator.onLine}static \u0275fac=function(n){return new(n||a)};static \u0275prov=M({token:a,factory:a.\u0275fac,providedIn:"root"})};function vo(a,r){if(a&1){let n=G();p(0,"div",8)(1,"small"),_(2,"i",9),y(3," Install Expense Tracker for offline use "),p(4,"button",10),P("click",function(){S(n);let c=nt();return A(c.installPWA())}),y(5,"Install"),b()()()}}function _o(a,r){a&1&&(p(0,"div",11)(1,"small"),_(2,"i",12),y(3," You are offline. Data may not be up to date."),b()())}function yo(a,r){if(a&1){let n=G();p(0,"app-chat-fab",13),P("toggle",function(){S(n);let c=nt();return A(c.toggleChat())}),b()}}var Ve=class a{constructor(r,n,o){this.router=r;this.networkService=n;this.pwaService=o}title=Kn("exp-tracker");isOnline=!0;showInstallButton=!1;isMobile=!1;isChatOpen=!1;links=[{path:"/dashboard",label:"Dashboard",icon:"bi-house-door",activeIcon:"bi-house-door-fill"},{path:"/add",label:"Add Expense",icon:"bi-plus-circle",activeIcon:"bi-plus-circle-fill"},{path:"/expenses",label:"Expenses",icon:"bi-collection",activeIcon:"bi-collection-fill"},{path:"/budgets",label:"Budgets",icon:"bi-wallet",activeIcon:"bi-wallet-fill"},{path:"/incomes",label:"Incomes",icon:"bi-piggy-bank",activeIcon:"bi-piggy-bank-fill"}];ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.networkService.networkStatus$.subscribe(n=>{this.isOnline=n}),window.addEventListener("beforeinstallprompt",n=>{this.showInstallButton=this.pwaService.isInstallable()&&!this.hasSeenInstallBanner()}),window.addEventListener("appinstalled",()=>{this.showInstallButton=!1});let r=()=>{let n=this.pwaService.isInstallable();this.pwaService.canInstall()&&!this.hasSeenInstallBanner()&&(this.showInstallButton=!0)};setTimeout(r,1e3),setInterval(r,5e3)}toggleChat(){this.isChatOpen=!this.isChatOpen}installPWA(){}hasSeenInstallBanner(){return localStorage.getItem("installBannerSeen")==="true"}setInstallBannerSeen(){localStorage.setItem("installBannerSeen","true")}static \u0275fac=function(n){return new(n||a)(R(Nt),R(Be),R(Aa))};static \u0275cmp=I({type:a,selectors:[["app-root"]],decls:11,vars:6,consts:[["class","alert alert-info text-center py-2 m-0",4,"ngIf"],["class","alert alert-warning text-center py-1 m-0",4,"ngIf"],[1,"d-none","d-md-block"],[3,"links"],[1,"main-content"],[1,"d-block","d-md-none"],[3,"close","isOpen"],[3,"toggle",4,"ngIf"],[1,"alert","alert-info","text-center","py-2","m-0"],[1,"bi","bi-download","me-1"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click"],[1,"alert","alert-warning","text-center","py-1","m-0"],[1,"bi","bi-wifi-off","me-1"],[3,"toggle"]],template:function(n,o){n&1&&(j(0,vo,6,0,"div",0)(1,_o,4,0,"div",1),p(2,"div",2),_(3,"app-desktop-nav",3),b(),p(4,"div",4),_(5,"router-outlet"),b(),p(6,"div",5),_(7,"app-mobile-nav",3),b(),_(8,"app-toast"),p(9,"app-chat-interface",6),P("close",function(){return o.isChatOpen=!1}),b(),j(10,yo,1,0,"app-chat-fab",7)),n&2&&(v("ngIf",o.showInstallButton&&!o.isOnline),f(),v("ngIf",!o.isOnline&&!o.showInstallButton),f(2),v("links",o.links),f(4),v("links",o.links),f(2),v("isOpen",o.isChatOpen),f(),v("ngIf",!o.isChatOpen))},dependencies:[X,bt,Ae,Oe,Re,ve,Fe,Le],styles:[".main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;height:calc(100vh - 60px);position:relative;z-index:1}app-swipe-layout[_ngcontent-%COMP%]{display:block;flex:1;height:100%;overflow:hidden}app-swipe-container[_ngcontent-%COMP%]{touch-action:pan-y}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{height:calc(100vh - 56px)}app-swipe-layout[_ngcontent-%COMP%]{padding-bottom:56px;height:calc(100vh - 56px)}}@media (min-width: 769px){app-swipe-layout[_ngcontent-%COMP%]{padding-top:48px;height:calc(100vh - 48px)}}"]})};var Ac=Oi(Ga());xa(Ve,Fa).catch(a=>console.error(a));
