import{f as O,j as E}from"./chunk-2SZTMAPC.js";import{a as D}from"./chunk-OEZB3IPE.js";import"./chunk-2RFL6TEX.js";import"./chunk-4TPA7VXD.js";import{Fa as a,Fb as M,Hb as _,Ka as b,Qa as f,Ua as v,db as s,eb as i,ec as S,fb as o,fc as C,ga as u,gb as d,ha as h,ib as I,jb as g,kb as p,kc as N,mc as w,vb as m,wb as y,xb as x}from"./chunk-K5WJW7RS.js";function F(r,t){if(r&1){let e=I();i(0,"tr")(1,"td"),m(2),o(),i(3,"td"),m(4),M(5,"number"),o(),i(6,"td")(7,"button",12),g("click",function(){let c=u(e).$implicit,l=p();return h(l.deleteIncome(c.id))}),d(8,"i",13),o()()()}if(r&2){let e=t.$implicit,n=p();a(2),y(n.formatIncomeDate(e.id)),a(2),x("PKR ",_(5,2,e.amount,"1.2-2"))}}function k(r,t){r&1&&(i(0,"tr")(1,"td",14),m(2," No monthly incomes set yet. "),i(3,"a",15),m(4,"Set your first income"),o(),m(5,". "),o()())}var L=class r{constructor(t){this.incomeService=t}monthlyIncomes=[];currentYear=new Date().getFullYear();currentMonth=new Date().getMonth()+1;months=[{value:1,name:"January"},{value:2,name:"February"},{value:3,name:"March"},{value:4,name:"April"},{value:5,name:"May"},{value:6,name:"June"},{value:7,name:"July"},{value:8,name:"August"},{value:9,name:"September"},{value:10,name:"October"},{value:11,name:"November"},{value:12,name:"December"}];ngOnInit(){this.loadMonthlyIncomes()}loadMonthlyIncomes(){this.monthlyIncomes=this.incomeService.getAllMonthlyIncomes().sort((t,e)=>{let[n,c]=t.id.split("-").map(Number),[l,P]=e.id.split("-").map(Number);return n!==l?l-n:P-c})}getMonthName(t){return this.months.find(e=>e.value===t)?.name||""}deleteIncome(t){if(confirm("Are you sure you want to delete this monthly income?")){let[e,n]=t.split("-").map(Number);this.incomeService.deleteMonthlyIncome(e,n)&&this.loadMonthlyIncomes()}}formatIncomeDate(t){let[e,n]=t.split("-").map(Number);return`${this.getMonthName(n)} ${e}`}static \u0275fac=function(e){return new(e||r)(b(D))};static \u0275cmp=f({type:r,selectors:[["app-income-list"]],decls:24,vars:2,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["routerLink","/set-income",1,"btn","btn-primary"],[1,"bi","bi-plus-lg","me-1"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],["title","Delete",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["colspan","3",1,"text-center","text-muted"],["routerLink","/set-income"]],template:function(e,n){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2"),m(3,"Monthly Incomes"),o(),i(4,"a",2),d(5,"i",3),m(6," Set New Income "),o()(),i(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"table",9)(13,"thead")(14,"tr")(15,"th"),m(16,"Month & Year"),o(),i(17,"th"),m(18,"Income Amount"),o(),i(19,"th"),m(20,"Actions"),o()()(),i(21,"tbody"),v(22,F,9,5,"tr",10)(23,k,6,0,"tr",11),o()()()()()()()()),e&2&&(a(22),s("ngForOf",n.monthlyIncomes),a(),s("ngIf",n.monthlyIncomes.length===0))},dependencies:[w,S,C,E,O,N],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 6px #0000001a}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;border-top:none}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.btn-sm[_ngcontent-%COMP%]{padding:.2rem .4rem;font-size:.8rem}}"]})};export{L as IncomeListComponent};
